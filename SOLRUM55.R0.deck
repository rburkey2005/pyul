* 1800A JOB 55-238-50  YUL SYSTEM
*       YUL
Y  YUL  ADD NEW COMPUTER AGC4
Y  YUL  ASSEMBLY PASS 1 FOR AGC4 IS AVAILABLE
Y  YUL  ASSEMBLY PASS 2 FOR AGC4 IS AVAILABLE
Y  YUL  ASSEMBLY PASS 3 FOR AGC4 IS AVAILABLE
Y  YUL  ASSEMBLE NEW AGC4 PROGRAM SOLRUM55 BY NASA 1021108-021
L 001   ASSEMBLY AND OPERATION INFORMATION
R0001  2TABLE OF LOG CARDS              (ALL LOG CARDS ARE TWO SPACED)
R0002   ASSEMBLY AND OPERATION INFORMATION
R0003   ERASABLE ASSIGNMENTS
R0004   INTERRUPT TRANSFER ROUTINES
R0005   FIXED-FIXED INTERPRETER SECTION
R0006   BANK 03 INTERPRETER SECTION
R0007   EXECUTIVE
R0008   WAITLIST
R0009   RESTART CONTROL
R0010   501 RESTART TABLES AND ROUTINES
R0011   FRESH START AND RESTART
R0012   DOWN-TELEMETRY PROGRAM
R0013   T4RUPT OUTPUT CONTROL PROGRAMS
R0014   MODE SWITCHING AND MARK ROUTINES
R0015   IMU COMPENSATION PACKAGE
R0016   IRIG PULSE-TORQUING ROUTINES
R0017   EXTENDED VERBS FOR MODING
R0018   AGC SELF-CHECK
R0019   INTER-BANK COMMUNICATION
R0020   ALARM AND DISPLAY PROCEDURES
R0021   ORBITAL INTEGRATION PROGRAM
R0025   ORBITAL INTEGRATION FOR 501
R0028   PRELAUNCH ALIGNMENT PROGRAM
R0029   INFLIGHT ALIGNMENT PROGRAM
R0030   RTB OP CODES
R0031   IMU PERFORMANCE TESTS 1
R0032   IMU PERFORMANCE TESTS 2
R0033   INFLIGHT ALIGNMENT SUBROUTINES
R0034   KEYRUPT, UPRUPT, FRESH START
R0035   PINBALL GAME  BUTTONS AND LIGHTS
R0036   501 MISSION CONTROL PROGRAM
R0037   POWERED FLIGHT SUBROUTINES
R00375  TIME OF FREE-FALL CALCULATIONS
R0038   DUMMY 501 INITIALISATION
R0039   RE-ENTRY CONTROL
R0040   AVERAGE G INTEGRATOR
R0041   VERIFICATION ASSISTANCE PROGRAMS
R0042   SUM-CHECK END OF RECORD MARKS
P0043  3TABLE OF ERROR CODES
R0044  2OPTICS SUB-SYSTEM
R0045   00101    ZERO CDU SWITCH ALTERED BEFORE EXPIRATION OF 30 SECOND WAIT
R0046   00102    COMPUTER UNABLE TO ACHIEVE DESIRED OPTICS MODE
R0047   00103    SXT-ON SWITCH TURNED ON WITH OPTICS NOT IN ZERO CDU MODE
R0048   00104    NO VAC AREA AVAILABLE FOR MARKS
R0049   00105    INTERNAL MARKS REQUEST WITH MARK SYSTEM BUSY
R0050   00106    SXT-ON SWITCH NOT IN DESIRED STATE AT MARK TIME OR MARK WITH AL
 0051  9L REQUESTED MARKS ACCEPTED
R0052   00107    MARK ACCEPT WITH MARK SYSTEM NOT IN USE
R0053   00110    MARK ACCEPT WITH ALL REQUESTED MARKS ACCEPTED, OR NO MARKS SINC
 0054  9E INITIALIZATION OR LAST MARK ACCEPT
R0055  2IMU SUB-SYSTEM
R0056   00201    CDU ZERO SWITCH ALTERED BEFORE EXPIRATION OF 30 SECOND WAIT
R0057   00202    COMPUTER UNABLE TO ACHIEVE DESIRED MODE
R0058   00203    NO IMU MODE INDICATED TO COMPUTER
R0059   00204    MODE SWITCH WITH TRNSW IN COMPUTER CONTROL, BUT COMPUTER NOT CO
 0060  9MMANDING
R0061  2GENERAL MISSION PROGRAM ERRORS (ERROR RETURN ON IMUSTALL, ETC.)
R0062   00301    CURTAINS PROGRAM
R0063  2PROCEDURAL DIFFICULTY
R0064   00401    DESIRED GIMBAL ANGLES YIELD GIMBAL LOCK (MGA GREATER THAN 60 DE
 0065  9GREES).
R0066   00402    STAR OUT OF FIELD OF VIEW
R0067   00403    STAR OUT OF FIELD OF VIEW
R0068  2COMPUTER HARDWARE MALFUNCTIONS
R0069   01101    RUPT2 OCCURRED
R0070   01102    AGC SELF TEST ERROR (Q IN SFAIL)
R0071   01103    UNUSED CCS BRANCH EXECUTED
R0072   01104    C-RELAY FAILED DURING C-RELAY TEST
R0073  2LIST OVERFLOWS (ALL ABORTS)
R0074   01201    EXECUTIVE OVERFLOW - NO VAC AREAS
R0075   01202    EXECUTIVE OVERFLOW - NO CORE SETS
R0076   01203    WAITLIST OVERFLOW - TOO MANY TASKS
R0077   01204    SLIGHT VARIATION OF 01203
R0078   01205    MASTER CONTROL OVERFLOW - TOO MANY JOBS WAITING
R0079   01206    KEYBOARD + DISPLAY WAITING LINE OVERFLOW
R0080   01207    NO VAC AREA FOR MARKS
R0081   01210    SOMETHING ALREADY WAITING IN IMUSTALL
R0082  2INTERPRETER ERRORS
R0083   01301    ARCCOS-ARCSIN INPUT ANGLE TOO LARGE
R0084   01302    SQRT CALLED WITH NEGATIVE ARGUMENT
R0085  2DISPLAY ALARMS
R0086   01401    (VG) INCREASING - LOSS OF CONTROL
R0087   01402    (DELV) TOO LOW - ENGINE NOT ON
R00871  01403    501 ABORT. WILL OVERSHOOT TARGET.
R00872  01404    501 ABORT. PRESENT SMA LESS THAN RE/2
R00873  01405    501 ABORT. COT SQ(GAMMA E) NEGATIVE.
R00874  01406    501 ABORT. FREE-FALL ANGLE EXEEDS ---
R00875  01407    COMMANDED CDUZ EXCEEDS 60 DEGREES
R00876 201411    TIME TO INCORPORATE AVE G UPDATE ALREADY PAST
R0088  2KEYBOARD AND DISPLAY PROGRAM
R0089   01501    KEYBOARD AND DISPLAY ALARM DURING INTERNAL USE (NVSUB). ABORT
P0090  4VERB DEFINITIONS
R0091    REGULAR VERBS
R0092   01  DISPLAY OCTAL COMP 1 (R1)
R0093   02  DISPLAY OCTAL COMP 2 (R1)
R0094   03  DISPLAY OCTAL COMP 3 (R1)
R0095   04  DISPLAY OCTAL COMP 1,2 (R1,R2)
R0096   05  DISPLAY OCTAL COMP 1,2,3 (R1,R2,R3)
R0097   06  DECIMAL DISPLAY
R0098   07  DP DECIMAL DISPLAY (R1,R2)
R0099   10  REQUEST WAITLIST
R0100   11  MONITOR OCT COMP 1 (R1)
R0101   12  MONITOR OCT COMP 2 (R1)
R0102   13  MONITOR OCT COMP 3 (R1)
R0103   14  MONITOR OCT COMP 1,2 (R1)
R0104   15  MONITOR OCT COMP 1,2,3 (R1,R2,R3)
R0105   16  MONITOR DECIMAL
R0106   17  MONITOR DP DECIMAL (R1,R2)
R0107   20  REQUEST EXECUTIVE
R0108   21  LOAD COMP 1 (R1)
R0109   22  LOAD COMP 2 (R2)
R0110   23  LOAD COMP 3 (R3)
R0111   24  LOAD COMP 1,2 (R1,R2)
R0112   25  LOAD COMP 1,2,3 (R1,R2,R3)
R0113   26  SPARE
R0114   27  SPARE
R0115   30  SPARE
R0116   31  BANK DISPLAY
R0117   32  C(R2) INTO R3, C(R1) INTO R2
R0118   33  PROCEED WITHOUT DATA
R0119   34  TERMINATE CURRENT TEST OR LOAD REQUEST
R0120   35  RELEASE DISPLAY SYSTEM
R0121   36  FRESH START
R0122   37  CHANGE MAJOR MODE
R0123  4END OF REGULAR VERBS
R0124   EXTENDED VERBS
R0125   40  ZERO (USED WITH NOUN ICDU OR OCDU)
R0126   41  COARSE ALIGN (USED WITH NOUN ICDU OR OCDU)
R0127   42  FINE ALIGN IMU
R0128   43  LOCK IMU
R0129   44  SET IMU TO ATTITUDE CONTROL
R0130   45  SET IMU TO RE-ENTRY CONTROL
R0131   46  RETURN IMU TO COARSE ALIGN
R0132   47  OPTICAL TRACKER ON (NOT IN USE YET)
R0133   50  PLEASE PERFORM
R0134   51  PLEASE MARK
R0135   52  MARK REJECT (UNTIL BUTTON AVAILABLE)
R0136   53  FREE (USED WITH NOUN ICDU OR OCDU)
R0137   54  PULSE TORQUE GYROS
R0138   55  ALIGN TIME
R0139   56  PERFORM BANKSUM
R0140   57  DO SYSTEM TEST
R0141   60  PREPARE FOR STANDBY
R0142   61  RECOVER FROM STANDBY
R0143   62  ILLEGAL VERB
R0144   63  ILLEGAL VERB
R0145   64  ILLEGAL VERB
R0146   65  ILLEGAL VERB
R0147   66  ILLEGAL VERB
R0148   67  ILLEGAL VERB
R0149   70  ILLEGAL VERB
R0150   71  DO TFFMIN UPDATE
R0151   72  ABORT
R0152   73  ILLEGAL VERB
R0153   74  ILLEGAL VERB
R0154   75  MANUAL I/O FOR FLIGHTS
R0155   76  DO RVT UPDATE
R0156   77  DO L/O TIME UPDATE
P0157   NORMAL NOUNS                                       SCALE AND DECIMAL POI
 0158  9NT
R0159   00  NOT IN USE
R0160   01  SPECIFY MACHINE ADDRESS (FRACTIONAL)           (.XXXXX)
R0161   02  SPECIFY MACHINE ADDRESS (WHOLE)                (XXXXX.)
R0162   03  SPECIFY MACHINE ADDRESS (DEGREES)              (XXX.XXDEGREES)
R0163   04  SPECIFY MACHINE ADDRESS (HOURS)                (XXX.XXHOURS)
R0164   05  SPECIFY MACHINE ADDRESS (SECONDS)              (XXX.XXSECONDS)
R0165   06  SPECIFY MACHINE ADDRESS (GYRO DEGREES)         (XX.XXXDEGREES)
R0166   07  SPECIFY MACHINE ADDRESS (Y OPT DEGREES)        (XXX.XXDEG OR XX.XXXD
 0167  9EG)
R0168   10  SPARE
R0169   11  SPARE
R0170   12  SPARE
R0171   13  SPARE
R0172   14  SPARE
R0173   15  INCREMENT MACHINE ADDRESS                      (OCTAL ONLY)
R0174   16  TIME SECONDS                                   (XXX.XXSECONDS)
R0175   17  TIME HOURS                                     (XXX.XXHOURS)
R0176   20  ICDU                                           (XXX.XXDEGREES)
R0177   21  PIPAS                                          (XXXXX.PULSES)
R0178   22  NEW ANGLES I                                   (XXX.XXDEGREES)
R0179   23  DELTA ANGLES I                                 (XXX.XXDEGREES)
R0180   24  DELTA TIME (SECONDS)                           (XXX.XXSECONDS)
R0181   25  CHECKLIST                                      (XXXXX.)
R0182   26  PRIO/DELAY                                     (XXXXX.)
R0183   27  SELF TEST ON/OFF SWITCH                        (XXXXX.)
R0184   30  STAR NUMBERS                                   (XXXXX.)
R0185   31  FAILREG, SFAIL, ERCOUNT                        (OCTAL ONLY)
R0186   32  DECISION TIME (MIDCOURSE)                      (XXX.XXHOURS (INTERNA
 0187  9L UNITS = WEEKS))
R0188   33  EPHEMERIS TIME (MIDCOURSE)                     (XXX.XXHOURS (INTERNA
 0189  9L UNITS = WEEKS))
R0190   34  MEASURED QUANTITY (MIDCOURSE)                  (XXXX.XKILOMETERS)
R0191   35  ROLL, PITCH, YAW                               (XXX.XXDEGREES)
R0192   36  LANDMARK DATA 1                                (OCTAL ONLY)
R0193   37  LANDMARK DATA 2                                (OCTAL ONLY)
R0194   40  VG FOR 501                                     (XXXX.X METERS/SEC)
R0195   41  SPARE
R0196   42  SPARE
R0197   43  SPARE
R0198   44  SPARE
R0199   45  SPARE
R0200   46  SPARE
R0201   47  SPARE
R0202   50  SPARE
R0203   51  SPARE
R0204   52  GYRO BIAS DRIFT                                (.BBXXXXXMILLIRAD/SEC
 0205  9)
R0206   53  GYRO INPUT AXIS ACCELERATION DRIFT             (.BBXXXXX(MILLIRAD/SE
 0207  9C)/(CM/SEC SEC))
R0208   54  GYRO SPIN AXIS ACCELERATION DRIFT              (.BBXXXXX(MILLIRAD/SE
 0209  9C)/(CM/SEC SEC))
R0210  4END OF NORMAL NOUNS
R0211   MIXED NOUNS                                        SCALE AND DECIMAL POI
 0212  9NT
R0213   55  OCDU                                           (XXX.XXDEG, XXX.XXDEG
 0214  9 OR XX.XXXDEG)
R0215   56  UNCALLED MARK DATA (OCDU & TIME(SECONDS))      (XXX.XXDEG, XXX.XXDEG
 0216  9 OR XX.XXXDEG, XXX.XXSEC)
R0217   57  NEW ANGLES OCDU                                (XXX.XXDEG, XXX.XXDEG
R0218  9 OR XX.XXXDEG)
R0219   60  IMU MODE STATUS (IN3, WASKSET, OLDERR)         (OCTAL ONLY)
R0220   61  TARGET AZIMUTH AND ELEVATION                   (XXX.XXDEG, XX.XXXDEG
 0221  9)
R0222   62  RE-ENTRY VARIABLES                             (XXX.XXSEC, XXXXX., X
 0223  9XXXX.)
R0224   63  OCDUX AND TIME                                 (XXX.XXDEG, XXX.XXSEC
 0225  9)
R0226   64  OCDUY AND TIME                                 (XXX.XXDEG OR XX.XXXD
 0227  9EG, XXX.XXSEC)
R0228   65  SAMPLED TIME (HOURS AND SECONDS)               (XXX.XXHOURS, XXX.XXS
 0229  9EC)
R0230           (FETCHED IN INTERRUPT)
R0231   66  SYSTEM TEST RESULTS                            (XXXXX., .XXXXX, XXXX
 0232  9X.)
R0233   67  DELTA GYRO ANGLES                              (XX.XXXDEG  FOR EACH)
R0234   70  PIPA BIAS                                      (X.XXXXCM/SEC SEC  FO
 0235  9R EACH)
R0236   71  PIPA SCALE FACTOR ERROR                        (XXXXX.PARTS/MILLION
 0237  9 FOR EACH)
R0238   72  DELTA POSITION                                 (XXXX.XKILOMETERS  FO
 0239  9R EACH)
R0240   73  DELTA VELOCITY                                 (XXXX.XMETERS/SEC  FO
 0241  9R EACH)
R0242   74  MEASUREMENT DATA (MIDCOURSE)                   (XXX.XXHOURS (INTERNA
 0243  9L UNITS=WEEKS), XXXX.XKILOMETERS, XXXXX.
R0244   75  MEASUREMENT DEVIATIONS (MIDCOURSE)             (XXXX.XKILOMETERS, XX
 0245  9XX.XMETERS/SEC, XXXX.XKILOMETERS)
R0246   76  POSITION VECTOR                                (XXXX.XKILOMETERS  FO
 0247  9R EACH)
R0248   77  VELOCITY VECTOR                                (XXXX.XMETERS/SEC  FO
 0249  9R EACH)
P0250  4MAJOR MODES FOR FLIGHT 501
R0251  4         00     IDLING
R0252  2         0X     PRELAUNCH
R0253            01     INITIALIZATION
R0254            02     GYROCOMPASSING
R0255            03     OPTICAL VERIFICATION
R0256            04     INERTIAL REFERENCE
R02561           05     VERTICAL ERECT.  (COUNTING)
R02562 2         06     VERTICAL ERECT.  (UNCONDITIONAL)
R0257  4         07     SYSTEM TEST
R0258  2         1X     BOOSTER MONITOR
R0259  2         11     FIRST STAGE BOOSTER MONITORING
R0260  4         14     SIV-B BOOSTER MONITOR WITH TUMBLE MON. ON
R0261  2         2X     COASTING PHASE
R0262            21     MANEUVER TO COLDSOAK ATTITUDE
R0263            22     HOLD ATTITUDE DURING ORBITAL INTEGRATION
R0264            23     HOLD ATTITUDE
R0265  2         24     HOLD ATTITUDE WITH STATE VECTOR UPDATE ALLOWED.
R02655           26     HOLD SPS2 ATTITUDE AND WAIT FOR TFF = TFFMIN
R0266  4         27     R, V, T UPDATING
R0267  2         3X     PRE-THRUSTING PHASES
R0268            31     PRE-SPS1
R0269  4         32     PRE-SPS2
R0270  2         4X     THRUSTING PHASES
R0271            41     SPS1
R0272  4         42     SPS2
R0275  4         5X     ALIGNMENT
R0276  2         6X     ENTRY
R0277            61     CM/SM SEPARATION MANEUVER
R0278            62     PRE-ENTRY MANEUVER
R0279            63     INITIATE ENTRY STEERING
R0280            64     .05 G INDICATION
R0281            65     UP-CONTROL PHASE
R0282            66     BALLISTIC PHASE
R0283  4         67     FINAL PHASE
R0284  2         7X     ABORT PHASES
R0285            71     POST-TUMBLE ATTITUDE RECOVERY
R0286            72     FREE-FALL ENTRY ABORT
R0287            73     ABORT BURN
R0288  2         74     TUMBLE ARREST BURN
R0289            77     G+N FLUSHED
P0290  2JOB PRIORITIES FOR 501
R0291   PRIO37 = DOALARM
R0292   PRIO36 = NWJOB
R0293   PRIO35 = BIASONLY
R0294          = 1/GYRO
R0295          = ENEMA
R0296          = MODE32
R0297          = MODE26
R0298   PRIO33 = POSTBY3
R0299          = CHARIN
R0300   PRIO32 = MKVB50
R0301          = MKVB51
R0302          = REMKVB51
R0303   PRIO31 = SPITGYRO
R0304          = MONDO
R0305          = FREDSPDO
R0306   PRIO27 = SPITGYRO
R0307          = ENEMA
R0308          = S4BSMSEP
R0309   PRIO25 = ABORTEST
R0310          = REDO4.21
R0311          = BEGIN501
R0312   PRIO24 = LIFTOFF
R0313   PRIO23 = MANUJOB
R0314   PRIO22 = TUMBJOB1
R0315          = TUMBJOB
R0316   PRIO21 = CGJOB
R0317   PRIO20 = TOP1
R0318          = TSELECT
R0319          = PRAWAKE
R0320          = STARTPL2
R0321          = GYRDRFT2
R0322          = CDUXJOB
R0323   PRIO16 = SERVICER
R0324          = ENTRYTOP
R0325   PRIO15 = SMOOTHER
R0326   PRIO14 = CHKOPT
R0327          = UPTHETA1
R0328   PRIO13 = SOAKJOB
R0329   PRIO12 = TARGJOB
R0330          = SOAKINIT
R0331          = ATTIJOB
R0332          = ATTIJOB1 -1
R0333          = ATTIJOB2
R0334          = SEPMANU
R0335          = ENTAJOB
R0336   PRIO10 = ROLLJOB
R0337   PRIO7  = MODE23
R0338          = MODE44
R0339   PRIO6  = UPJOB
R03395  PRIO5  = MONITJOB
R0340          = MARKDISP
R0341   PRIO2  = FXFXCHK
L      2ERASABLE ASSIGNMENTS
R0001   COUNTER AND SPECIAL REGISTER TAGS
R0002  2------- --- ------- -------- ----
 0003   A        EQUALS 0
 0004   Q        EQUALS 1
 0005   Z        EQUALS 2
 0006   LP       EQUALS 3
 0007   IN0      EQUALS 4
 0008   IN1      EQUALS 5
 0009   IN2      EQUALS 6
 0010   IN3      EQUALS 7
 0011   OUT0     EQUALS 10
 0012   OUT1     EQUALS 11
 0013   OUT2     EQUALS 12
 0014   OUT4     EQUALS 14
 0015   BANKREG  EQUALS 15
 0016   RELINT   EQUALS 16
 0017   INHINT   EQUALS 17
 0018   CYR      EQUALS 20
 0019   SR       EQUALS 21
 0020   CYL      EQUALS 22
 0021   SL       EQUALS 23
 0022   ZRUPT    EQUALS 24
 0023   BRUPT    EQUALS 25
 0024   ARUPT    EQUALS 26
 0025  2QRUPT    EQUALS 27
 0026   BANKRUPT EQUALS 30
 0027   OVRUPT   EQUALS 31
 0028   LPRUPT   EQUALS 32
 0029  2DSRUPTSW EQUALS 33              T4RUPT PHASE COUNT GOES 7(-1)0
 0030   OVCTR    EQUALS 34
 0031   TIME2    EQUALS 35
 0032   TIME1    EQUALS 36
 0033   TIME3    EQUALS 37
 0034   TIME4    EQUALS 40
 0035   UPLINK   EQUALS 41
 0036   OUTCR1   EQUALS 42
 0037   OUTCR2   EQUALS 43
 0038   PIPAX    EQUALS 44
 0039   PIPAY    EQUALS 45
 0040   PIPAZ    EQUALS 46
 0041   CDUX     EQUALS 47
 0042   CDUY     EQUALS 50
 0043   CDUZ     EQUALS 51
 0044   OPTX     EQUALS 52
 0045   OPTY     EQUALS 53
P0046  2         INTERPRETIVE SPECIAL REGISTERS CONTAINED IN THE WORK AREA.
 0047   VAC      EQUALS 32D             RELATIVE TO FIXLOC
 0048   VACX     EQUALS VAC
 0049   VACY     EQUALS VAC  + 2
 0050   VACZ     EQUALS VAC  + 4
 0051   X1       EQUALS 38D             INDEXES ARE RELATIVE TO FIXLOC
 0052   X2       EQUALS 39D
 0053   S1       EQUALS 40D             AND SO ARE STEP REGISTERS
 0054   S2       EQUALS 41D
 0055  8QPRET    EQUALS 42D             AS IS QPRET
 0056  2         SETLOC 60
R0057            THE FOLLOWING REGISTERS ARE USED BY THE INTERPRETER, AND MAY BE
 0058  9 USED BY A BASIC JOB OR BASIC
R0059   PORTIONS OF AN INTERPRETIVE JOB (SOME RESTRICTIONS APPEAR WITH RTB FOLLO
 0060  9WED BY TC DANZIG, BUT THE NINE REGISTERS
R0061   VBUF AND BUF ARE AVAILABLE THEN). THE REGISTERS ARE NOT SAVED IN THEIR E
 0062  9NTIRETY DURING CHANGE JOB (MOST OF THEM
R0063  2ARE IGNORED), SO THAT THESE MUST BE USED ONLY AS TEMPORARIES BETWEEN ANY
 0064  9 CCS NEWJOBS.
 0065   NNADTEM  EQUALS 54              TEMP FOR NOUN ADDRESS TABLE ENTRY.
 0066   NNTYPTEM EQUALS 55              TEMP FOR NOUN TYPE TABLE ENTRY.
 0067   IDAD1TEM EQUALS 56              TEMP FOR INDIR ADRES TABLE ENTRY(MIXNN)
A0068                                   MUST = IDAD2TEM-1, = IDAD3TEM-2.
 0069   IDAD2TEM EQUALS 57              TEMP FOR INDIR ADRES TABLE ENTRY(MIXNN)
A0070                                   MUST = IDAD1TEM+1, = IDAD3TEM-1.
 0071   IDAD3TEM ERASE                  TEMP FOR INDIR ADRES TABLE ENTRY(MIXNN)
A0072  4                                MUST = IDAD1TEM+2, = IDAD2TEM+1.
 0073   BANKSET  ERASE                  STORAGE FOR BANK BITS OF OBJECT PROGRAM
 0074   ADDRWD   ERASE                  THIS WILL CONTAIN A PROPER 12 BIT ADDR
 0075   ORDER    ERASE                  STORAGE FOR RIGHT-HAND OPERATORS
 0076   UPDATRET =      ORDER           RETURN FOR UPDATNN, UPDATVB
 0077   CHAR     =      ORDER           TEMP FOR CHARIN
 0078   ERCNT    =      ORDER           COUNTER FOR ERROR LIGHT RESET
 0079   DECOUNT  =      ORDER           COUNTER FOR SCALING AND DISPLAY (DEC)
 0080   TEM11    ERASE
 0081   SGNON    =      TEM11           TEMP FOR +,- ON
 0082   NOUNTEM  =      TEM11           COUNTER FOR MIXNOUN FETCH
 0083   DISTEM   =      TEM11           COUNTER FOR OCTAL DISPLAY VERBS
 0084   DECTEM   =      TEM11           COUNTER FOR FETCH (DEC DISPLAY VERBS)
 0085   DECTEM1  =      TEM11           TEMP FOR NUM
 0086   MODE     ERASE                  DENOTES VECTOR, DP, OR TP.
 0087   ENTRET   =      MODE            EXIT FROM ENTER
 0088   LOADIND  ERASE                  LOAD INDICATOR
 0089   NEWEQIND EQUALS LOADIND
 0090   MONTEM   =      NEWEQIND        TEMP RETURN FOR MONITOR
 0091   FIXLOC   ERASE                  ADDRESS OF CURRENT VAC AREA
 0092   VACLOC   ERASE                  ADDRESS OF CURRENT VAC (= FIXLOC+32D)
 0093   VBUF     ERASE  +5              6 WORD TEMPORARY BLOCK FOR VXV, MXV, ETC
 0094   TEMQS    EQUALS VBUF            TEMP STORAGE FOR SWCALL ROUTINE
 0095   BANKTEM  EQUALS VBUF +1         LIKEWISE
 0096   B        EQUALS VBUF +2         ARGUMENT STORAGE IN FUNCTIONS
 0097   PROGREG  =      VBUF    +2      FOR GO EXEC PROGRAM
 0098   MIXTEMP  =      VBUF    +2      FOR MIXNOUN DATA
 0099   SIGNRET  =      VBUF    +2      RETURN FOR +,- ON
R0100   ALSO PROGREG+1 ,PROGREG+2.  MIXTEMP+1, MIXTEMP+2.
 0101   ESCAPE2  EQUALS VBUF +4         NEGATIVE ARGUMENT SWITCH IN ARCCOS
 0102   TAG1     EQUALS VBUF +4         USED FOR PICKING UP INDEX AND STEP REGS
 0103   TEMQ3    EQUALS VBUF +5         RETURN FROM DDV AND SQRTDIV
 0104   POLISH   EQUALS VBUF +5         TEMPORARY STORAGE FOR COMPLETE ADDRESSES
 0105   WDCNT    =      VBUF    +5      CHAR COUNTER FOR DSPWD
 0106   INREL    =      VBUF    +5      INPUT BUFFER SELECTOR ( X,Y,Z, REG )
 0107   BUF      ERASE  +2              USED BY DMP1, SQRTDIV
 0108   LOGTEM   EQUALS BUF             LOG SUBROUTINE TEMP.
 0109   SGNDMAX  EQUALS BUF +2          USED IN TPAGREE
 0110   TEM3     EQUALS BUF +2
 0111   GCOMPSW  EQUALS BUF +2
 0112   TEM2     ERASE
 0113   DSREL    =      TEM2            REL ADDRESS FOR DSPIN(TEM2 USED BY DAD1)
 0114   TEM4     ERASE
 0115   TEMQ     EQUALS TEM4            RETURN FROM TPAGREE
 0116   DSMAG    =      TEM4            MAGNITUDE STORE FOR DSPIN
 0117   IDADDTEM =      TEM4            MIXNOUN INDIRECT ADDRESS STORAGE
 0118   TEM5     ERASE
 0119   TEMQ2    EQUALS TEM5
 0120   BASE     =      TEM5
 0121   COUNT    =      TEM5            FOR DSPIN  (TEM5 IS USED BY DAD)
 0122   TEM8     ERASE
 0123   TEM6     EQUALS TEM8            ERASABLE ASSIGNMENTS BY EQUALS
 0124   TEM9     ERASE
 0125   WRDRET   =      TEM9            RETURN FOR 5BLANK
 0126   WDRET    =      TEM9            RETURN FOR DSPWD
 0127   DECRET   =      TEM9            RETURN FOR PUTCOM(DEC LOAD)
 0128   21/22REG =      TEM9            TEMP FOR CHARIN
 0129   TEM10    ERASE
 0130   IND      EQUALS TEM10           USED IN CROSS ROUTINE
 0131   MIXBR    =      TEM10           INDICATOR FOR MIXED OR NORMAL NOUN
 0132   DSPMMTEM =      TEM10           DSPCOUNT SAVE FOR DSPMM
 0133   DVSW     ERASE                  (THIS CAN PROBABLY BE EQUATED)
 0134   SGNOFF   =      DVSW            TEMP FOR +,- ON
 0135   NVTEMP   =      DVSW            TEMP FOR NVSUB
 0136   SFTEMP1  =      DVSW            STORAGE FOR SF CONST HI PART(=SFTEMP2-1)
 0137   DECTEM2  =      DVSW            TEMP FOR NUM
 0138   BRANCHQ  ERASE                  (DITTO)
 0139   CODE     =      BRANCHQ         FOR DSPIN
 0140   SFTEMP2  =      BRANCHQ         STORAGE FOR SF CONST LO PART(=SFTEMP1+1)
 0141   COMPON   ERASE                  (DITTO)
 0142   DSEXIT   =      COMPON          RETURN FOR DSPIN
 0143   EXITEM   =      COMPON          RETURN FOR SCALE FACTOR ROUTINE SELECT
 0144   BLANKRET =      COMPON          RETURN FOR 2BLANK
 0145   ARETURN  ERASE                  RETURN ADDRESS FOR ARCSIN/ARCCOS.
 0146   LSTPTR   =      ARETURN         LIST POINTER FOR GRABUSY
 0147   RELRET   =      ARETURN         RETURN FOR RELDSP
 0148  2FREERET  =      ARETURN         RETURN FOR FREEDSP
 0149   ESCAPE   ERASE                  ARCSIN/ARCCOS SWITCH
 0150  2CADRTEM  =      ESCAPE          TEMP STORAGE FOR GRAB ROUTINES
R0151  2         THE FOLLOWING REGISTERS ARE USED EXCLUSIVELY BY THE EXECUTIVE.
 0152   MPAC     ERASE  +2              MULTIPLE-PRECISION ACCUMULATOR
 0153   LOC      ERASE                  LOCATION COUNTER FOR OPERATOR WORDS
 0154   ADRLOC   ERASE                  LOCATION COUNTER FOR OPERAND ADDRESSES
 0155   OVFIND   ERASE                  0 FOR NO OVERFLOW, NON-ZERO OTHERWISE
 0156   PUSHLOC  ERASE                  NEXT AVAILABLE ENTRY IN PUSH-DOWN LIST
 0157  2PRIORITY ERASE                  PRIORITY OF CURRENT JOB
 0158  2         ERASE  +55D            EIGHT JOBS POSSIBLE
 0159  2NEWJOB   ERASE                  SET NON-ZERO TO SIGNAL EXECUTIVE RUPT
 0160   VAC1USE  ERASE                  SEE EXECUTIVE PROGRAMS FOR USE OF THESE
 0161   VAC1     ERASE  +42D            REGISTERS
 0162   VAC2USE  ERASE
 0163   VAC2     ERASE  +42D
 0164   VAC3USE  ERASE
 0165   VAC3     ERASE  +42D
 0166   VAC4USE  ERASE
 0167   VAC4     ERASE  +42D
 0168   VAC5USE  ERASE
 0169  2VAC5     ERASE  +42D
R0170  2         THE FOLLOWING REGISTERS ARE USED EXCLUSIVELY BY THE WAITLISTER.
 0171   LST1     ERASE  +6              DELTA T'S.
 0172   LST2     ERASE  +7              TASK CADRS.
 0173  2RUPTAGN  ERASE                  WAITLIST ADDITIONAL TASK INDICATOR.
 0174  2KEYTEMP2 =      RUPTAGN         TEMP FOR KEYRUPT, UPRUPT
R0175            THE FOLLOWING GROUP OF REGISTERS MAY BE USED AS TEMPORARY STORA
 0176  9GE BY ANY INTERRUPT PROGRAM OR BY ANY
R0177   PROGRAM WHICH INHIBITS INTERRUPT. CARE MUST BE TAKEN, HOWEVER, TO SEE TH
 0178  9AT THEY ARE NOT USED DURING A CALL
R0179  2TO THE EXECUTIVE (FOR EXAMPLE), FOR THE EXECUTIVE MAY USE THEM AS TEMPOR
 0180  9ARIES TOO.
 0181   EXECTEM1 ERASE                  THESE REGISTERS, EXECTEM1-3, MAY BE USED
 0182   RUPTSTOR =      EXECTEM1
 0183   IN1HITEM =      EXECTEM1        INTERRUPT TEMP FOR STANDBY PREP
 0184   EXECTEM2 ERASE                  AS SCRATCH STORAGE BY ANY PROGRAM WHICH
 0185   PROG     EQUALS EXECTEM2
 0186   IN1LOTEM =      EXECTEM2        INTERRUPT TEMP FOR STANDBY PREP
 0187   EXECTEM3 ERASE                  INHIBITS INTERRUPTS
 0188   ITEMP3   EQUALS EXECTEM3
 0189   SRRUPT   EQUALS EXECTEM3        SHORT STORAGE FOR SR DURING INTERRUPT.
 0190   LOOKRET  =      EXECTEM3        INTERRUPT TEMP FOR STANDBY PREP
 0191   EXECTEM4 ERASE
 0192   EXECTEM5 ERASE                  BANK RETURN FROM PHASE CONTROL.
 0193   NEWPRIO  ERASE                  PRIORITY OF NEW JOB
 0194   NVAL     =      NEWPRIO
 0195   DELT     =      NVAL
 0196   ITEMP1   =      NEWPRIO
 0197   WTEXIT   ERASE
 0198   ITEMP2   =      WTEXIT
 0199   KEYTEMP1 =      WTEXIT          TEMP FOR KEYRUPT, UPRUPT
 0200   DSRUPTEM =      WTEXIT          TEMP FOR DSPOUT
 0201   LOCCTR   ERASE                  USED TO LOCATE STORAGE FOR CORE REGISTRS
 0202  2PHASDATA EQUALS LOCCTR
R0211  2ERASABLE ASSIGNMENTS SPECIFIC TO PINBALL
 0212   VERBREG  ERASE                  VERB CODE
 0213   NOUNREG  ERASE                  NOUN CODE
 0214   XREG     ERASE                  R1 INPUT BUFFER
 0215   YREG     ERASE                  R2 INPUT BUFFER
 0216   ZREG     ERASE                  R3 INPUT BUFFER
 0217   XREGLP   ERASE                  LO PART OF XREG (FOR DEC CONV ONLY)
 0218   YREGLP   ERASE                  LO PART OF YREG (FOR DEC CONV ONLY)
 0219   ZREGLP   ERASE                  LO PART OF ZREG (FOR DEC CONV ONLY)
 0220   MODREG   ERASE                  MODE CODE
 0221   REQRET   ERASE                  RETURN REGISTER FOR LOAD
 0222   DSPCOUNT ERASE                  DISPLAY POSITION INDICATOR
 0223   DECBRNCH ERASE                  +DEC, - DEC, OCT INDICATOR
 0224            SETLOC 616             NEEDED FOR PINBALL AUTO CHECK
 0225   DSPTEM1  ERASE  +2              BUFFER STORAGE AREA 1 (MOSTLY FOR TIME)
 0226   LANDMARK EQUALS DSPTEM1
 0227   V75TEMP  EQUALS DSPTEM1
 0228   DSPTEM2  ERASE  +2              BUFFER STORAGE AREA 2 (MOSTLY FOR DEG)
 0229   NOUNADD  ERASE                  MACHINE ADDRESS FOR NOUN
 0230   MONSAVE  ERASE                  N/V CODE FOR MONITOR. ALSO ACTIVITY
 0231   MONSAVE1 ERASE                  NOUNADD STORAGE FOR MONITOR WITH MATBS
 0232   CADRSTOR ERASE                  ENDIDLE STORAGE
 0233   GRABLOCK ERASE                  INTERNAL INTERLOCK FOR DISPLAY SYSTEM
 0234   NVSBCADR ERASE                  NVSUB STORAGE FOR CALLING CADR
 0235   LOADSTAT ERASE                  STATUS INDICATOR FOR LOADTST
 0236   CLPASS   ERASE                  PASS INDICATOR FOR CLEAR
 0237  4DSPLIST  ERASE  +2              WAITING LIST FOR DSP SYST INTERNAL USE
R02371 2LONG-TERM STORAGE USED DURING INTERUPT, NOT USED BY EXECUTIVE, WAITLIST,
 02372 9 ETC.
 02373  RUPTREG1 ERASE
 02374  KSAMPTEM EQUALS RUPTREG1
 02375  RUPTREG2 ERASE
 02376  OSAMPTEM EQUALS RUPTREG2
 02377  RUPTREG3 ERASE
 02378 2RUPTREG4 ERASE
R0238  2MISCELLANEOUS RESERVATIONS
 0239  2SAMPTIME ERASE  +1              SAMPLED TIME FOR PINBALL REFERENCE.
R0240  2         INTERPRETER SWITCH ASSIGNMENTS.
 0241  2STATE    ERASE  +2              45 SWITCHES USED BY INTERPRETIVE PROGS.
 0242   DSPLOCK  EQUALS STATE           BIT 4
 0243   EXTVBACT EQUALS STATE           BIT 3
 0244   UPLOCK   EQUALS STATE           BIT 2
 0245   FLAGWRD1 EQUALS STATE +1
 0246  2FLAGWRD2 EQUALS STATE +2
 0247   JSWITCH  EQUALS 1               FREE-FALL INTEGRATION.
 0248   ABORTSIG EQUALS 2               SET WHEN GROUND ABORT V72 IS RECEIVED.
 0249   TFF2FLAG EQUALS 3               TOM D. NAMED THIS
 0250   BIASFLAG EQUALS 4               CAUSES DELV TO BE ZEROED AFTER 1/PIPA
 0251   NBSMBIT  EQUALS 5               IN-FLIGHT ALIGNMENT.
 0252   GONEPAST EQUALS 6                RE-ENTRY
 0253   RELVELSW EQUALS 7D              RE-ENTRY.
 0254   EGSW     EQUALS 8D              RE-ENTRY.
 0255   HUNTSW1  EQUALS 9D              RE-ENTRY.
 0256   HIND     EQUALS 10D             ENTRY.
 02565  VERIFLAG EQUALS 10D
A0257   DSKYFLAG EQUALS 11D             GUARDS AGAINST DOUBLE KEYBOARD ENTRIES.
A0258   DSPLOCK  EQUALS 12D             KEYBOARD/SUBROUTINE CALL INTERLOCK
A0259   EXTVBACT EQUALS 13D             EXTENDED VERB ACTIVITY
A0260   UPLOCK   EQUALS 14D             UPLINK INTERLOCK (ACTIVATED BY RECPTION
A0261  2                                OF A BAD CODE IN UPLINK)
 02615  INRLSW   EQUALS 15D             PROGSTALL NOT USED DURING ENTRY.
 0262  2PRGSW    EQUALS 15D             USED BY PRGSTALL.
 0263   COASTFLG EQUALS 17D             17 TO 47 ARE 501 SEQUENCE CONTROL FLAGS.
 0264   UPDATFLG EQUALS 18D
 0265   SOAKFLAG EQUALS 19D
 0266   SHTDNFLG EQUALS 20D
 0267   ACTIVFLG EQUALS 21D
 0268   INTPFLAG EQUALS 22D
 0269   INITFLAG EQUALS 23D
 0270   S4BSMFLG EQUALS 24D
 0271   INT1FLAG EQUALS 25D
 0272   MONITFLG EQUALS 26D
 0273   DVMONFLG EQUALS 27D
 0274   STEERFLG EQUALS 28D
 0275   ENTRYFLG EQUALS 29D
 0276   LIFTFLAG EQUALS 30D
 0277  2TUMBFLAG EQUALS 31D
 0278   DRIFTFLG EQUALS 33D
 0279   CDUXFLAG EQUALS 34D
 0280   BACKFLAG EQUALS 35D
 0281   ROLLFLAG EQUALS 36D
 0282   CALCFLAG EQUALS 37D
 0283   DOMANFLG EQUALS 38D
 0284   NEGFLAG  EQUALS 39D
 0285   BEGINFLG EQUALS 40D
 0286   SPS4FLAG EQUALS 41D
 0287   SPS3FLAG EQUALS 42D
 0288   SPS2FLAG EQUALS 43D
 0289   SPS1FLAG EQUALS 44D
 0290   TABTFLAG EQUALS 45D
 0291   ABRTFLAG EQUALS 46D
 0292  2ARRSTFLG EQUALS 47D
R0293  2         STORAGE USED BY PHASE CONTROL.
 0294   PHASETAB ERASE  +5              PHASE VALUES FOR 6 PROGRAMS
 0295   PHASE1   EQUALS PHASETAB
 0296   PHASE2   EQUALS PHASETAB + 1
 0297   PHASE3   EQUALS PHASETAB + 2
 0298   PHASE4   EQUALS PHASETAB + 3
 0299   PHASE5   EQUALS PHASETAB + 4
 0300   PHASE6   EQUALS PHASETAB + 5
 0301   PHASEBAR ERASE  +5              COMPLEMENTED COPY.
 0302   -PHASE1  EQUALS PHASEBAR
 0303   TBASE2   ERASE
 0304   TBASE3   ERASE
 0305   TBASE4   ERASE
 0306  2TBASE5   ERASE                   SHOULD COMPLETE THIS SET.
R0307  2         THE FOLLOWING REGISTERS ARE USED BY THE DOWNRUPT PROGRAM.
 0308   TELCOUNT ERASE                  ENDPULSE FREQUENCY MONITORING COUNTER.
 0309   LDATALST ERASE
 0310   DNLSTADR ERASE                  BASE ADDRESS OF APPROPRIATE TM LIST.
 0311   DNTMGOTO ERASE                  ADDRESS OF CURRENT DOWNLINK PHASE.
 0312   TMINDEX  ERASE                  STEPS THROUGH THE DOWNLIST
 0313   TMMARKER ERASE
 0314  2MARKERCT ERASE
R0315  2         THE FOLLOWING STORAGE IS USED BY T4RUPT.
 0316   CDUIND   ERASE                  IMU CDU STATUS INDICATOR AND INDEXER.
 0317   THETAD   ERASE  +2              SET OF THREE DEISRED ANGLES IN 2S COMPL.
 0318   OPTIND   ERASE                  OPTICS CDU STATUS INDICATOR AND INDEXER.
 0319  2DESOPTX  ERASE  +1              DESIRED OPTICS CDU ANGLES.
 0320   DSPCNT   ERASE                  STEPS THROUGH K-RELAY SLOTS IN DSPTAB.
 0321   NOUT     ERASE                  HOLDS NUMBER OF RELAY WORDS TO CHANGE.
 0322  2DSPTAB   ERASE  +13D            HOLDS STATE OF ALL RELAYS AND CHANGE INF
 0323  2OLDERR   ERASE                  LAST-SAMPLED SYSTEM ERROR BITS.
R0324  2         THE BITS OF OLDERR HAVE THE FOLLOWING MEANINGS:
R0325   BIT 1 = 1 IF THE PILOTS ATTITUDE BUTTON IS DEPRESSED.
R0326   BIT 2 = 1 IF RESTART FAILED (AND DID A FRESH START).
R0327   BIT 3 = 1 IF BIT 4 OF OUT1 WAS NOT INVERTED LAST NWJOB.
R0328   BIT 4 = 1 TO INHIBIT IMU FAIL FOR 5 SECONDS AFTER COARSE ALIGN.
R0329   BIT 5 = 1 IF CURTAINS CALLED (IMU MODING FAILURE, ETC.)
R0330   BIT10 = 1 IF CDU FAIL IS ON IN FINE ALIGN.
R0331   BIT11 = 1 IF PIPA FAIL IS ON.
R0332  2BIT12 = 1 IF IMU FAIL IS ON IN ANY MODE BUT COARSE ALIGN.
R0333            IN FLIGHT 501, BITS 2, 5, 11, AND 12 INHIBIT MAINTENANCE OF THE
 0334  9 NIGHT WATCHMAN ALARM
R0335  2SO THAT IF THEY ARE PRESENT FOR 2 CONSECUTIVE NWJOBS, G & N FAIL WILL BE
 0336  9 SENT TO THE MCP.
 0337   WASKSET  ERASE                  LAST SETTING OF IMU MODE SWITCHES.
 0338  2WASOPSET ERASE                  LAST SETTING OF OPTICS MODE SWITCHES.
 0339   DESKSET  ERASE                  DESIRED SETTING OF IMU MODE SWITCHES.
 0340  2DESOPSET ERASE                  DESIRED OPTICS MODES.
R0341  2         THE FOLLOWING REGISTERS ARE USED BY THE MODE SWITCHING AND MARK
 0342  9 PROGRAMS.
 0343   IMUCADR  ERASE                  USED BY IMUSTALL.
 0344   MODECADR EQUALS IMUCADR         FOR INDEXING PURPOSES.
 0345  2OPTCADR  ERASE                  USED BY OPTSTALL.
 0346   MARKSTAT ERASE                  MARK BUTTON STATUS REGISTER.
P0347  2         THE FOLLOWING STORAGE IS RESERVED FOR IMU COMPENSATION PARAMETE
 0348  9RS.
 0349   PBIASX   ERASE                  PIPA BIAS AND SCALE FACTOR TERMS
 0350   PIPABIAS EQUALS PBIASX          INTERMIXED.
 0351   PIPASCFX ERASE
 0352   PIPASCF  EQUALS PIPASCFX
 0353   PBIASY   ERASE
 0354   PIPASCFY ERASE
 0355   PBIASZ   ERASE
 0356  2PIPASCFZ ERASE
 0357   GBIASX   ERASE                  GYRO BIAS DRIFTS.
 0358   GBIASY   ERASE
 0359  2GBIASZ   ERASE
 0360   ADIAX    ERASE                  ACCELERATION SENSITIVE DRIFT ALONG THE
 0361   ADIAY    ERASE                  INPUT AXIS.
 0362  2ADIAZ    ERASE
 0363   ADSRAX   ERASE                  ACCELERATION SENSITIVE DRIFT
 0364   ADSRAY   ERASE                  ALONG THE SPIN-REFERENCE AXIS.
 0365  2ADSRAZ   ERASE
 0366  21/PIPADT ERASE                  DELTA TIME FOR 1/PIPA.
 0367  2OLDBT1   EQUALS   1/PIPADT      TIME1 STORAGE DURING FREE-FALL COMP.
 0368  2GCOMP    ERASE    +5            CONTAINS COMPENSATING GYRO TORQUES.
R0369  2         THE FOLLOWING INTERLOCK REGISTER IS USED BY THE GYRO ROUTINES.
 0370   LGYRO    ERASE                  ZERO IF GYROS AVAILABLE - ADDRESS OF
A0371                                   COMMANDS IF IN USE
P0372            THE FOLLOWING STORAGE CONTAINS REFERENCE VARIABLES FOR SEVERAL
 0373  9MISSION PROGRAMS. INCLUDED HERE ARE
R0374  4POSITION, VELOCITY, THEIR ASSOCIATED TIME, AND IMU STABLE MEMBER ORIENTA
 0375  9TION (WHEN THE IMU IS ALIGNED).
 0376   REFRRECT ERASE  +5              REFERENCE RECTIFICATION VECTORS.
 0377   REFVRECT ERASE  +5
 0378   DELTAV   ERASE  +5              REFERENCE DEVIATION VECTORS.
 0379   NUV      ERASE  +5
 0380  2REFRCV   ERASE  +5              REFERENCE CONIC POSITION VECTOR.
 0381   REFVCV   ERASE  +5              REFERENCE CONIC VELOCITY VECTOR.
 0382   REFTC    ERASE  +1              REFERENCE TIME SINCE RECTIFICATION.
 0383  2TE       ERASE  +1              TIME CORRESPONDING TO POSITION AND VEL.
 0384   REFXKEP  ERASE  +1              REFERENCE CONIC VARIABLE X.
 0385  2PBODY    ERASE
 0386   NSHIFT   ERASE                  AVERAGE G INTEGRATOR PARAMETERS REQUIR-
 0387   XSHIFT   ERASE                  ING PERMANENT STORAGE
 0388   CALCG    ERASE
 0389  2UNITW    ERASE  +5
 0390   RN       EQUALS REFRRECT        SYMBOLS FOR POSITION AND VELOCITY
 0391   RPIP     EQUALS REFRRECT        DURING ACCELERATED PHASES.
 0392   VN       EQUALS REFVRECT
 0393  2VPIP     EQUALS REFVRECT
 0394   DELV     EQUALS DELTAV          PIPA DATA DURING ACCELERATED PHASES.
 0395   DELVX    EQUALS DELV
 0396   DELVY    EQUALS DELV +2
 0397   DELVZ    EQUALS DELV +4
 0398   GRAVITY  EQUALS NUV             AVERAGE G INTEGRATOR VARIABLES
 0399   UNITR    EQUALS REFRCV
 0400   RMAG     EQUALS REFVCV
 0401   RMAGSQ   EQUALS REFVCV +2
 0402  2DELTAT   EQUALS REFVCV +4
 0403   TEMX     EQUALS REFTC
 0404   TEMY     EQUALS REFTC + 1
 0405   TEMZ     EQUALS TE
 0406   TEMXY    EQUALS TE + 1
 0407  2PIPAGE   EQUALS REFXKEP
 0408   REFSMMAT ERASE  +17D            REFERENCE TO SM MATRIX
 0409  2DTEPOCH  ERASE  +1
 04092  REDOCNTR ERASE                  RESTART DATA SAVED IN THESE REGISTERS
 04094  REDOTIME ERASE  +1
P0410            THE FOLLOWING STORAGE IS TIME-SHARED BY MISSION PROGRAMS UNDER
 0411  9THE SUPERVISION OF MASTER COMTROL. IT IS
R0412   ORGANIZED INTO THREE PARTS REFERRED TO AS A MEMORY, B MEMORY, AND C MEMO
 0413  9RY. A PARTICULAR MISSION PHASE IS
R0414   ASSIGNED TO ONE OF THE SEGMENTS IN SUCH A WAY THAT NO OTHER MISSION PHAS
 0415  9E USING THE SAME SEGMENT WILL EVER RUN
R0416   CONCURRENTLY; E.G., RE-ENTRY WILL NEVER RUN CONCURRENT WITH TVC. THE NUM
 0417  9BER OF AREAS (3) IS DETERMINED BY THE
R0418  2MAXIMUM NUMBER OF DISTINCT MISSION PROGRAMS WHICH RUN SIMULTANEOUSLY.
R0419            A MEMORY IS USED BY NAVIGATION PROGRAMS: MID-COURSE DURING FREE
 0420  9-FALL PORTIONS OF THE MISSION AND
R0421   AVERAGE G INTEGRATION DURING ACCELERATED PHASES. GUIDANCE PROGRAMS SUCH
 0422  9AS TVC USE B MEMORY TOGETHER WITH THEIR
R0423   ASSOCIATED ALIGNMENTS. THE C MEMORY PORTION IS USED THROUGHOUT MOST OF T
 0424  9HE MISSION FOR THE MIDCOURSE ERROR
R0425   TRANSITION MATRIX W, AND LATER BY RE-ENTRY AFTER THE LAST MEASUREMENT HA
 0426  9S BEEN INCORPORATED. THE EXCEPTION IS
R0427  4SYSTEM TEST, ASSIGNED TO A MEMORY, WHICH NEVER RUNS CONCURRENTLY WITH MI
 0428  9SSION PROGRAMS.
 0429   AMEMORY  ERASE  +139D
 0430   BMEMORY  ERASE  +164D
 0431  4CMEMORY  ERASE  +71D
R0432  2         STORAGE USED TO SAVE T1,2 DURING STANDBY.
 0433   TIME2SAV EQUALS AMEMORY +000D
 0434   TIME1SAV EQUALS AMEMORY +001D
 0435   IN1HISAV EQUALS AMEMORY +002D
 0436   IN1LOSAV EQUALS AMEMORY +003D
 0437   IN1HIDIF EQUALS AMEMORY +004D
 0438   IN1LODIF EQUALS AMEMORY +005D
R0439  2         THE FOLLOWING A MEMORY LOCATIONS ARE USED BY MID-COURSE NAVIGAT
 0440  9ION:
 0441   RRECT    EQUALS AMEMORY +000D
 0443   RIGNTION EQUALS AMEMORY +000D
 0444   VRECT    EQUALS AMEMORY +006D
 0445   VIGNTION EQUALS AMEMORY +006D
 0446   TDELTAV  EQUALS AMEMORY +012D
 0447   NEWDLTAV EQUALS AMEMORY +012D
 0448   YV       EQUALS AMEMORY +012D
 0449   TNUV     EQUALS AMEMORY +018D
 0450   -UPADR   EQUALS TNUV
 0451   STCNTR   EQUALS TNUV +1
 0452   NEWNUV   EQUALS AMEMORY +018D
 0453   ZV       EQUALS AMEMORY +018D
 0454   RCV      EQUALS AMEMORY +024D
 0455   FOUNDR   EQUALS AMEMORY +024D
 0456   VCV      EQUALS AMEMORY +030D
 0457   FOUNDV   EQUALS AMEMORY +030D
 0458   TC       EQUALS AMEMORY +036D
 0459   TET      EQUALS AMEMORY +038D
 0460   XKEP     EQUALS AMEMORY +040D
 0461   ALPHAV   EQUALS AMEMORY +042D
 0462   DELR     EQUALS AMEMORY +042D
 0463   BETAV    EQUALS AMEMORY +048D
 0464   DELVEL   EQUALS AMEMORY +048D
 0465   UVL      EQUALS AMEMORY +048D
 0466   PHIV     EQUALS AMEMORY +054D
 0467   STARMEAS EQUALS AMEMORY +054D
 0468   LNDMRKV  EQUALS AMEMORY +060D
 0469   PSIV     EQUALS AMEMORY +060D
 0470   ROTLMV   EQUALS AMEMORY +066D
 0471  2FV       EQUALS AMEMORY +066D
 0472  2VECTAB   EQUALS AMEMORY +072D
 0473   TAVEGON  EQUALS AMEMORY +072D
 0474   TRESUME  EQUALS AMEMORY +074D
 0475   RAVEGON  EQUALS AMEMORY +076D
 0476   BVECTOR  EQUALS AMEMORY +080D
 0477   UNE      EQUALS AMEMORY +080D
 0478   VAVEGON  EQUALS AMEMORY +082D
 0479   UNP      EQUALS AMEMORY +088D
 0480   RIG-4SEC EQUALS AMEMORY +088D
 0481   ERADSQ/4 EQUALS AMEMORY +094D
 0482   ERAD/2   EQUALS AMEMORY +096D
 0483   ALPHAM   EQUALS AMEMORY +108D
 0484   BETAM    EQUALS AMEMORY +110D
 0485   LONGDES  EQUALS AMEMORY +110D
 0486   TAU      EQUALS AMEMORY +112D
 0487   GIVENT   EQUALS AMEMORY +112D
 0488   DLONG    EQUALS AMEMORY +112D
 0489   DT/2     EQUALS AMEMORY +114D
 0490   LAT      EQUALS AMEMORY +114D
 0491   H        EQUALS AMEMORY +116D
 0492   LONG     EQUALS AMEMORY +116D
 0493   TDEC     EQUALS AMEMORY +118D
 0494   AZ       EQUALS AMEMORY +120D
 0495   FBRANCH  EQUALS AMEMORY +120D
 0496   HBRANCH  EQUALS AMEMORY +121D
 0497   GMODE    EQUALS AMEMORY +122D
 0498   NUMBTEMP EQUALS AMEMORY +122D
 0499   NUMBOPT  EQUALS AMEMORY +123D
 0500   VARIANCE EQUALS AMEMORY +124D
 0501   HMAG     EQUALS AMEMORY +124D
 0502   MEASQ    EQUALS AMEMORY +126D
 0503   COTGAM   EQUALS AMEMORY +126D
 0504  2DELTAQ   EQUALS AMEMORY +126D
 0505   MEASMODE EQUALS AMEMORY +128D
 0506   SITENUMB EQUALS AMEMORY +128D
 0507   NVCODE   EQUALS AMEMORY +129D
 0508   MIDEXIT  EQUALS AMEMORY +130D
 0509   DSPRTRN  EQUALS AMEMORY +130D
 0510   WMATFLAG EQUALS AMEMORY +131D
 0511   INCORPEX EQUALS AMEMORY +131D
 0512   STEPEXIT EQUALS AMEMORY +132D
 0513   DIFEQCNT EQUALS AMEMORY +133D
 0514   NORMGAM  EQUALS AMEMORY +133D
 0515   SCALEA   EQUALS AMEMORY +134D
 0516   SCALEB   EQUALS AMEMORY +135D
 0517   SCALEDT  EQUALS AMEMORY +136D
 0518   SCALDELT EQUALS AMEMORY +137D
 0519  2SCALER   EQUALS AMEMORY +138D
 0520  4FFFLAGS  EQUALS AMEMORY +139D
R0520012         A MEMORY ASSIGNMENTS FOR UPDATE ROUTINE
 052002 STBUFF   EQUALS AMEMORY +000D
 052003 UPOLDMD  EQUALS AMEMORY +014D
 0520044COMPNUMB EQUALS AMEMORY +015D
R0521  2         ENTRY ITEMS IN AMEMORY TO BE INCLUDED IN DOWN-LINK.
 0522   FX       EQUALS AMEMORY + 0     SHARES THIS LOC WITH RRECT.
 0523   PREDANG  EQUALS AMEMORY + 06D   SHARES THIS LOC WITH VRECT.
 0524   JJ       EQUALS AMEMORY + 07D   SHARES THIS LOC WITH VRECT.
 0525   THETAH   EQUALS AMEMORY + 08D   SHARES THIS LOC WITH VRECT.
 0526   LATANG   EQUALS AMEMORY + 010D  SHARES THIS LOC WITH VRECT.
 0527   L/D      EQUALS AMEMORY + 082D  SHARES THIS LOC WITH VAVEGON.
 0528   DIFF     EQUALS AMEMORY + 084D  SHARES THIS LOC WITH VAVEGON.
R0529  4 END OF ENTRY ITEMS.
R0530  2         A MEMORY ASSIGNMENTS FOR ROTATING EARTH ROUTINE.
 0531   RTINIT   EQUALS AMEMORY +012D
 0532   RTEAST   EQUALS AMEMORY +018D
 0533   RTNORM   EQUALS AMEMORY +024D
 0534   RT       EQUALS AMEMORY + 076D  SHARES THIS LOCATION WITH RAVEGON
 0535  4DTEAROT  EQUALS AMEMORY +036D
R05352 2         A MEMORY TEMPORARIES USED BY PRELAUNCH
 05354 4PTEMP    EQUALS AMEMORY + 99D
R0536  2   A MEMORY  USAGE AS TEMPORARIES BY AVERAGE G ROUTINE.
 0537   RN1      EQUALS AMEMORY +127D
 0538   VN1      EQUALS AMEMORY +133D
 0539  4AVGRETRN EQUALS AMEMORY +139D
R05391 2         A MEMORY TEMPORARIES USED BY SERVICER
 053911 VGCNT1   EQUALS AMEMORY +113D
 053912 DVCNT1   EQUALS AMEMORY +114D
 05392 4VR1      EQUALS AMEMORY +115D   12 LOCATIONS FOR VR, DIFFVECT
R0540  2         SYSTEM TEST A MEMORY USAGE:
 0541   GENPL    EQUALS AMEMORY +000D
 0542   TAR1POS  EQUALS GENPL
 0543   FILDELX  EQUALS AMEMORY +012D
 0544   TMARK    EQUALS AMEMORY +060D
 0545   VMARK    EQUALS AMEMORY +062D
 0546   COARSAGN EQUALS AMEMORY +075D
 0547   TESTTIME EQUALS AMEMORY +077D
 0548   LTSTNDX  EQUALS AMEMORY +078D
 0549   COUNTPL  EQUALS AMEMORY +080D
 0550   PIPINDEX EQUALS AMEMORY +081D
 0551   PIPANO   EQUALS AMEMORY +082D
 0552   POSITON  EQUALS AMEMORY +083D
 0553   RESULTCT EQUALS AMEMORY +084D
 0554   NDXCTR   EQUALS RESULTCT
 0555  2QPLACE   EQUALS AMEMORY +085D
 0556   PIPNDX   EQUALS AMEMORY +086D
 0557   STOREPL  EQUALS AMEMORY +088D
 0558   NBPOS    EQUALS AMEMORY +89D
 0559   TESTNDX  EQUALS AMEMORY +90D
 0560   CDUNDX   EQUALS AMEMORY +91D
 0561   GYROD    EQUALS AMEMORY +92D
 0562  2DATAPL   EQUALS AMEMORY +98D
 0563   VACADR   EQUALS AMEMORY +130D
 0564   MKSTAT1  EQUALS AMEMORY +132D
 0565   COAROFIN EQUALS AMEMORY +133D
 0566   MAXPTS2  EQUALS AMEMORY +135D
 0567   QPLAC    EQUALS AMEMORY +136D
 0568   PTS      EQUALS AMEMORY +137D
 0569   RUN      EQUALS AMEMORY +138D
 0570   EROPTN   EQUALS AMEMORY +139D
 0571   TESTNO   EQUALS CMEMORY +000D
 0572   SAVE     EQUALS CMEMORY +001D
 0573   PLOW     EQUALS CMEMORY +002D
 0574   CUSSANG  EQUALS CMEMORY +003D
 0575   NEGCDU1  EQUALS CMEMORY +004D
 0576   NEGCDU2  EQUALS CMEMORY +005D
 0577   LOCNO    EQUALS CMEMORY +006D
 0578   CALCDIR  EQUALS CMEMORY +007D
 0579   BUBBLE   EQUALS CMEMORY +008D
 0580   TEMDELV  EQUALS CMEMORY +009D
 0581   RETAA    EQUALS CMEMORY +010D
 0582   RETBB    EQUALS CMEMORY +011D
 0583  4STARNUMB EQUALS DSPTEM2
R0584  2B MEMORY USED BY POWERED FLIGHT AND ATTITUDE MANEUVERS
 0585   CDUTEMP  EQUALS BMEMORY +000D
 0586   CDUBUF   EQUALS BMEMORY +006D
 0587   WC       EQUALS BMEMORY +006D
 0588   UNITN    EQUALS BMEMORY +006D
 0589   RTRNSLUN EQUALS BMEMORY +006D
 0590   VF       EQUALS BMEMORY +006D
 0591   SINCDU   EQUALS BMEMORY +012D
 0592   COSCDU   EQUALS BMEMORY +018D
 0593   DCDU     EQUALS BMEMORY +024D
 0594   DUPCDU   EQUALS BMEMORY +024D
 0595   STEERROR EQUALS BMEMORY +024D
 0596   DNB      EQUALS BMEMORY +030D
 0597   VG       EQUALS BMEMORY +030D
 0598   UNITVG   EQUALS BMEMORY +030D
 0599   ERRORSUM EQUALS BMEMORY +036D
 0600   XSC      EQUALS BMEMORY +042D
 0601   UNITRXV  EQUALS BMEMORY +042D
 0602   UNITF    EQUALS BMEMORY +042D
 0603   UNITD    EQUALS BMEMORY +042D
 0606   YSC      EQUALS BMEMORY +048D
 0607   UNITHORZ EQUALS BMEMORY +048D
 0608   UNITS    EQUALS BMEMORY +048D
 0609   ZSC      EQUALS BMEMORY +054D
 0610   UNITMDT  EQUALS BMEMORY +054D
 0611   XSCD     EQUALS BMEMORY +060D
 0612   CBDT     EQUALS BMEMORY +060D
 0613   YSCD     EQUALS BMEMORY +066D
 0614   VR       EQUALS BMEMORY +066D
 0615   ZSCD     EQUALS BMEMORY +072D
 06155  SGNTHETA EQUALS BMEMORY +072D
 0616   DIFFVECT EQUALS BMEMORY +072D
 0617   RTARG    EQUALS BMEMORY +078D
 06175  DTEMP1   EQUALS BMEMORY +078D
 0618   S        EQUALS BMEMORY +078D
 0619   DN       EQUALS BMEMORY +080D
 0620   SMA      EQUALS BMEMORY +082D
 0621   ANORMAL  EQUALS BMEMORY +084D
 0622   LOOKANG  EQUALS BMEMORY +086D
 06225  DISPCNTR EQUALS BMEMORY +087D
 0623   MDT      EQUALS BMEMORY +088D
 0624   VGCNTR   EQUALS BMEMORY +090D
 0625   DVCNTR   EQUALS BMEMORY +091D
A0626   K1ROLL   EQUALS BMEMORY +092D   N.B. THIS LOCATION SHARED WITH ENTRY
 0627   DTHETA   EQUALS BMEMORY +094D
 0628   THETAMAN EQUALS BMEMORY +096D
 0629   TFF      EQUALS BMEMORY +098D
 0630   LONGTIME EQUALS BMEMORY +100D
 0631   TLIFTOFF EQUALS BMEMORY +102D
 0632   TENGON   EQUALS BMEMORY +102D
 0633   TCUTOFF  EQUALS BMEMORY +102D
 0634   PIPTIME  EQUALS BMEMORY +104D
 0635   LONGEXIT EQUALS BMEMORY +106D
 0636   CALLCADR EQUALS BMEMORY +107D
 0637   VRCADR   EQUALS BMEMORY +108D
 0638   EXITCADR EQUALS BMEMORY +109D
 0639   ROLLC    EQUALS BMEMORY +110D   N.B. THIS LOCATION SHARED WITH ENTRY
 0640  2EXITCAD1 EQUALS BMEMORY +112D
R0650  4B, C MEMORY USED FOR ERASABLE 501 LAUNCH, AIMPOINT, VEHICLE DATA.
 06545  TATLAN1  EQUALS CMEMORY +030D
 0655   TATLANT  EQUALS BMEMORY +138D
 06555  RTATLAN1 EQUALS CMEMORY +032D
 0656   RTATLANT EQUALS BMEMORY +140D
 06565  TPACIF1  EQUALS CMEMORY +038D
 0657   TPACIFC  EQUALS BMEMORY +146D
 06575  RTPACIF1 EQUALS CMEMORY +040D
 0658   RTPACIFC EQUALS BMEMORY +148D
 0659   ESQ(VR)  EQUALS BMEMORY +154D
 0660   SEMILAT  EQUALS BMEMORY +158D
 0661   TCOAST   EQUALS BMEMORY +162D
 06615 4TDECAY   EQUALS BMEMORY +164D
R0662  2         THE FOLLOWING ARE RE-ENTRY AND PRE-RE-ENTRY ASSIGNMENTS:
 0663   (V)      EQUALS BMEMORY +000D
 0664   DIFFOLD  EQUALS BMEMORY + 008D
 0665   Q7       EQUALS BMEMORY + 010D
 0666   FACT2    EQUALS BMEMORY +012D
 0667   ESQ      EQUALS BMEMORY +014D
 0670   LEWD     EQUALS BMEMORY +020D
 0671   VSQUARE  EQUALS BMEMORY +022D
 0672   DADV1    EQUALS BMEMORY + 24D
 0673   RDOT     EQUALS BMEMORY +026D
 0674   TENTRY   EQUALS BMEMORY +028D
 0675   ROLLBIAS EQUALS BMEMORY +30D
R0676     A HOLE.
 0677   ETA      EQUALS BMEMORY +034D
 0678   D        EQUALS BMEMORY +038D
 0679   V1       EQUALS BMEMORY +040D
 0680   NEGTHET  EQUALS BMEMORY +042D
 0681   V1OLD    EQUALS BMEMORY + 044D
 0682   K2ROLL   EQUALS BMEMORY +046D
 0683   GOTOADDR EQUALS BMEMORY +048D
 0684   XPIPSUM  EQUALS BMEMORY +049D
 0685   YPIPSUM  EQUALS BMEMORY +050D
 0686   ZPIPSUM  EQUALS BMEMORY +051D
 0687   XPIPBUF  EQUALS BMEMORY +052D
 0688   YPIPBUF  EQUALS BMEMORY +056D
 0689   ZPIPBUF  EQUALS BMEMORY +060D
 0690   PIPCTR   EQUALS BMEMORY + 64D
 0691   DOLD     EQUALS BMEMORY + 65D
R0692     A HOLE.
 0693   TEM1B    EQUALS BMEMORY + 68D
 0694   M1       EQUALS BMEMORY + 69D
 0695   GRAD     EQUALS BMEMORY + 70D
R0696     A HOLE.
 0697   LEQ      EQUALS BMEMORY + 77D
 0698   DHOOK    EQUALS BMEMORY + 79D
 0699   AHOOKDV  EQUALS BMEMORY + 81D
 0700   DVL      EQUALS BMEMORY + 83D
 0701   K1ROLL   EQUALS BMEMORY +092D   N.B. THIS LOCATION SHARED WITH POW. FL.
R0704  2  UNB,X,Y,Z ARE DEFINED LATER.
R0705  4                                         END OF  RE-ENTRY STUFF
R0706  2         B MEMORY ASSIGNMENTS FOR PRE-LAUNCH ALIGNMENT.
 0707   LATITUDE EQUALS BMEMORY +000D
 0708   AZIMUTH  EQUALS BMEMORY +002D
 0709   GYROCSW  EQUALS BMEMORY +004D
 0710   PRELTEMP EQUALS BMEMORY +005D
 0711   PRELXGA  EQUALS BMEMORY +006D
 0712   PRELYGA  EQUALS BMEMORY +007D
 0713   PRELZGA  EQUALS BMEMORY +008D
 0715   INFLANG  EQUALS BMEMORY +014D
 0716   GYROANG  EQUALS BMEMORY +020D
 0717   TAZ      EQUALS BMEMORY +26D
 0718   TEL      EQUALS BMEMORY +28D
 0719   VAZ      EQUALS BMEMORY +30D
 0720   CHKNVTEM EQUALS BMEMORY +32D
 0721   FILTER   EQUALS BMEMORY +34D
 0722   DELE     EQUALS BMEMORY +36D
 0723   FILDELZ  EQUALS DELE
 0724   DELS     EQUALS BMEMORY +38D
 0725   FILDELY  EQUALS DELS
 0726   INT      EQUALS BMEMORY +40D
 0727   PREVTIME EQUALS BMEMORY +44D
 0728   THETAY   EQUALS BMEMORY +90D
 0729   THETAZ   EQUALS BMEMORY +92D
 0730   THETAX   EQUALS BMEMORY +94D
 0731   THETASTH EQUALS BMEMORY +96D
 0732   THETAE   EQUALS BMEMORY +98D
 0733   VECTEM   EQUALS BMEMORY +48D
 0735   TIME2GR  EQUALS BMEMORY +106D
 0736   TIME1GR  EQUALS BMEMORY +107D
 0737  4TARGET1  EQUALS BMEMORY +054D
R0738  2         THE FOLLOWING LOCATIONS ARE USED BY IN-FLIGHT ALIGNMENT:
 0739   STARS    EQUALS BMEMORY +052D
 0740   STARAD   EQUALS TARGET1
 0741   STAR     EQUALS BMEMORY +066D
 0742   XSM      EQUALS BMEMORY +072D
 0743   YSM      EQUALS BMEMORY +078D
 0744   ZSM      EQUALS BMEMORY +084D
 0745   XNB      EQUALS BMEMORY +114D
 0746   XDC      EQUALS BMEMORY +114D
 0747   XDSMPR   EQUALS BMEMORY +114D
 0748   YNB      EQUALS BMEMORY +120D
 0749   YDC      EQUALS BMEMORY +120D
 0750   YDSMPR   EQUALS BMEMORY +120D
 0751   ZNB      EQUALS BMEMORY +126D
 0752   ZDC      EQUALS BMEMORY +126D
 0753   ZDSMPR   EQUALS BMEMORY +126D
 0754   OGC      EQUALS BMEMORY +132D
 0755   SAC      EQUALS BMEMORY +132D
 0756   IGC      EQUALS BMEMORY +134D
 0757   PAC      EQUALS BMEMORY +134D
 0758  4MGC      EQUALS BMEMORY +136D
R07582 2   RE-ENTRY ATTITUDE CONTROL UNIT VECTORS ALONG NAV BASE.
 07583  UXNB     EQUALS XNB             USED IN RE-ENTRY CONTROL.
 07584  UYNB     EQUALS YNB             USED IN RE-ENTRY CONTROL.
 07585 4UZNB     EQUALS ZNB             USED IN RE-ENTRY CONTROL.
R0759  2THE FOLLOWING IS USED FOR ATTITUDE CONTROL
 0760   ROLL     EQUALS BMEMORY +000D
 0761   PITCH    EQUALS BMEMORY +001D
 0762  4YAW      EQUALS BMEMORY +002D
R0763  2         CMEMORY USED FOR STORAGE OF 501 BOOST ATTITUDE MONITOR PARAMETE
 0764  9RS
 0766   TROLL    EQUALS CMEMORY +001D
 0767   TPITCH   EQUALS CMEMORY +003D
 0768   TENDPTCH EQUALS CMEMORY +005D
 0769   TMONITOR EQUALS CMEMORY +007D
 0770   TTUMON   EQUALS CMEMORY +009D
 0771   POLYENTR EQUALS CMEMORY +010D
 0772   POLYORDR EQUALS CMEMORY +011D
 0773   POLYCOEF EQUALS CMEMORY +012D
 0774   POLYEND  EQUALS CMEMORY +026D
 0775  4ROLLDTH  EQUALS CMEMORY +027D
R0776  2         THE FOLLOWING IS THE MIDCOURSE 6X6 ERROR TRANSITION MATRIX:
 0777  4W        EQUALS CMEMORY +000D
R0778  2         C MEMORY ASSIGNMENTS FOR RE-ENTRY:
 0779   UNI      EQUALS CMEMORY +000D
 0780   UNITV    EQUALS CMEMORY +006D
 0781   INITL/D  EQUALS CMEMORY +12D
 0782   VCORR    EQUALS CMEMORY +014D
 0783   A0       EQUALS CMEMORY +016D
 0784   VBARS    EQUALS CMEMORY +018D
 0785   COSG/2   EQUALS CMEMORY +020D
 0786   GAMMAL   EQUALS CMEMORY +022D
 0787   VS       EQUALS CMEMORY + 024D
 0788   D0       EQUALS CMEMORY +026D
 0789   VL       EQUALS CMEMORY + 28D
 0790   V        EQUALS CMEMORY +030D
 0791   FACTOR   EQUALS CMEMORY +032D
 0792   VREF     EQUALS CMEMORY +034D
 0793   RDOTREF  EQUALS CMEMORY +036D
 0794   ALP      EQUALS CMEMORY +038D
 0795  8FACT1    EQUALS CMEMORY +040D
R07951 4
R07953 2    SAVE RRECT AND VRECT IN CMEMORY TO RESTART ORBITAL INTEGRATION.
 07954  RRECCMEM EQUALS CMEMORY + 60D
 07955 4VRECCMEM EQUALS CMEMORY + 66D
R0796  2         ERASABLE ADDED TO THE END OF 202 ASSIGNMENTS FOR FLIGHTS 501 &
 0797  92.
 0799   UPTIME   ERASE  +1              SHOULD BE SET TO 37777, 37777 DURING
A0800                                   PRELAUNCH ERASABLE LOAD.
 080102 ANGLEX   ERASE                  COLDSOAK -  X GIMBAL ANGLE
 080104 ANGLEY   ERASE                  COLDSOAK -  Y GIMBAL ANGLE
 080106 ANGLEZ   ERASE                  COLDSOAK -  Z GIMBAL ANGLE
 080108 TFFMIN   ERASE  +1              TIME TO START SPS2 BURN SEQUENCE
 08011  1/RLLRTE ERASE  +1              ROLL RATE DURING BOOST MONITOR
 080112 MAXROLL  ERASE  +1              MAX DELTA ROLL ANGLE DURING ROLL MONITOR
 080113 CGY      ERASE  +3              C.G. ROTATION ABOUT Y S/C AXIS
 080114 CGZ      ERASE  +3              C.G. ROTATION ABOUT Z S/C AXIS
 080115 ATDT     ERASE  +3              INTEGRATED INITIAL THRUST ACC. MAGNITUDE
 080116 TFFNOM   ERASE  +1              NOMINAL TIME FROM NOMCASE TO 400,000 FT.
 080117 S2SWITCH ERASE                  SET NEGATIVE TO RECOMPUTE SPS2 ATTITUDE
 080118 REFSWTCH ERASE                  SET NEGATIVE FOR UNCOND. 280K FT FF REF
 080119 REDOSPS1 ERASE                  SET NEGATIVE TO REDO SPS1 AT AVGON
 08012  ECC      ERASE  +1              FOR SIMULATION EDITING
P0801252THE FOLLOWING STORAGE IS RESERVED EXCLUSIVELY FOR SELF-CHECK
 0802  2SELFERAS ERASE  1760 - 1777
 08021  ERESTORE =      1760
 0803   QADRS    EQUALS MPAC            RESERVED
 0804   2OPTIONS =      1761
 0805   SMODE    =      1762
 0806   FAILREG  =      1763
 0807   SFAIL    =      1764
 0808   ERCOUNT  =      1765
 0809   SCOUNT   =      1766
 0810   SKEEP1   =      1771
 0811   SKEEP2   =      1772
 0812   SKEEP3   =      1773
 0813   SKEEP4   =      1774
 0814   SKEEP5   =      1775
 0815   SKEEP6   =      1776
 0816   SKEEP7   EQUALS 1777
L 001  2INTERRUPT TRANSFER ROUTINES
 0001  2         SETLOC 2000
 0002            TS     ARUPT
 0003            XCH    Q
 0004            XCH    QRUPT
 0005  2         TC     T3RUPT
 0006            TS     ARUPT
 0007            XCH    Q
 0008            XCH    QRUPT
 0009  2         TC     ERRUPT
 0010            TS     ARUPT
 0011            XCH    Q
 0012            XCH    QRUPT
 0013  2         TC     T4RUPT          OUTPUT CONTROL.
 0014            TS     ARUPT
 0015            XCH    Q
 0016            XCH    QRUPT
 0017  2         TC     KEYRUPT
 0018            TS     ARUPT
 0019            XCH    Q
 0020            XCH    QRUPT
 0021  2         TC     UPRUPT
 0022            TS     ARUPT
 0023            XCH    Q
 0024            XCH    QRUPT
 0025  2         TC     DOWNRUPT        DOWNLINK.
 0026            INHINT                 GOJAM - PARITY ALARM, POWER FAIL, ETC.
 0027  2         CAF    EXECBANK
 0028            TS     BANKREG
 0029  8         TC     GOPROG
 0030   ERRUPT   TC     ALARM           ***NO ERRUPTS IN SYSTEM 5***
 0031            OCT    01101
 0032  2         TC     NBRESUME
 0033   UPRUPT   CAF    UPBANK          CALL IN BANK WITH UPRUPT PROGRAM.
 0034            XCH    BANKREG
 0035  2         TC     UPRUPTB
 0036   KEYRUPT  CAF    MODEBANK
 0037            XCH    BANKREG
 0038  2         TC     KEYRUPTA
 0039   MODEBANK CADR   KEYRUPTA
L 001  2FIXED-FIXED INTERPRETER SECTION
 0001  2         SETLOC 4000            SECOND HALF OF FIXED-FIXED.
 0002   INTPRET  CCS    Q               ENTRY TO INTERPRETER
 0003  2         TS     ADRLOC
 0004            CS     BANKREG         GET BANKBITS
 0005            TS     BANKSET
 0006  2         TC     +3
 0007   NEWEQUN  CS     BANKSET         HERE FOR NEW EQUATIONS
 0008            TS     BANKREG
 0009            CAF    ONE             SET NEWEQIND TO CALL LOAD
 0010            TS     NEWEQIND
 0011            AD     ADRLOC          C(ADRLOC) = LOCATION LAST ADDRESS USED
 0012            TS     LOC             FOR OPERATORS
 0013            INDEX  A               GET FIRST OP  AND NO. OF OPERATOR WORDS
 0014            CS     0
 0015            AD     MINUS1
 0016            TS     ORDER
 0017            MASK   LOW7            NUMBER OF ADDITIONAL OPERATOR WORDS
 0018            AD     LOC
 0019            TS     ADRLOC          AND SET ADRLOC
 0020            CAF    ZERO            TO SET ORDER TO ZERO
 0021  8         TC     IPROC2
 0022   DANZIG   CCS    NEWJOB          INTERPRETIVE INTERRUPT
 0023  2         TC     CHANG2          CALL IN BANK0 AND SWITCH JOBS
 0024            CS     BANKSET         RESET BANK BITS OF OBJECT PROGRAM
 0025  2         TS     BANKREG
 0026            CCS    ORDER           HAS NEXT OP CODE BEEN PROCESSED
 0027  2         TC     LOWWD           NEXT INSTRUCTION WAS RIGHT-HAND
 0028            INDEX  LOC             PICK UP POSSIBLE NEXT INSTRUCTION
 0029            CS     1
 0030            CCS    A
 0031            TC     IPROC           IT IS - GO PROCESS IT
 0032  2         TC     +1              IN CASE THE FIRST ADDRESS WAS INACTIVE
 0033            INDEX  ADRLOC          END OF EQUATION
 0034            CS     1
 0035            CCS    A               IS THERE ANOTHER ADDRESS
 0036            TC     PUSHDOWN        NO - INSERT IN PUSH-DOWN LIST
 0037  2D34      DEC    34              USED TO DISPATCH STORE OPERATIONS
 0038   STORADR  TS     POLISH          PROCESS STORE ADDRESSES
 0039            TC     INCADR          TO SHOW WE PICKED UP ANOTHER ADDRESS
 0040            CAF    D34             FORM CODES 32 - 34
 0041            AD     MODE
 0042            DOUBLE                 BECAUSE WE HAVE TO PUT IT INTO CYR
 0043            TS     CYR
 0044            CAF    LOW11
 0045            MASK   POLISH          SAVE ERASABLE PART PLUS POSSIBLE TAG
 0046            XCH    POLISH
 0047            AD     NEGIDEX         DIRECT OR INDEXED
 0048            CCS    A
 0049            TC     INDEX           IT IS INDEXED - PRESENT POLISH  OK
 0050   NEGIDEX  OCT    -33777          NEGATIVE OF STORE ADDRESS PREFIX +1
 0051            CS     BIT11
 0052            AD     POLISH
 0053            TS     POLISH
 0054  8         TC     NONINDEX
 0055   IPROC    TS     ORDER           OP CODE WORD WAS PICKED UP BY CCS
 0056            XCH    LOC
 0057            AD     ONE
 0058            XCH    LOC
 0059            MASK   LOW7            SAVE LOW ORDER CODE
 0060   IPROC2   XCH    ORDER           ENTRY FROM NEWEQUN
 0061            INDEX  OPOVF
 0062            MP     BIT8            SHIFT IT RIGHT SEVEN PLACES
 0063  2         TS     CYR             GETTING RID OF THE RIGHT-HAND OP
 0064   JUMPIT   CCS    CYR             LOOK AT LOW-ORDER PREFIX BIT
 0065            TC     ADDRESS         INDEXABLE - DECODE ADDRESS IMMEDIATELY
 0066  2LOADOP   OCT    43              USED BY UNARY LOAD
 0067            CCS    CYR             LOOK AT SECOND ONE HERE
 0068            TC     INCADR          PROCESS MISCELLANEOUS
 0069  2         TC     MISCPROC
 0070   UNAPROC  CCS    NEWEQIND        PROCESS UNARY REQUESTS
 0071  2         TC     UNALOAD         LOAD AN ACCUMULATOR AND RETURN
 0072            CAF    LOW7
 0073            TS     BANKREG         CALL IN BANK 0 WHERE UNARIES ARE
 0074            MASK   CYR             WITHOUT CLOBBERING
 0075            INDEX  A
 0076            TC     UNAJUMP
P0077  2         PROCESS MISCELLANOUS OP CODES.
 0078   MISCPROC INDEX  A
 0079            CS     0               WE KNOW ITS AN ADDRESS
 0080            AD     ONE             TO FIT IN WITH THE POLISH ADDRESS SCHEME
 0081  2         TS     POLISH          SAVE ENTIRE ADDRESS
 0082            CCS    A
 0083            TC     ENDMISC
 0084   42K      OCT    42000
 0085            TC     +2
 0086            TC     MISCREL
 0087            AD     BANKMASK
 0088            CCS    A
 0089            AD     ONE
 0090            TC     +2
 0091  2         TC     MISC2
 0092            AD     42K
 0093            COM
 0094            TS     POLISH
 0095  2         TC     ENDMISC
 0096   MISC2    AD     RELTEST
 0097            CCS    A
 0098            CS     POLISH
 0099            TC     +3
 0100            CS     POLISH
 0101            TC     +2
 0102   MISCREL  AD     FIXLOC
 0103  2         TS     ADDRWD
 0104   ENDMISC  CAF    LOW7
 0105            TS     BANKREG         CALL IN BANK 0
 0106            MASK   CYR
 0107            INDEX  A
 0108  8         TC     NONJUMP
 0109   UNALOAD  CAF    LOW7            PROCESS LOADING REQUESTS FOR UNARY
 0110            MASK   CYR             OPERATIONS. START BY FINDING APPROPRIATE
 0111            CCS    A               MODE
 0112            TC     +3              TMOVE HAS CODE 0
 0113            CS     TWO
 0114            TC     MODESET
 0115            CS     A
 0116            AD     OCT40003
 0117            TS     MODE            SKIP IF SO AND SET A TO -1
 0118            CS     ZERO            IF WE DIDNT SKIP
 0119  2MODESET  TS     MODE
 0120            CAF    NEGSIGN         GET INDEXING BIT FROM UNARY OP CODE IN
 0121            MASK   CYR             CYR
 0122            AD     LOADOP          AD LOAD OPCODE = OCT 43
 0123   60K      DOUBLE                 DOUBLE OP CODE AND DUPLICATE SIGN IN
 0124            XCH    CYR             BIT 1 WHERE IT GOES INTO SIGN OF CYR
 0125            TS     SL              RE-EDIT, NOT BOTHERING ABOUT BITS 8-14
 0126  2         TC     ADDRESS         STANDARD ADDRESS ROUTINE
 0127   ULRET    TS     NEWEQIND        RETURN HERE AFTER LOADING
 0128            XCH    SL
 0129            TS     CYR             RESTORE ORIGINAL OP CODE
 0130  2         TC     UNAPROC +2      AND DISPATCH AS USUAL
 0131   LOWWD    CAF    ZERO            RIGHT HAND OP CODE HAS ALREADY BEEN SET
 0132            XCH    ORDER
 0133  8         TC     JUMPIT -1
 0134   LOAD     TS     NEWEQIND        LOADS FIRST ADDRESS OF NEW EQUATIONS
 0135            INDEX  MODE            TRIGGERS TYPE OF CLEAR-AND-ADD
 0136            TC     +3
 0137            TC     TCA1
 0138            TC     DCA1
 0139  2         TC     VCA1
 0140   LOADRET  CCS    NEWEQIND        IF A UNARY LOAD, THIS IS STILL ONE
 0141  2         TC     ULRET           NO SECOND ADDRESS FOR UNARY LOADS
 0142            CS     BANKSET
 0143  2         TS     BANKREG
 0144   ADDRESS  INDEX  ADRLOC          INDEXABLE ADDRESS ROUTINE
 0145            CS     1               PICK UP WHAT SHOULD BE THE NEXT ADDRESS
 0146            CCS    A
 0147            TC     PUSHUP          NO ADDRESS MEANS TAKE OFF TOP OF STACK
 0148            TC     PUSHUP2         INACTIVE ADDRESS MEANS JUST PUSHUP
 0149            XCH    ADRLOC          SAVE ADDRESS WHILE WE INCREMENT ADRLOC
 0150            AD     ONE
 0151            XCH    ADRLOC          NOW BRING IT BACK
 0152            TS     POLISH
 0153            CAF    NEGSIGN
 0154            MASK   CYR
 0155            CCS    A               INDEXED OR NOT
 0156   BUGMPAC  XCADR  MPAC
 0157            TC     NONINDEX
P0158  2         PROCEDURE FOR INDXED ADDRESSES.
 0159   INDEX    XCH    POLISH
 0160            TS     SR              SR NOW CONTAINS SUB-ADDRESS
 0161            XCH    CYR             SAVE ORDER CODE
 0162            TS     CYL             TO PREPARE FOR RESTORING
 0163            TC     TAG
 0164            INDEX  TAG1
 0165            CS     X1              INDEX REGISTERS ARE SUBTRACTIVE, ALA 70X
 0166            AD     SR
 0167  2         XCH    POLISH          TS WOULD SKIP ON OVERFLOW
 0168            XCH    CYL             RESTORE OP CODE BITS IN CYR
 0169  2         TS     CYR
 0170            CCS    POLISH          SEE IF BIT 15 SHOULD BE ZERO.  IT SHOULD
 0171            TC     NONINDEX        IF THE ADDRESS IS LESS THAN ROUGHLY
 0172            TC     RELTOVAC +1     -1000D.
 0173            TC     +2
 0174  2         TC     RELTOVAC +1     QUICK ACTION ON THESE ZERO CASES.
 0175            AD     RELTEST         (-976D).
 0176            CCS    A
 0177            XCH    POLISH          LESS THAN -1000. GO DIRECTLY TO
 0178  8         TC     SWADDR          SWITCHED-BANK ADDRESS ROUTINE.
 0179   NONINDEX CS     POLISH          GET 14 BIT ADDRESS
 0180            AD     ERASTEST        SEE IF ERASABLE OR NOT
 0181            CCS    A
 0182            AD     RELTEST         YES - SEE IF IN TEMPORARY BLOCK
 0183            TC     TEST2
 0184            AD     STORTEST        NO - SEE IF STORE ADDRESS
 0185            CCS    A
 0186            TC     PUSHUP3         YES - PUSHUP
 0187            TC     +1              IN CASE THE STORED ADDRESS WAS 2000.
 0188            CAF    BIT15
 0189            AD     POLISH
 0190   SWADDR   TS     BANKREG
 0191            TS     POLISH
 0192            MASK   LOW10
 0193            AD     6K
 0194            TS     ADDRWD
 0195  2         TC     JUMP
 0196   TEST2    CCS    A               DOES THIS REFER TO THE TEMPORARY BLOCK
 0197            TC     RELTOVAC        ADDRESS IS RELATIVE TO VAC AREA.
 0198   LOW11    OCT    3777
 0199            XCH    POLISH          YES - FORM ADDRESS
 0200  2         TS     ADDRWD
 0201   JUMP     CAF    THREE           LOOK AT LOW-ORDER 2 BITS IN 5 BIT CODE
 0202            MASK   CYR
 0203            CCS    A               IF ZERO, LOAD NOW AND CALL IN BANK 0
 0204            TC     +3              NON-ZERO - GO ON.
 0205            TC     DPSET           LOAD DP IF NECESSARY
 0206            TS     BANKREG         CALL IN BANK 0
 0207            CAF    LOW7            BITS 6-13 ARE GUARANTEED TO BE ZERO
 0208            MASK   CYR
 0209            INDEX  A
 0210  8         TC     INDJUMP
 0211   PUSHDOWN XCH    PUSHLOC         NO STORE ADDRESS GIVEN - PUSH DOWN
 0212            TS     ADDRWD          STORED IN THE NEXT ENTRY
 0213            INDEX  MODE
 0214            AD     NO.WDS          2 FOR DP, 6 FOR VECTORS, 3 FOR TP
 0215            TS     PUSHLOC
 0216            INDEX  MODE
 0217  2         TC     INDJUMP +34D    DISPATCH TO CORRECT STORE INSTRUCTION
 0218   PUSHUP1  XCH    Q               THE PUSH-UP ROUTINE IS CALLED UNDER THE
 0219            TS     COMPON          FOLLOWING CIRCUMSTANCES:
 0220            CAF    LOW7               1. NO ADDRESS WORD IS FOUND.
 0221            MASK   CYR                2. A STORE ADDRESS IS FOUND.
 0222            AD     -VXSC           OR 3. AN INACTIVE ADDRESS IS FOUND.
 0223            CCS    A               IF THE REQUESTING OPERATION CODE IS VXSC
 0224            TC     PUSHUPOK        THE MODE MUST BE SWITCHED BEFORE PUSHING
 0225   MINUS1   OCT    -1              UP, SINCE VXSC DEMANDS AN ARGUMENT OF
 0226  2         TC     PUSHUPOK        THE OPPOSITE MODE (SCALAR NEEDS VECTOR,
 0227            CCS    MODE            ETC.)
 0228   MINUS2   OCT    -2              UNUSED CCS BRANCHES.
 0229   NEG3     OCT    -3
 0230            CS     FOUR
 0231            AD     NEG2
 0232            TC     +3
 0233   PUSHUPOK INDEX  MODE            DO PUSH-UP OPERATION.
 0234            CS     NO.WDS          2, 3, OR 6.
 0235            AD     PUSHLOC
 0236            TS     PUSHLOC
 0237            TS     ADDRWD          SET ADDRWD AND LEAVE ADDRESS IN A.
 0238  2         TC     COMPON
 0239  2-VXSC    EQUALS MINUS2
 0240  2PUSHUP2  TC     INCADR          SENT HERE ON INACTIVE ADDRESS
 0241   PUSHUP   TC     PUSHUP1         NO ADDRESS GIVEN SENDS US HERE
 0242  2         TC     JUMP            AND JUMP
 0243   PUSHUP3  CCS    ADRLOC          AN UNEXPECTED STORE ADDRESS SENDS US
 0244            TS     ADRLOC          HERE.
 0245  2         TC     PUSHUP
 0246   RELTOVAC XCH    POLISH          ADDRESS WAS LESS THAN 42, SO ADD
 0247            AD     FIXLOC          ADDRESS OF VAC AREA.
 0248  2         TC     JUMP -1
 0249   INCADR   CAF    ONE
 0250            AD     ADRLOC
 0251            TS     ADRLOC
 0252  8         TC     Q
 0253   IJUMP    TC     ITCF            INTERPRETIVE TRANSFER CONTROL
 0254            TC     VXSC1           VECTOR TIMES SCALAR
 0255            TC     VSU1            VECTOR SUBTRACT
 0256            TC     BMN1            BRANCH MINUS
 0257            TC     STZ1            STORE ZERO
 0258            TC     BOVF            BRANCH ON OVERFLOW
 0259            TC     DAD2            DOUBLE PRECISION ADD
 0260            TC     BHIZ1           BRANCH IF MAJOR PART ZERO
 0261            TC     DSU2            DP SUBTRACT
 0262            TC     DBSU            DP BACKWARDS SUBTRACT
 0263            TC     DMP2            DP MULTIPLY
 0264            TC     SHIFTL          TP LEFT SHIFT
 0265            TC     DDV             DP DIVIDE
 0266            TC     BDDV            DP BACKWARDS DIVIDE
 0267            TC     TRAD            TRIPLE PRECISION ADD
 0268            TC     TSLC            TP SHIFT LEFT AND COUNT
 0269            TC     SHIFTR1         TP SHIFT RIGHT
 0270            TC     DMP2            DP MULTIPLY AND THEN ROUND
 0271            TC     TSU1            TP SUBTRACT
 0272            TC     SIGN            AFFIX SIGN OF X TO MPAC
 0273            TC     MXV1            MATRIX TIMES VECTOR
 0274            TC     VXM1            VECTOR TIMES MATRIX
 0275            TC     VAD1            VECTOR ADD
 0276            TC     BZE1            BRANCH ON ZERO
 0277            TC     BVSU1           BACKWARDS VECTOR SUBTRACT
 0278            TC     VSRT1           VECTOR SHIFT RIGHT
 0279            TC     VSLT1           VECTOR SHIFT LEFT
 0280            TC     BPL1            BRANCH POSITIVE
 0281            TC     DOT1            VECTOR DOT PRODUCT
 0282            TC     CROSS1          VECTOR CROSS PRODUCT
 0283  2         TC     VPROJ1          VECTOR PROJECTION
 0284            TC     TTS1
 0285            TC     DTS1            DP TRANSFER TO STORAGE
 0286            TC     VTS1            VECTOR TS
 0287  2         TC     LOAD +1         LOADING
 0288  26K       EQUALS IJUMP +3        BMN STARTS AT LOCATION 6000
 0289  8INDJUMP  EQUALS IJUMP -1
 0290   NONJUMP  TC     EXIT
 0291            TC     AXT             ADDRESS TO INDEX TRUE
 0292            TC     LXA             LOAD INDEX FROM THE ADDRESS
 0293            TC     LXC             LOAD INDEX FROM ADDRESS COMPLEMENTED
 0294            TC     SXA             STORE INDEX IN THE ADDRESS
 0295            TC     XCHX            INDEX REGISTER EXCHANGE
 0296            TC     INCR            INDEX REGISTER INCREMENT
 0297            TC     XAD             INDEX REGISTER ADD FROM ERASABLE
 0298            TC     XSU             INDEX REGISTER SUBTRACT FROM ERASABLE
 0299            TC     AST             ADDRESS TO STEP TRUE
 0300            TC     AXC             ADDRESS TO INDEX COMPLEMENTED
 0301            TC     TIX             TRANSFER ON INDEX
 0302            TC     NOLOAD          LEAVE MPAC (OR VAC) LOADED
 0303            TC     ITA1            TRANSFER ADDRESS
 0304            TC     SWITCHEM        SWITCH AND TEST INSTRUCTIONS
 0305  2         TC     NEXT            LODON AND ITCQ
 0306   UNAJUMP  TC     TMOVE           FOR TP AS WELL
 0307            TC     VMOVE
 0308            TC     UNIT
 0309            TC     ABVAL1          ABVAL
 0310            TC     VSQ             SQUARE OF VECTOR LENGTH
 0311            TC     SSP             ABSOLUTE VALUE OF SCALAR
 0312            TC     ARCSIN1
 0313            TC     ARCCOS1
 0314            TC     SIN1
 0315            TC     COS1
 0316            TC     SQRTS
 0317            TC     SQUARE
 0318            TC     COMP            COMPLEMENT
 0319            TC     DMOVE
 0320            TC     SMOVE
 0321  8         TC     VDEF            VECTOR DEFINE
 0322   THREE    OCT    3
 0323            OCT    2
 0324  2NO.WDS   OCT    6               3, 2, 6 ORDER IMPORTANT FOR PUSH-DOWN.
 0325   POSMAX   OCT    37777           MUST BE 2 LOCATIONS BEFORE NEGMAX
 0326   FIVE     OCT    5
 0327  2LIMITS   EQUALS POSMAX +1       USED BY CDU COUNTER ARITHMETIC PROGRAMS.
 0328   BIT15    OCT    40000
 0329   BIT14    OCT    20000
 0330   BIT13    OCT    10000
 0331   BIT12    OCT    04000
 0332   BIT11    OCT    02000
 0333   BIT10    OCT    01000
 0334   BIT9     OCT    00400
 0335   BIT8     OCT    00200
 0336   BIT7     OCT    00100
 0337   BIT6     OCT    00040
 0338   BIT5     OCT    00020
 0339   BIT4     OCT    00010
 0340   BIT3     OCT    00004
 0341   BIT2     OCT    00002
 0342  2BIT1     OCT    00001
 0343   QUARTER  EQUALS BIT13
 0344   EIGHT    EQUALS BIT4
 0345   ONE      EQUALS BIT1
 0346   ERASTEST EQUALS BIT11
 0347   BUGBITS  EQUALS 5777
 0348   ATSBITS  EQUALS 5777
 0349   NEG2     EQUALS MINUS2
 0350   SIX      EQUALS NO.WDS
 0351   NEG1     EQUALS MINUS1
 0352  2NEGSIGN  EQUALS BIT15
 0353   RELTEST  DEC    -976
 0354   NEG1/2   2DEC   -.5
 0355   POS1/2   2DEC   .5
 0356  8HALF     EQUALS POS1/2
 0357   TCS1     CS     BUF +2          USED BY DMP, ETC
 0358            TS     MPAC +2
 0359            CS     BUF +1
 0360            TS     MPAC +1
 0361            CS     BUF
 0362            TS     MPAC
 0363  2         TC     Q
 0364   TCA1     INDEX  ADDRWD          TRIPLE PRECISION CLEAR AND ADD
 0365            CS     2
 0366            CS     A
 0367  2         TC     +2
 0368   DCA1     XCH    ZERO            DOUBLE PRECISION CLEAR AND ADD
 0369            TS     MPAC +2           (CLEARS MPAC +2)
 0370            INDEX  ADDRWD
 0371            CS     1
 0372            CS     A
 0373            TS     MPAC +1
 0374            INDEX  ADDRWD
 0375            CS     0
 0376            CS     A
 0377            TS     MPAC
 0378  2         TC     LOADRET         PREPARE TO DECODE NEXT ADDRESS
 0379   STORE3   CS     MPAC +2         TRIPLE PRECISION TRANSFER TO STORAGE
 0380            CS     A
 0381            INDEX  ADDRWD
 0382            TS     2
 0383   DTS1     CS     MPAC +1         DOUBLE PRECISION TRANSFER TO STORAGE
 0384            CS     A
 0385            INDEX  ADDRWD
 0386   TSQ      TS     1
 0387            CS     MPAC
 0388   MSIGN    CS     A
 0389            INDEX  ADDRWD
 0390            TS     0
 0391  2NEQRET   TC     NEWEQUN         START NEW EQUATION
 0392  8TTS1     EQUALS STORE3
 0393  9                35W
 0394   DOBR     XCH    POLISH          DOES BRANCHES
 0395  2         TC     DOBR2
 0396   EXIT2    CS     BANKSET         COMPLETE EXIT EXECUTION BY CALLING IN
 0397            TS     BANKREG         BANK OF OBJECT INTERPRETIVE PROGRAM.
 0398  2         TC     ADRLOC
 0399   SWF/F    CS     BANKSET         BRANCHING TEST INSTRUCTION
 0400            TS     BANKREG         RETURNS HERE TO PICK UP BRANCHING ADDRES
 0401            INDEX  ADRLOC
 0402            CAF    0               BRANCH IS ALWAYS TO FIXED.
 0403            AD     NEG1            UNDO YULISH INCREMENT.
 0404  2         AD     BIT15
 0405   DOBR2    TS     BANKREG
 0406            MASK   LOW10
 0407            AD     6K-1
 0408  2         TC     INTPRET +1
 0409   LOW10    OCT    1777
 0410   LOW9     OCT    777
 0411  26K-1     OCT    5777
 0412   VCA1     XCH    Q               VECTOR CLEAR-AND-ADD ROUTINE
 0413            TS     TEM5
 0414            CAF    NEGSIGN
 0415            TC     VECMOVE
 0416  2         TC     TEM5
 0417   VCS1     XCH    Q               DP VECTOR CLEAR-AND-SUBTRACT
 0418            TS     TEM5
 0419            CAF    NOOP
 0420  2         TC     VCA1 +3
 0421   VTS1     XCH    ADDRWD          TRANSFER TO STORAGE
 0422            XCH    VACLOC          EXCHANGE VACLOC AND ADDRWD AND DO AN
 0423            TS     ADDRWD          EFFECTIVE *CLEAR-AND-ADD*.
 0424            CAF    NEGSIGN
 0425            TC     VECMOVE
 0426            XCH    ADDRWD          RESTORE VACLOC
 0427            TS     VACLOC
 0428  8         TC     NEWEQUN         THIS ONLY HAPPENS AT END OF EQUATION
 0429   VECMOVE  TS     TEM2            MOVES A DP VECTOR IN THE FASTEST WAY
 0430            INDEX  ADDRWD          AVAILABLE. USED BY VCA, VCS, AND VTS.
 0431            CS     5
 0432            INDEX  TEM2
 0433            0      0               COM FOR VCA, VTS. NOOP FOR VCS.
 0434            INDEX  VACLOC
 0435  2         TS     5
 0436            INDEX  ADDRWD
 0437            CS     4
 0438            INDEX  TEM2
 0439            0      0
 0440            INDEX  VACLOC
 0441  2         TS     4
 0442            INDEX  ADDRWD
 0443   OCT40003 CS     3               CONSTANT USED BY UNARY LOAD ROUTINE.
 0444            INDEX  TEM2
 0445            0      0
 0446            INDEX  VACLOC
 0447  2         TS     3
 0448            INDEX  ADDRWD
 0449   OCT40002 CS     2
 0450            INDEX  TEM2
 0451            0      0
 0452            INDEX  VACLOC
 0453  2         TS     2
 0454            INDEX  ADDRWD
 0455   CSQ      CS     1               CONSTANT USED BY WAITLIST.
 0456            INDEX  TEM2
 0457            0      0
 0458            INDEX  VACLOC
 0459  2         TS     1
 0460            INDEX  ADDRWD
 0461            CS     0
 0462            INDEX  TEM2
 0463            0      0
 0464            INDEX  VACLOC
 0465  2         TS     0
 0466  8         TC     Q               DONE
 0467   STZ1     CAF    ZERO
 0468            INDEX  ADDRWD
 0469  2         TS     0
 0470   RE-ENTER CS     BANKSET         ROUTINE  SIMILAR TO *DANZIG* EXCEPT THAT
 0471  2         TS     BANKREG         NO PUSHING DOWN IS DONE AT END OF EQUN.
 0472            CCS    ORDER           IT IS USED BY MISCELLANEOUS INSTRUCTIONS
 0473  2         TC     LOWWD           AND BRANCHES WHICH FAILED
 0474            INDEX  LOC             IF WE HAD RETURNED DIRECTLY TO THE MAIN
 0475            CS     1
 0476            CCS    A
 0477            TC     IPROC           IT IS USED BY BRANCH INSTRUCTIONS WHICH
 0478  2NOOP     NOOP                   IN CASE THE FIRST ADDRESS WAS INACTIVE
 0479            INDEX  ADRLOC          SEE IF A LEFT-OVER ADDRESS
 0480            CS     1
 0481            CCS    A
 0482            TC     NEWEQUN         NO - START NEW EQUATION
 0483   LOW7     OCT    177
 0484  2         TC     STORADR         YES - MUST BE STORE ADDRESS
 0485  8STOR1    EQUALS STZ1 +1
 0486   TAG      CCS    CYR             SETS TAG1 ACCORDING TO SIGN BIT IN CYR
 0487            CAF    ZERO
 0488            CCS    A               SKIP NEXT INS WITHOUT CHANGING Q
 0489            CAF    ONE
 0490            AD     FIXLOC          INDEXES AND STEPS IN VAC AREA
 0491            TS     TAG1
 0492  2         TC     Q
 0493  2TCBUF    ADRES  BUF
 0494   DSU2     TC     DPSET           DP SUBTRACT
 0495            TC     ADDTOSUB
 0496  2         TC     DAD2 +1
 0497   DBSU     TC     DPSET
 0498            TC     DACCOM          COMPLEMENT DP ACCUM
 0499  2         TC     DAD2 +1         AND ADD
 0500   MPACCOM  CS     MPAC +2         COMPLEMENT MPAC
 0501            TS     MPAC +2
 0502   DACCOM   CS     MPAC +1
 0503            TS     MPAC +1
 0504            CS     MPAC
 0505            TS     MPAC
 0506  2         TC     Q
 0507   DPSET    CS     ONE             SET UP DP MODE AND LOAD IF NECESSARY
 0508            TS     MODE
 0509            CCS    NEWEQIND
 0510            TC     LOAD
 0511  2         TC     Q
 0512   VECSET   CS     ZERO            SIMILARLY FOR VECTORS
 0513            TS     MODE
 0514            CCS    NEWEQIND
 0515            TC     LOAD
 0516  2         TC     Q
 0517   TPSET    CS     TWO             AND FOR TP
 0518            TS     MODE
 0519            CCS    NEWEQIND
 0520            TC     LOAD
 0521  8         TC     Q
 0522   DAD2     TC     DPSET           DOUBLE PRECISION ADD INSTRUCTION
 0523            CAF    DAD2 +4
 0524            TC     DAD1            PROGRAM USES CLOSED SUBROUTINE DAD1,
 0525  2         TC     INT1            WITH ADDRESSES SET UP IN ADDRWD, TEM2
 0526  2+4       ADRES  MPAC
 0527   TSU1     TC     TPSET           TRIPLE PRECISION SUBTRACT INSTRUCTION
 0528            TC     ADDTOSUB
 0529  2         TC     TRAD +1
 0530   TRAD     TC     TPSET           TRIPLE PRECISION ADD INSTRUCTION
 0531            TC     +2
 0532  2         TC     INT1
 0533   +3       XCH    Q
 0534            TS     TEM5
 0535            CAF    DAD2 +4
 0536            TS     TEM2
 0537            INDEX  A
 0538            XCH    2
 0539            INDEX  ADDRWD
 0540            AD     2
 0541            INDEX  TEM2
 0542            TS     2               AGAIN SKIPPING, AS IN DAD1
 0543            CAF    ZERO
 0544            INDEX  TEM2
 0545            AD     1
 0546  2         TC     DAD1 +3         FINISH IN DAD1
 0547  8         TC     TEM5            AND RETURN
 0548   DAD1     TS     TEM2            DOUBLE PRECISION ADD ROUTINE
 0549            INDEX  TEM2            POLYNOMIAL EVALUATOR ENTERS HERE.
 0550            XCH    1
 0551   +3       INDEX  ADDRWD
 0552            AD     1
 0553            INDEX  TEM2
 0554            TS     1               SKIPS IF OVERFLOW WITH COUNT IN A
 0555            CAF    ZERO            NO OVERFLOW IF HERE
 0556            INDEX  TEM2            ARRIVE HERE WITH 1 OR -1 IN A IF OVERFLO
 0557            AD     0
 0558            INDEX  ADDRWD
 0559            AD     0
 0560            INDEX  TEM2
 0561            TS     0               AND AGAIN SKIP IF OVERFLOW
 0562            TC     Q               EXIT IF NONE
 0563            TS     OVFIND          SAVE ANY OVERFLOW FOR BOV TESTING
 0564  2         TC     Q
 0565   8TO2     TS     TEM8            MOVES THE DP WORD LOCATED AT THE ADDRESS
 0566            INDEX  A               IN A TO THE ADDRESS IN TEM2
 0567            CS     0
 0568            CS     A
 0569            INDEX  TEM2
 0570            TS     0
 0571            INDEX  TEM8
 0572            CS     1
 0573            CS     A
 0574            INDEX  TEM2
 0575            TS     1
 0576  2         TC     Q
 0577   ADDTOSUB XCH    ADDRWD          BY PUTTING THE APPROPRIATE BITS IN
 0578            AD     ATSBITS         ADDRWD, DAD1 DOES A DOUBLE SUBTRACT IN-
 0579            TS     ADDRWD          STEAD OF A DOUBLE ADD.
 0580  8         TC     Q
 0581   DMP2     TC     DPSET           DP MULTIPLY (AND ROUND) ROUTINE
 0582            XCH    ADDRWD
 0583            AD     BUGBITS         MAKE EXENDED CODE ADDRESS.
 0584   DSQ2     TS     TEM4            ENTRY FROM DSQ ROUTINE.
 0585            XCH    DAD2 +4         C(DAD2 +4) = TC MPAC
 0586            TC     DMP1            EXECUTE MULTIPLY AT DMP1, THEN EXIT
 0587            TC     TCS1            VIA TCS1 TO MOVE (BUF TO BUF+2)
A0588  2                                INTO (MPAC TO MPAC+2).
 0589   OCT40020 CS     CYR
 0590            CCS    CYR
 0591   MPACRND  CAF    DAD2 +4         SET UP ROUND SUBROUTINE TO ROUND MPAC.
 0592            TC     PREROUND +1
 0593  2         TC     DANZIG
 0594   SHIFTR1  TC     DPSET           TSRT INSTRUCTION.
 0595            TS     BANKREG         SUBROUTINE IN BANK 0
 0596            TC     TRUE2           GET INTEGER ADDRESS BACK
 0597            TC     SHIFTR -1       WITH DECREMENTED COUNT IN A.
 0598  8         TC     DANZIG
 0599   DMP1     TS     TEM2            GENERAL PURPOSE DP MULTIPLICATION
 0600            INDEX  TEM2            POLYNOMIAL ENTERS HERE.
 0601            CS     1
 0602            TS     OVCTR           -N1 TO OVCTR
 0603            INDEX  TEM4
 0604            MP     1               -M1N1
 0605            XCH    OVCTR           -U(M1N1) TO OVCTR, -N1 TO A
 0606            INDEX  TEM4
 0607            MP     0               -M0N1
 0608            XCH    OVCTR           -U(M0N1) TO OVCTR, -U(M1N1) TO A
 0609            AD     LP              MAYBE INCREMENT -U(M0N1) IN OVCTR
 0610            XCH    BUF +1          -L(M0N1)-U(M1N1) TO BUF+1
 0611            INDEX  TEM2
 0612            CS     0
 0613            TS     BUF +2          -N0 TO BUF+2
 0614            INDEX  TEM4
 0615            MP     1               -M1N0
 0616            XCH    OVCTR           -U(M1N0) TO OVCTR, -U(M0N1) TO A
 0617            XCH    BUF +1          -U(M0N1) TO BUF+1, -L(M0N1)-U(M1N1) TO A
 0618            AD     LP              MAYBE INCREMENT -U(M1N0) IN OVCTR
 0619            XCH    BUF +2          -L(M1N0)-L(M0N1)-U(M1N1) TO BUF+2, -N0 T
 0620  9O A
 0621            INDEX  TEM4
 0622            MP     0               -M0N0
 0623            XCH    OVCTR           -U(M0N0) TO OVCTR, -U(M1N0) TO A
 0624            AD     LP
 0625            XCH    BUF +1
 0626            AD     BUF +1
 0627            XCH    BUF +1
 0628            XCH    OVCTR
 0629            TS     BUF
 0630  2         TC     Q
R0631  8           TIMING:  86 MC +-2  OR 1.032 MS +-0.024
 0632  9                          30 WORDS
 0633   BDDV     TC     DPSET           BACKWARDS DP DIVIDE
 0634            CAF    ONE             SET SWITCH
 0635  2         TC     +2              AND GO ON AS USUAL
 0636   DDV      TC     DPSET           REGULAR DP DIVIDE
 0637            TS     DVSW            DPSET RETURNS WITH 0 IN A
 0638            CAF    LDANZIG         RETURN TO DANZIG
 0639            TS     TEMQ3
 0640            CAF    TCBUF
 0641            TS     TEM2
 0642            XCH    ADDRWD
 0643  2         TC     8TO2            X,X+1 INTO BUF, BUF+1
 0644            CAF    ZERO
 0645            TS     BANKREG         CALL IN BANK 0
 0646  2         TC     DDV0            TO BANK 0 PORTION
 0647   DMP      XCH    Q               DP MULTIPLY ROUTINE WHICH CAN BE CALLED
 0648            TS     TEM5            BY TC DMP, FOLLOWED BY A WORD CONTAINING
 0649            INDEX  A               THE ADDRESS OF THE MULTIPLIER WITH
 0650            CAF    0               BITS IN THE ORDER CODE TO CALL IN MP
 0651            TS     TEM4            IN THE EXTENDED CODE (UNKNOWN AS YET)
 0652            CAF    DAD2 +4
 0653            TC     DMP1
 0654            TC     TCS1
 0655            INDEX  TEM5            TIME IS 120 MC+-2, OR ABOUT 1.44 MS
 0656  2         TC     1               RETURN TO INSTRUCTION AFTER ADDRESS WORD
 0657   DAD      XCH    Q               DP ADD ROUTINE WORKING JUST AS MP ABOVE
 0658            TS     TEM5            HERE, HOWEVER, ONLY *ADRES X* IS NEEDED
 0659            INDEX  A               SINCE AD IS PART OF THE REGULAR CODE
 0660            CAF    0
 0661            TS     ADDRWD
 0662            CAF    DAD2 +4
 0663            TC     DAD1
 0664            INDEX  TEM5
 0665  8         TC     1               TIME IS 48+-2 MC OR 576 MICRO-SEC.
 0666   VACCOM   XCH    Q               COMPLEMENT THE APPROPRIATE VAC
 0667            TS     TEM5
 0668            CS     VACLOC
 0669            COM
 0670            XCH    ADDRWD
 0671            TS     TEM4
 0672  2         TC     VCS1 +2
 0673   VSU1     TC     VECSET          DP VECTOR SUBTRACT
 0674            TC     ADDTOSUB
 0675  2         TC     VAD1 +1         USES VAD ROUTINE WITH SUBS
 0676   BVSU1    TC     VECSET          DP VECTOR BACKWARDS SUBTRACT
 0677            TC     VACCOM          JUST COMPLEMENT VAC
 0678            XCH    TEM4
 0679            TS     ADDRWD
 0680  2         TC     VAD1 +1         AND ADD
 0681   VAD1     TC     VECSET
 0682            XCH    VACLOC          DP VECTOR ADD
 0683            TS     VACLOC
 0684            TC     DAD1
 0685            TC     AD2
 0686            TC     INCRT2
 0687            TC     DAD1
 0688            TC     AD2
 0689            TC     INCRT2
 0690            TC     DAD1
 0691  8         TC     INT1
 0692   DOT1     TC     VECSET          DP DOT PRODUCT ROUTINE
 0693            TC     DOT2
 0694            TC     MPACCOM
 0695   DPEXIT   CS     ONE             CHANGE MODE TO DOUBLE-PRECISION
 0696            TS     MODE
 0697  2         TC     DANZIG
 0698   AD2      XCH    ADDRWD
 0699            AD     TWO
 0700            TS     ADDRWD
 0701  2         TC     Q
 0702   DOT2     XCH    TWO             SUBROUTINE DOT2 COMPUTES THE TRIPLE-
 0703            TS     TEM11
 0704            XCH    TCBUF           SIGN, IN MPAC TO MPAC+2.
 0705            XCH    ADDRWD
 0706            AD     BUGBITS
 0707            TS     TEM4
 0708            XCH    Q
 0709            TS     TEM8
 0710            XCH    VACLOC
 0711            TS     VACLOC
 0712            TC     DMP1
 0713            XCH    BUF
 0714            TS     MPAC
 0715            XCH    BUF +1
 0716            TS     MPAC +1
 0717            XCH    BUF +2
 0718            TS     MPAC +2
 0719            TC     INCRT4
 0720            TC     INCRT2
 0721            TC     DMP1
 0722            TC     TRAD +3
 0723            TC     INCRT4
 0724            XCH    VACLOC
 0725            TS     VACLOC
 0726            AD     FOUR
 0727            TC     DMP1
 0728            TC     TRAD +3
 0729  8         TC     TEM8
 0730   INCRT4   XCH    TEM4
 0731            AD     TEM11
 0732            TS     TEM4
 0733  2         TC     Q
 0734   VXM1     TC     VECSET          DP VECTOR TIMES MATRIX
 0735            CS     ADDRWD
 0736            TS     TEM10
 0737            XCH    TWO
 0738            TS     TEM9
 0739            XCH    SIX
 0740            TC     DOT2 +1
 0741  2         TC     MXV2            REST OF OPERATION USES MXV ROUTINE
 0742   MXV1     TC     VECSET          MATRIX TIMES DP VECTOR
 0743            CS     ADDRWD
 0744            TS     TEM10
 0745            XCH    SIX             PROGRAM USES DOT PRODUCT ROUTINES TO
 0746            TS     TEM9
 0747  2         TC     DOT2
 0748   MXV2     CAF    K2              USES VBUF
 0749            TC     STORDAC
 0750            CS     TEM10
 0751            AD     TEM9
 0752            TS     TEM10
 0753            TS     ADDRWD
 0754  2         TC     DOT2 +2
 0755            CAF    K2 +1
 0756            TC     STORDAC
 0757            XCH    TEM10
 0758            AD     TEM9
 0759            TS     ADDRWD
 0760  8         TC     DOT2 +2
 0761            CAF    K2
 0762            TS     ADDRWD
 0763            AD     FOUR
 0764            TC     STORDAC
 0765            TC     VCA1
 0766  2         TC     DANZIG
 0767   STORDAC  TS     TEM4            SUBROUTINE TO STORE MPAC, MPAC+1 IN
 0768            CS     MPAC            ADDRESSES INDICATED BY C(A) AT ENTRY.
 0769            INDEX  TEM4
 0770            TS     0
 0771            CS     MPAC +1
 0772            INDEX  TEM4
 0773            TS     1
 0774  2         TC     Q
 0775   VXSC1    CCS    NEWEQIND        DP VECTOR TIMES SCALAR
 0776            TC     VECSET          LOAD INSTRUCTION
 0777            CCS    MODE            IF NOT, WHICH MODE ARE WE IN
 0778   SEVEN    OCT    7
 0779  2MINUS13  DEC    -13
 0780  2         TC     VECCHECK
 0781            XCH    ADDRWD
 0782            AD     BUGBITS         TO CALL IN MP
 0783  2         TC     VXSC2
 0784   VECCHECK TC     VCA1            USE ADDRWD TO LOAD VECTOR
 0785  8         CAF    BUGMPAC
 0786   VXSC2    TS     TEM4
 0787            CS     VACLOC
 0788            COM
 0789            TC     DMP1
 0790            TC     PREROUND
 0791            TC     STB
 0792            TC     INCRT2
 0793            TC     DMP1
 0794            TC     ROUND
 0795            TC     STB
 0796            TC     INCRT2
 0797            TC     DMP1
 0798            TC     ROUND
 0799            TC     STB
 0800   ZEROEXIT CS     ZERO            CHANGE MODE TO VECTOR
 0801  2         TC     DPEXIT +1
 0802  2INT1     EQUALS DANZIG
 0803   INCRT2   XCH    TEM2
 0804            AD     TWO
 0805            TS     TEM2
 0806  8         TC     Q
 0807   SHORTMP  XCH    MPAC +2         MULTIPLY THE CONTENTS OF MPAC,MPAC+1,
 0808            EXTEND                 MPAC+2 BY THE SINGLE PRECISION NUMBER
 0809            MP     MPAC +2         ARRIVING IN A.
 0810  2         XCH    MPAC +2
 0811   SHORTMP2 XCH    MPAC +1         FASTER BUT SLOPPIER VERSION FOR DP
 0812            EXTEND
 0813            MP     MPAC +1
 0814            TS     OVCTR
 0815            XCH    LP
 0816            AD     MPAC +2         THE SHORTMP2 RESULT WILL BE OFF IN THE
 0817            XCH    MPAC +2           LAST BIT IF THIS AD OVERFLOWS.
 0818            XCH    MPAC
 0819            EXTEND
 0820            MP     MPAC +1
 0821            XCH    OVCTR
 0822            AD     LP
 0823            XCH    MPAC +1
 0824            XCH    OVCTR           ARGUMENT IN OVCTR UPON EXIT
 0825            TS     MPAC
 0826  2         TC     Q
 0827   PREROUND CAF    TCBUF
 0828  2         TS     TEM8
 0829   ROUND    CAF    ZERO            ROUND THE TRIPLE-PRECISION NUMBER WHOSE
 0830            INDEX  TEM8            ADDRESS IS IN TEM8 TO DOUBLE-PRECISION,
 0831            XCH    2               SETING THE LOWEST ORDER OF THE THREE
 0832            DOUBLE                 WORDS TO ZERO IN THE PROCESS
 0833            TS     OVCTR
 0834  2         TC     Q               DONE IF DOESNT SKIP
 0835            INDEX  TEM8
 0836            AD     1
 0837            INDEX  TEM8
 0838            TS     1
 0839  2         TC     Q
 0840            INDEX  TEM8
 0841            AD     0
 0842            INDEX  TEM8
 0843            TS     0               ANY CARRIES BEYOND THIS POINT ARE
 0844  2         TC     Q               OVERFLOW
 0845            TS     OVFIND
 0846  8         TC     Q
 0847   STB      CS     BUF
 0848            INDEX  TEM2
 0849            TS     0
 0850            CS     BUF +1
 0851            INDEX  TEM2
 0852            TS     1
 0853  2         TC     Q
 0854   K2       0      VBUF
 0855            0      VBUF +2
 0856  2         0      VBUF +4
 0857  2STORTEST EQUALS K2 -2
 0858   SEQ      OCT    2
 0859   ZERO     OCT    0
 0860   FOUR     OCT    4
 0861   TWO      OCT    2
 0862  2NEG0     OCT    -0
 0863   VPROJ1   TC     VECSET          VECTOR PROJECT
 0864            TC     DOT2            LEAVES (VAC.X)VAC IN VAC
 0865            TC     DACCOM
 0866  2         TC     VXSC2 -1        FINISH IN VXSC (USING MPAC)
 0867   CROSS1   TC     VECSET          DP VECTOR CROSS PRODUCT (BOTH WAYS)
 0868            XCH    TCBUF
 0869            XCH    ADDRWD
 0870            AD     BUGBITS         AGAIN FOR MP
 0871            TS     BASE
 0872            AD     TWO             WHERE THE VECTOR X IS THAT ADDRESSED
 0873            TS     TEM4            BY THE ORDER, AND V IS C(VAC).
 0874  8         XCH    TWO
 0875   LUP      TS     IND
 0876            INDEX  IND
 0877            XCH    SEQ
 0878            AD     VACLOC
 0879            TC     DMP1
 0880            INDEX  IND
 0881            XCH    SEQ +2
 0882            AD     K2
 0883            TS     TEM6
 0884            TS     TEM2
 0885            TC     STB
 0886            INDEX  IND
 0887            XCH    SEQ
 0888            AD     BASE
 0889            TS     TEM4
 0890            INDEX  IND
 0891            XCH    SEQ +1
 0892            AD     VACLOC
 0893            TC     DMP1
 0894            XCH    TEM6
 0895            TC     DAD1
 0896            CCS    IND
 0897  2         TC     LUP
 0898   CREXIT   XCH    K2
 0899            TS     ADDRWD
 0900            TC     VCS1            VXV
 0901  8LDANZIG  TC     DANZIG
R0902  2DOUBLE-PRECISION POLYNOMIAL EVALUATION ROUTINE.
R0903  2PROGRAM ENTRY
R0904   L        TC     POLY
R0905                                                                N
R0906   L+1      OCT    -2N             COMPUTES A  + A X + ... + A X , WHERE
R0907                                             0    1           N
R0908   L+2      D.P.   - A             X = C(MPAC).
R0909  2                   0
R0910  2-   -   -   -   -   -   -   -
R0911   L+2+2N   D.P.   - A
R0912  2                   N
R0913  2L+4+2N   NEXT OPERATION
 0914   POLY     CAF    BUGBITS2        CONTAINS XCADR VBUF
 0915            TS     TEM4
 0916            CAF    ZERO            ZERO INTO BUF, BUF+1 TO START POLYLUP
 0917            TS     BUF
 0918  2         TS     BUF +1
 0919            XCH    MPAC            ARGUMENT  X  INTO 6T, 7T
 0920            TS     VBUF            TEMPORARY STORAGE
 0921            XCH    MPAC +1
 0922  2         TS     VBUF +1
 0923            CAF    DAD2 +4         ADDRESS OF MPAC
 0924  2         TS     TEM2
 0925            INDEX  Q               2N  INTO 10T
 0926            CAF    0
 0927            TS     TEM10
 0928            AD     Q               EXIT ADDRESS INTO 11T
 0929            AD     THREE
 0930            TS     TEM9
 0931  8         TC     POLYLUP +3
 0932   POLYLUP  TS     TEM10
 0933  2         TC     DMP1 +1
 0934            XCH    ADDRWD
 0935    +3      AD     NEG2            REDUCE COEFFICIENT INDEX BY 1
 0936            TS     ADDRWD          COEFFICIENT LOC IN ADDRWD FOR USE BY
 0937            TC     TCS1 +2         -BUF,BUF+1 INTO MPAC,MPAC+1
 0938  2         TC     DAD1 +1         - COEFF + (BUF) INTO BUF
 0939            CCS    TEM10
 0940            AD     NEG1            THE AD NEG1 ORDER, -0 WILL BE THE END
 0941  2         TC     POLYLUP
 0942  2BUGBITS2 XCADR  VBUF            USED BY POLY
 0943  8         TC     TEM9            RETURN
 0944   ITCF     CS     BANKSET         ITC - UNCONDITIONAL TRANSFER
 0945            XCH    ADRLOC          PLACE IN QPRET THE POLISH ADDRESS OF
 0946            MASK   LOW10           THE NEXT EQUATION. ITC MUST BE THE LAST
 0947            AD     ADRLOC          NON-BLANK OPERATOR IN AN EQUATION
 0948            AD     ONE
 0949            INDEX  FIXLOC
 0950            TS     QPRET
 0951            CCS    ADDRWD
 0952  2         TC     INTPRET +1      BANKREG IS ALREADY SET
 0953   BOVF     CCS    OVFIND          BRANCH IF OVERFLOW INDICATOR IS ON
 0954            TC     +2              OVFIND CAN BE EITHER -1, 0, OR +1
 0955            TC     DANZIG          IT WAS OFF - DISPATCH NEXT OPERATOR.
 0956            TS     OVFIND          IT WAS ON - SET TO 0 (OFF)
 0957  2         TC     DOBR            AND DO THE BRANCH
 0958   VSLT1    TC     VECSET          DP VECTOR SHIFT LEFT
 0959            TS     BANKREG
 0960  2         TC     VSLT2
 0961   VSRT1    TC     VECSET          DP VECTOR SHIFT RIGHT
 0962            TS     MPAC +1         SET SHIFTING BIT IN MPAC,MPAC+1
 0963            TS     BANKREG         CALL IN BANK ZERO.
 0964            TC     TRUE2           GET INTEGER ADDRESS
 0965            AD     NEG13
 0966            CCS    A
 0967            TC     VSRT3
 0968   NEG14    DEC    -14
 0969            TC     +1
 0970            INDEX  ADDRWD
 0971            CAF    BIT15
 0972            TS     MPAC
 0973  2         TC     VECCHECK +1     FINISH IN VXSC ROUTINE.
 0974   VSRT3    INDEX  A
 0975            CAF    BIT14
 0976            XCH    MPAC +1         WHICH PREVIOUSLY CONTAINED A ZERO
 0977  2         TC     VSRT3 -2
 0979  2         SETLOC 5777            STANDARD LOCATION FOR EXTENDING BITS
 0980   OPOVF    XCADR  0
L 001  2BANK 03 INTERPRETER SECTION
 0001  2         SETLOC 6000
 0002   BMN1     TC     BRANCH          BRANCH MINUS
 0003            TC     RE-ENTER
 0004            TC     RE-ENTER
 0005  2         TC     DOBR
 0006   BPL1     TC     BRANCH          BRANCH PLUS
 0007            TC     DOBR
 0008            TC     DOBR
 0009  2         TC     RE-ENTER
 0010   BZE1     TC     BRANCH          BRANCH ZERO
 0011            TC     RE-ENTER
 0012            TC     DOBR
 0013  2         TC     RE-ENTER
 0014   BHIZ1    CCS    MPAC            BRANCH ON HIGH ORDER ZERO
 0015            TC     RE-ENTER        PNZ
 0016            TC     DOBR
 0017            TC     RE-ENTER
 0018  2         TC     DOBR
 0019   BRANCH   XCH    Q
 0020            TS     BRANCHQ
 0021            CCS    MPAC
 0022            TC     BRANCHQ
 0023            TC     +2
 0024  2         TC     MINUS
 0025            CCS    MPAC +1
 0026            TC     BRANCHQ
 0027            TC     +2
 0028  2         TC     MINUS
 0029            CCS    MPAC +2
 0030            TC     BRANCHQ
 0031            TC     +2
 0032   MINUS    CAF    ONE
 0033            AD     ONE
 0034            AD     BRANCHQ
 0035  8         XAQ
 0036   TRUE2    CS     FIXLOC          RESTORES INTEGER ADDRESSES
 0037            AD     ADDRWD
 0038            TS     ADDRWD
 0039            CCS    A               WE MUST ELIMINATE THE MINUS ZERO CASE
 0040            TC     Q               OK HERE
 0041            TC     CCSHOLE
 0042            TC     +2              IF ADDRESS WAS NEGATIVE
 0043            TC     DANZIG          FAST EXIT FOR ZERO SHIFT COUNTS
 0044            INDEX  MODE            RIGHT SHIFT INSTEAD OF A LEFT ONE
 0045            TC     +3              CCS  FOLLOWED BY ADD LEFT THE COUNT POS.
 0046            TC     SHIFTR1 +3      SO WE NEED ONLY CALL THE APPROPRIATE
 0047            TC     SHIFTR1 +3      SHIFT RIGHT INSTRUCTION.
 0048            CS     ADDRWD          PUT POSITIVE COUNT IN ADDRWD.
 0049            TS     ADDRWD
 0050            AD     NEG1            DECREMENT LIKE CCS BEFORE RETURNING.
 0051  2         TC     VSRT1 +4
 0052   AST      TC     TAG
 0053            CS     POLISH
 0054   SSTORE   INDEX  TAG1
 0055            XCH    40D             STEP REGISTER
 0056  2         TC     RE-ENTER
 0057   AXC      TC     TAG             ADDRESS TO INDEX COMPLEMENTED
 0058            XCH    POLISH
 0059  2         TC     XSTORE
 0060   AXT      TC     TAG
 0061            CS     POLISH
 0062   XSTORE   INDEX  TAG1
 0063            XCH    38D             MAY HAVE OVERFLOWED
 0064  2         TC     RE-ENTER
 0065   LXA      TC     TAG
 0066            INDEX  ADDRWD          MUST BE ERASABLE - NOT NEEDED OTHERWISE
 0067            CS     0
 0068   +3       CS     A
 0069  2         TC     XSTORE
 0070   LXC      TC     TAG             LOAD INDEX FROM ADDRESS COMPLEMENTED
 0071            INDEX  ADDRWD
 0072            CS     0
 0073  2         TC     XSTORE
 0074   SXA      TC     TAG
 0075            INDEX  TAG1
 0076            CS     38D             GET INDEX
 0077            CS     A
 0078  8         TC     STOR1
 0079   TIX      TC     TAG
 0080            INDEX  TAG1            GET APPROPRIATE STEP REGISTER
 0081            CS     40D             STEP REGISTER
 0082            INDEX  TAG1
 0083            AD     38D
 0084            TS     TEM2            TO TEMPORARY
 0085            CCS    A
 0086            XCH    TEM2            DECREMENT INDEX AND BRANCH
 0087            TC     TIXBR
 0088            TC     RE-ENTER        INDEX LEFT ALONE AND NO BRANCH
 0089  2LNOBR    TC     RE-ENTER
 0090   TIXBR    INDEX  TAG1
 0091            TS     38D
 0092            CS     POLISH
 0093  2         TC     DOBR2
 0094   INCR     TC     TAG
 0095            CS     POLISH
 0096            INDEX  TAG1
 0097            AD     38D
 0098  2         TC     XSTORE
 0099   XCHX     TC     TAG
 0100            INDEX  ADDRWD
 0101            XCH    0
 0102            INDEX  TAG1
 0103            XCH    38D
 0104  2         TC     STOR1
 0105   XSU      TC     TAG             INDEX REGISTER SUBTRACT FROM ERASABLE
 0106            INDEX  ADDRWD
 0107            CS     0
 0108  2         TC     INCR +2
 0109   XAD      TC     TAG             INDEX REGISTER ADD FROM ERASABLE
 0110            INDEX  ADDRWD
 0111            CS     0
 0112            COM
 0113  8         TC     INCR +2
 0114   VDEF     CAF    ZERO
 0115            AD     VACLOC          USES MPAC AS V0, PUSHES UP FOR V1, AND
 0116            TS     TEM2            PUSHES UP AGAIN FOR V2. THE RESULTING
 0117            CAF    DAD2 +4         VECTOR IS LEFT IN VAC
 0118            TC     8TO2
 0119            TC     INCRT2
 0120            TC     PUSHUP1
 0121            TC     8TO2
 0122            TC     INCRT2
 0123            TC     PUSHUP1
 0124            TC     8TO2
 0125  2         TC     ZEROEXIT        T0 DECLAIN MO45 IS VECTOR
 0126   ITA1     CCS    CYR
 0127            TC     +6              FOR ITA
 0128            TC     CCSHOLE
 0129            INDEX  ADDRWD          PICK UP ADDRESS
 0130            CS     0
 0131            COM
 0132  2         TC     DOBR2           AND DO THE BRANCH
 0133   +6       INDEX  FIXLOC
 0134            CS     QPRET
 0135  2         TC     SXA +3          COMPLEMENT AND DEPOSIT
 0136   EXIT     CCS    CYR             RETURN TO BASIC
 0137  2         TC     EXIT2           EXIT.
 0138  2         TC     CCSHOLE
 0139            CS     POLISH          HERE TO RETURN TO BASIC AT X
 0140  2         TC     SWCALL
 0141   SIGN     INDEX  ADDRWD          AFFIX SIGN OF X TO MPAC OR VAC
 0142            CCS    0               MUST BE NON-ZERO
 0143            TC     DANZIG
 0144            TC     +2              EXAMINE MINOR PART
 0145  2         TC     COMP            COMPLEMENT VECTOR OR SCALAR.
 0146            INDEX  ADDRWD
 0147            CCS    1
 0148            TC     DANZIG
 0149            TC     DANZIG          NO OPERATION IF C(ADDRWD,ADDRWD+1) = 0
 0150            TC     COMP
 0151  8         TC     DANZIG
 0152   VSQ      CS     VACLOC          TAKE SQUARE OF LENGTH OF VECTOR IN VAC.
 0153            COM
 0154            TS     ADDRWD
 0155  2         TC     DOT1 +1         FINISH IN DOT PRODUCT ROUTINE.
 0156  2         AD     ONE             FROM TRUE2
 0157   SHIFTR   XCH    Q
 0158            TS     TEM5            SHIFT TP MPAC RIGHT ACCORDING TO INTEGER
 0159            CCS    Q               PICK UP COUNT, SUBTRACTING ONE
 0160   +3       AD     NEG13           RETURNS HERE FROM SR14
 0161            CCS    A
 0162            AD     ONE             SHIFT COUNT MORE THAN 14 - DECREMENT BY
 0163            TC     SR14            14 AND EXCHANGE
 0164            TC     +2              REMAINING SHIFT COUNT BETWEEN 1 AND 13
 0165            TC     SR14            MULTIPLES OF 14 END UP HERE
 0166            COM
 0167            INDEX  A               PICK UP PROPER SHIFTING BIT
 0168            CAF    BIT2
 0169            TC     SHORTMP         DO SHIFT BY MULTIPLICATION
 0170  2         TC     TEM5            (TEM5 CONTAINS SQRT RETURN IF SQRT CALL)
 0171   SR14     XCH    MPAC            SAVE REDUCED COUNT
 0172            XCH    MPAC +1
 0173            XCH    MPAC +2
 0174            CAF    ZERO
 0175            XCH    MPAC            NOW BRING IT BACK
 0176            CCS    A               SEE IF REMAINING COUNT IS ZERO
 0177            TC     SHIFTR +3       NON-ZERO - BACK TO SHIFT LOOP
 0178  8         TC     TEM5            FINISHED
 0179   ABVAL1   TC     ABVAL
 0180  2         TC     DPEXIT          MODE IS NOW DP
 0181   ABVAL    XCH    Q               TAKES HALF THE LENGTH OF THE VECTOR IN
 0182            TS     TEM10           VAC
 0183            TC     VSR1            SHIFT VECTOR RIGHT ONE
 0184            TC     DOT2            TAKE THE SQUARE OF ITS LENGTH
 0185            CS     FOUR            STORE SQUARE OF LENGTH IN REGISTERS 28
 0186            AD     VACLOC          AND 29 OF VAC AREA.
 0187            TC     STORDAC
 0188            TC     MPACCOM
 0189            TC     SQRT3           TAKE A TRIPLE-PRECISION SQRT (DP ANSWER)
 0190  2         TC     TEM10           AND EXIT
 0191   VSR1     XCH    Q               SUBROUTINE WHICH SHIFTS VECTOR IN VAC
 0192            TS     TEM9            RIGHT ONE PLACE. USED BY ABVAL AND UNIT
 0193            CAF    FOUR
 0194            AD     VACLOC          USED BY ABVAL AND UNIT
 0195            TC     SR1             VECTOR IS SHIFTED RIGHT SO DOT PRODUCT
 0196            XCH    TEM11           WONT OVERFLOW.
 0197            AD     MINUS2
 0198            TC     SR1
 0199            XCH    TEM11
 0200            AD     MINUS2
 0201            TS     ADDRWD          FOR THE DOT ROUTINE.
 0202  2         TC     SR1             VECTOR IS NOW SHIFTED RIGHT
 0203  2         TC     TEM9
 0204   SSM      TC     BRANCH          SET SIGN OF MPAC,MPAC+1 MINUS. USED BY
 0205            TC     MPACCOM         SIGN INSTRUCTION
 0206            TC     DANZIG
 0207  2         TC     DANZIG
 0208   SSP      TC     BRANCH
 0209            TC     DANZIG
 0210            TC     DANZIG
 0211            TC     MPACCOM
 0212  8         TC     DANZIG
 0213   SQUARE   CAF    BUGMPAC         SQUARE MPAC AND LEAVE RESULT IN MPAC, +2
 0214  2         TC     DSQ2            CONTINUE AS IN DMP.
 0215   COMP     CS     MODE
 0216            DOUBLE
 0217            INDEX  A
 0218            TC     +1
 0219            TC     VACCOM
 0220            TC     DANZIG
 0221            TC     MPACCOM         FOR TP
 0222            TC     DANZIG
 0223  2         TC     -2
 0224   SMOVE    CAF    ZERO
 0225            TS     MPAC +1
 0226  2         TC     DANZIG
 0227   NEXT     CCS    CYR             NEXT AND ITCQ OPERATORS
 0228            CCS    ADRLOC          NEXT - KNOCK DOWN ADRLOC BY ONE
 0229            TC     +4              AND BEGIN NEXT EQUN IMMEDIATELY
 0230            INDEX  FIXLOC          ITCQ - PICK UP QPRET AND BRANCH
 0231            XCH    QPRET
 0232  2         TC     DOBR2
 0233   +4       TS     ADRLOC
 0234            CAF    ONE             TURN ON LOAD INDICATOR
 0235  2         TC     SWLODIND
 0236   NOLOAD   CCS    ADRLOC          NOLOD AND ROUND OPERATORS. DECREMENT
 0237            TS     ADRLOC          ADRLOC SINCE WE SHOULDNT HAVE TAKEN AN
 0238            CCS    CYR             ADDRESS. SEE IF NOLOD OR ROUND
 0239            CAF    ZERO            NOLOD - SET NEWEQIND TO ZERO
 0240            TC     +4
 0241            CS     ONE             MODE IS NOW DP
 0242            TS     MODE
 0243  2         TC     MPACRND         GO ROUND MPAC AND RETURN TO DANZIG
 0244   SWLODIND TS     NEWEQIND
 0245  8         TC     DANZIG
 0246   SL1      XCH    MPAC +2         ROUTINE WHICH SHIFTS TRIPLE ACCUMULATOR
 0247            DOUBLE                 LEFT ONE PLACE. IT IS USED BY TSLT AND
 0248            TS     MPAC +2         TSLC
 0249            CAF    ZERO
 0250            AD     MPAC +1
 0251            AD     MPAC +1
 0252            TS     MPAC +1
 0253            CAF    ZERO
 0254            AD     MPAC
 0255            AD     MPAC
 0256            TS     MPAC
 0257            TC     Q
 0258            TS     OVFIND          SET OVFIND IF ENTIRE WORD OVERFLOWS
 0259  2         TC     Q
 0260   SHIFTL   TC     TRUE2           TP LEFT SHIFT - GET INTEGER ADDRESS
 0261            TC     +3
 0262   LEFTLOOP TS     ADDRWD
 0263            TC     SL1
 0264   +3       CCS    ADDRWD
 0265            TC     LEFTLOOP
 0266  2         TC     DANZIG
 0267   TSLC     CAF    ZERO            NORMALIZATION - START BY SETTING COUNT
 0268            TS     TEM2            TO ZERO
 0269            TC     BRANCH
 0270            TC     +2
 0271  2         TC     SLCANS
 0272   RETRN    CS     MPAC            HERE FOR NON-ZERO
 0273            DOUBLE
 0274            OVSK                   SKIP ON OVERFLOW
 0275            TC     +2              NO OVERFLOW - SHIFT AGAIN
 0276            TC     SLCANS          DONE - WE OVERFLOWED
 0277            XCH    TEM2
 0278            AD     ONE
 0279            TS     TEM2
 0280            TC     SL1             DO THE SHIFT
 0281  2         TC     RETRN           AND LOOP
 0282   SLCANS   CS     TEM2            STORE COMPLEMENT OF COUNT
 0283            INDEX  ADDRWD
 0284            TS     0
 0285  8         TC     DANZIG
 0286   SWITCHEM CS     POLISH          SWITCH AND TEST INSTRUCTIONS.
 0287            TS     ADDRWD          DECOMPOSE ADDRESS INTO SWITCH WORD AND
 0288            MASK   SBITMASK        BIT. MULTIPLES OF 16 ARE EXCLUDED.
 0289            XCH    ADDRWD
 0290            EXTEND
 0291            MP     BIT11
 0292  2         TS     TEM8            0, 1, OR 2.
 0293            INDEX  ADDRWD          PICK UP A 1 IN SPECIFIED SWITCH POS.
 0294            CAF    BIT15 -1        SWITCHES ARE NUMBERED 1 - 15 D.
 0295            TS     TEM4
 0296            INHINT
 0297            INDEX  TEM8
 0298            MASK   STATE           GET BS WHERE B IS BIT AND S IS *STATE*
 0299  2         TS     TEM5             - THE WORD CONTAINING THE 15 SWITCHES
 0300            CCS    CYR             DECIDE WHETHER INST. IS *SWITCH* OR TEST
 0301            TC     INCADR          TO PICK UP NEXT ADDRESS
 0302            TC     +3
 0303            CS     TEM4
 0304  2         TC     SWITCHIT        SWITCH BIT.
 0305            RELINT
 0306            CCS    TEM5            TEST SWITCH
 0307            TC     RE-ENTER        IT WAS ON - DONT BRANCH
 0308            TC     SWF/F           OFF - GO TO FIXED-FIXED TO PICK UP ADR.
 0309  2         TC     RE-ENTER        COMES HERE IF BIT 15 WAS ON
 0310   SWITCHIT INDEX  TEM8            WE DESIRE THE LOGICAL EXCLUSIVE OR OF B
 0311            MASK   STATE
 0312            TS     Q               SET THIS BIT TO 0SO AD IS OR.
 0313            INDEX  TEM8
 0314            CS     STATE
 0315            MASK   TEM4            COMPLEMENT OF SWITCH BIT.
 0316            AD     Q               OR
 0317            INDEX  TEM8
 0318            TS     STATE
 0319            RELINT
 0320  8         TC     RE-ENTER        DONT PUSH-DOWN IF AT END.
 0321   VSLT2    TS     MPAC +1         SET TO ZERO IN CASE OF RIGHT SHIFT.
 0322  2         TC     TRUE2           RETURNS TO CALLER IF COUNT PNZ.
 0323            TC     VSLTEST
 0324   VSLTLOOP TS     ADDRWD
 0325            CAF    ZERO
 0326            AD     VACLOC
 0327            TS     TEM2
 0328            TC     VSL1
 0329            TC     INCRT2
 0330            TC     VSL1
 0331            TC     INCRT2
 0332            TC     VSL1
 0333   VSLTEST  CCS    ADDRWD
 0334            TC     VSLTLOOP
 0335  2         TC     DANZIG
 0336   VSL1     INDEX  TEM2
 0337            XCH    1
 0338            DOUBLE
 0339            INDEX  TEM2
 0340            TS     1
 0341            CAF    ZERO
 0342            INDEX  TEM2
 0343            AD     0
 0344            INDEX  TEM2
 0345            AD     0
 0346            INDEX  TEM2
 0347            TS     0
 0348            TC     Q
 0349            TS     OVFIND
 0350  8         TC     Q
R0351  2DOUBLE-PRECISION SINE-COSINE ROUTINES.
R0352   THESE PROGRAMS ARE ENTERED AND EXIT IN THE INTERPRETIVE MODE, WITH
R0353   THE ARGUMENT IN MPAC AT ENTRY AND THE ANSWER IN MPAC AT EXIT.  THEY
R0354   COMPUTE, RESPECTIVELY, (1/2) COS (PI X)  AND  (1/2) SIN (PI X) WHERE
R0355  2X = C(MPAC) RANGES OVER THE INTERVAL (-1, +1).
R0356   PROGRAM USES THE SERIES
R0357                               3       5       7        9
R0358   (1/2) SIN(PI X) = C X + 4C X + 16C X + 64C X + 256C X .
R0359                      1      3       5       7        9
R0360   WHERE THE C COEFFICIENTS ARE FROM HASTINGS SERIES
R0361                          3     5     7     9
R0362   SIN(PI X/2) = C X + C X + C X + C X + C X .
R0363  2               1     3     5     7     9
 0364   COSINE   XCH    Q               CLOSED COSINE ROUTINE
 0365            TS     TEM8
 0366            TC     TSGNABS         FORM 1/2 - (ABS(X)) AND COMPUTE SINE
 0367            TC     DACCOM+
 0368  2         TC     SINE +2
 0369   SINE     XCH    Q               CLOSED SINE ROUTINE
 0370            TS     TEM8
 0371            TC     PARTSL1         DOUBLE ARGUMENT
 0372            TS     MPAC
 0373            TC     +2              IF DIDNT SKIP
 0374  2         TC     DACCOM          IF SO, WE WANT -SIN(X) = SIN(-X)
 0375            CS     MPAC
 0376            TS     VBUF +2         SAVE NEGATIVE OF ARGUMENT
 0377            TS     TEM2
 0378            DOUBLE
 0379            TS     Q
 0380  2         TC     SN1             IF ABS(X) LESS THAN 1/2
 0381            INDEX  A               CONTAINS +-1
 0382            CS     NEG1/2 +1
 0383            XCH    TEM2
 0384            AD     TEM2
 0385            AD     TEM2            (ADD +-1/2 TWICE TO MAKE +-1.0)
 0386            TS     MPAC
 0387            CS     MPAC +1
 0388            TS     MPAC +1
 0389            CS     MPAC
 0390  8         TS     VBUF +2
 0391   SN1      CS     MPAC +1         SAVE REST OF ARGUMENT
 0392            TS     VBUF +3
 0393            CAF    BUGMPAC         ADDRESS OF MPAC WITH MP BITS
 0394            TS     TEM4
 0395            CAF    DAD2 +4         SQUARE MPAC
 0396            TC     DMP1
 0397  2         TC     TCS1 +2
 0398            TC     POLY
 0399            DEC    8
 0400            2DEC   -0.3926990796          (   C /4)
A0401  2                                            1
 0402            2DEC   +0.6459637111          (  4C /4)
A0403  2                                            3
 0404            2DEC   -0.318758717           ( 16C /4)
A0405  2                                            5
 0406            2DEC   +0.074780249           ( 64C /4)
A0407  2                                            7
 0408            2DEC   -0.009694988           (256C /4)
A0409  2                                            9
 0410            TC     DMP             DMP BY X
 0411            XCADR  VBUF +2
 0412            TC     SL1             AND SHIFT LEFT 2
 0413            TC     SL1
 0414  2         TC     TEM8            DONE
 0415   SIN1     TC     SINE            INTERPRETER LINKAGE
 0416  2         TC     DANZIG
 0417   COS1     TC     COSINE
 0418  8         TC     DANZIG
 0419   ARCSIN   CAF    TCTAG+1         PICK UP ARCSIN BRANCH
 0420            AD     POSMAX          TO FORCE OVERFLOW
 0421  2         OVSK                   SKIP AND RESTORE NON-OVERFLOW
 0422   ARCCOS   CAF    TCEX            SET ARCCOS SWITCH
 0423            XCH    ESCAPE          NO SKIP, PLEASE
 0424            XCH    Q               ONLY HAVE TO SAVE Q IN ONE PLACE
 0425            TS     ARETURN
 0426            TC     TPAGREE         FORCE SIGN AGREEMENT SO WE CAN CHECK
 0427            CCS    A               SIZE OF ARGUMENT (SIGNUM RETURNS IN A).
 0428            TC     ACOSST          POSITIVE
 0429            TC     +2              ARCCOS = PI/2
 0430  2         TC     NEGARGU
 0431            CAF    QUARTER         ARCCOS(0) = .25(2PI).
 0432            TS     MPAC             (MPAC +1 IS ALREADY ZERO).
 0433  2         TC     ESCAPE
 0434   ACOSST   TC     PARTSL1         DOUBLE ARGUMENT
 0435            XCH    MPAC            NO SKIP, BUT EXAMINE ORIGINAL MPAC
 0436            AD     NEG1/2          MUST BE LESS THAN OR EQUAL TO 1/2
 0437            CCS    A
 0438            TC     ABORT           MAJOR PART GREATER THAN 1/2. NOTE THAT
 0439  2         OCT    01301           MPAC+1 IS NOT CHECKED SO A MARGIN EXISTS
 0440            TC     +4              NORMAL CASE
 0441            TS     MPAC            ARGUMENT WAS 1 (SCALED). LEAVE ZERO
 0442            TS     MPAC +1         AS RESULT AND EXIT
 0443  8         TC     ESCAPE
 0444   +4       CS     MPAC +1
 0445            TS     MPAC +1
 0446            TS     B +1
 0447            CS     MPAC
 0448            TS     B
 0449            AD     HALF
 0450            AD     HALF
 0451  2         TS     MPAC            SQRT ARGUMENT IS NOW READY
 0452  2         TC     +6              NORMAL PATH.
 0453            CAF    POSMAX          WE HAVE FALSE OVERFLOW PRESENT AND IT
 0454            TS     MPAC             MUST BE CORRECTED. MAJOR PART WAS ZERO
 0455            AD     MPAC +1          AND MINOR PART PNZ, SO FORM 1.0 - MPAC
 0456            AD     ONE              PROPERLY FOR THIS CASE.
 0457  2         TS     MPAC +1         GUARANTEED NO OVERFLOW.
 0458  2 +6      TC     SQRT2           GO TAKE THE SQUARE ROOT.
 0459            CS     B +1
 0460            XCH    MPAC +1
 0461            TS     B +1
 0462            CS     B
 0463            XCH    MPAC
 0464  8         TS     B
 0465            TC     POLY            EVALUATE HASTINGS POLYNOMIAL/2PI
 0466            DEC    14
 0467            2DEC*   .49999 99920   B-1*      HASTINGS COEFFICIENTS/2PI
 0468            2DEC*  -.06830 89201   B-1*
 0469            2DEC*   .02832 28913   B-1*
 0470            2DEC*  -.01597 09772   B-1*
 0471            2DEC*   .00983 31911   B-1*
 0472            2DEC*  -.00543 93193   B-1*
 0473            2DEC*   .00212 31556   B-1*
 0474            2DEC*  -.00040 18634   B-1*
 0475            TC     DMP             INTERPRETER SUBROUTINE ONLY
 0476            XCADR  B
 0477  2         TC     ESCAPE          GO TO ARCSIN/ARCCOS SWITCH (OR NEGARGU)
 0478   TAGIT    TC     DACCOM+
 0479            TC     ARETURN
 0480   PARTSL1  XCH    MPAC +1         DOES A DOUBLE SHIFT LEFT EXCEPT FOR THE
 0481            DOUBLE                 FINAL TS. USED BY SIN, COS, ASIN, AND
 0482            TS     MPAC +1         ACOS.
 0483            CAF    ZERO
 0484            AD     MPAC
 0485            AD     MPAC
 0486  2         TC     Q               POSSIBLY WITH OVERLOW PRESENT
 0487   NEGARGU  TC     DACCOM          ARCCOS(-X)=PI-ARCCOS(X)
 0488            CAF    TCSUBTR         SET SWITCH TO PERFORM ABOVE
 0489            XCH    ESCAPE
 0490            TS     ESCAPE2         ADDITIONAL SWITCH HERE.
 0491  8         TC     ACOSST
 0492   SUBTR    CS     MPAC
 0493            AD     HALF
 0494            TS     MPAC
 0495            CS     MPAC +1
 0496            TS     MPAC +1
 0497  4         TC     ESCAPE2         THIS IS NOW THE ARCSIN/ARCCOS SWITCH
 0498   TCTAG+1  TC     TAGIT +1
 0499   TCEX     EQUALS TCTAG+1
 0500  2TCSUBTR  TC     SUBTR
 0501   ARCSIN1  TC     ARCSIN
 0502  2         TC     DANZIG
 0503   ARCCOS1  TC     ARCCOS
 0504  2         TC     DANZIG
 0505   DACCOM+  CS     MPAC +1         USED BY SIN-COS AND ARCSIN-ARCCOS
 0506            TS     MPAC +1
 0507            CS     MPAC
 0508            AD     QUARTER
 0509            TS     MPAC
 0510  8         TC     Q
 0511   MBXCH    XCH    BUF             TO EXCHANGE MPAC AND BUF
 0512            XCH    MPAC
 0513            TS     BUF
 0514            XCH    BUF +1
 0515            XCH    MPAC +1
 0516            TS     BUF +1
 0517  2         TC     Q
 0518   DDV0     TS     MPAC +2         SET MPAC+2 TO ZERO TO RESUME DDV
 0519            TC     TSGNABS         SIGN AGGREMENT ETC
 0520            TS     TEM2            SAVE SGN
 0521            TC     MBXCH           SWITCH CONTENTS
 0522            TC     TSGNABS         SAME FOR ARGUMENT
 0523            AD     TEM2
 0524            CCS    A               TO GET SIGN OF RESULT
 0525            TC     +3
 0526            TC     DPDOFLO +1      HERE FOR 0/0 CASE
 0527            TC     +1
 0528            TS     TEM2
 0529            CCS    DVSW
 0530  2         TC     MBXCH           INTERCHANGE OLD DIVISOR AND DIVIDEND
 0531            CS     BUF             CHECK TO SEE IF C(BUF,BUF+1) LESS
 0532            AD     MPAC            THAN C(MPAC,MPAC+1). OVERFLOW CONDITION
 0533            CCS    A               IF NOT
 0534            TC     DDVOK           SCALING OK
 0535            TC     CCSHOLE
 0536            TC     DPDOFLO         TROUBLE HERE
 0537            CS     BUF +1          CHECK MINOR PARTS IF MAJORS EQUAL
 0538            AD     MPAC +1
 0539            CCS    A
 0540            TC     DDVOK
 0541            TC     CCSHOLE
 0542            TC     DPDOFLO         TROUBLE HERE
 0543  2         TC     DPDOFLO         AS WELL AS WHEN C(BUF,BUF+1)=C(MPAC,+1)
 0544   DDVOK    CAF    ZERO
 0545            AD     MPAC
 0546  8         TC     DPDNORT         TO NORMALIZE
 0547   SQRTDIV  XCH    Q               ENTRY FROM SQRT ROUTINE
 0548            TS     TEMQ3
 0549  2         TC     DVSTART
 0550   DPDNORM  XCH    BUF +1
 0551            DOUBLE
 0552            TS     BUF +1
 0553            CAF    ZERO
 0554            AD     BUF
 0555            AD     BUF
 0556            TS     BUF
 0557  2         TC     SL1 +3          TO DOUBLE MPAC
 0558   DPDNORT  TS     CYL             TO LOOK AT BIT 14
 0559            CCS    CYL
 0560            TC     DPDNORM
 0561            TC     +2
 0562            TC     DVSTART
 0563            XCH    BUF +1          HIGH ORDER ZERO
 0564            XCH    BUF
 0565            XCH    MPAC +1         SET MPAC +1 TO ZERO
 0566            TS     MPAC
 0567  8         TC     DPDNORT         AND TRY AGAIN
 0568   DVSTART  XCH    BUF             OK
 0569            INDEX  OPOVF
 0570            DV     MPAC
 0571            TS     OVCTR
 0572            INDEX  OPOVF
 0573            MP     MPAC +1
 0574   -1/2+2   AD     Q               COMPLIMENT OF REMAINDER.
 0575            CS     A
 0576            AD     BUF +1
 0577            OVSK
 0578            TC     +3              IF NOT
 0579            INDEX  OPOVF           IF OVERFLEW
 0580            SU     MPAC
 0581   +3       TS     BUF
 0582            CCS    A
 0583            AD     ONE
 0584            TC     +2
 0585            AD     ONE
 0586   +2       EXTEND                 WE NOW HAVE ABS(CORRECT BUF)
 0587            SU     MPAC
 0588            CCS    A
 0589            AD     ONE
 0590            TC     +2
 0591            TC     +4
 0592   +2       XCH    BUF
 0593            DOUBLE
 0594            CCS    A
 0595   +4       XCH    BUF
 0596            TC     +2
 0597            CS     BUF
 0598            INDEX  OPOVF
 0599  8         DV     MPAC
 0600   DPDSGNT  TS     MPAC +1
 0601            CCS    TEM2
 0602            TC     POSQUOT
 0603            CS     MPAC +1
 0604            TS     MPAC +1
 0605            CS     OVCTR
 0606            TS     MPAC
 0607  2         TC     TEMQ3
 0608   POSQUOT  XCH    OVCTR
 0609  2         TC     -3
 0610   DPDOFLO  CCS    TEM2
 0611            CAF    TWO
 0612            AD     NEG1
 0613            TS     OVFIND
 0614            EXTEND                 SET MPAC = +- POSMAX
 0615            MP     POSMAX
 0616            XCH    LP
 0617            TS     MPAC +1
 0618  8         TC     POSQUOT -2
 0619   TSGNABS  XCH    Q               SIGNUM AND ABSOLUTE VALUE
 0620            TS     TEMQ2
 0621  2         TC     TPAGREE
 0622            CCS    A               TEST SIGNUM
 0623            AD     ONE
 0624  2         TC     TEMQ2
 0625            TC     MPACCOM         COMPLEMENT IF NEGATIVE
 0626            CS     ONE
 0627  2         TC     TEMQ2
 0628   TPAGREE  XCH    Q               FORCE SIGN AGREEMENT IN TP WORD IN MPAC
 0629            TS     TEMQ
 0630            TC     BRANCH
 0631            TC     SGN=+
 0632  2         TC     SGN=0
 0633            CS     POSMAX
 0634            TS     SGNDMAX
 0635            CS     ONE
 0636  2         TC     SGFORCE
 0637   SGN=0    CAF    ZERO
 0638            TS     MPAC
 0639            TS     MPAC +1
 0640            TS     MPAC +2
 0641  2         TC     TEMQ
 0642   SGN=+    CAF    POSMAX
 0643            TS     SGNDMAX
 0644  8         CAF    ONE
 0645   SGFORCE  AD     MPAC +2
 0646            AD     SGNDMAX
 0647            TS     MPAC +2
 0648  2         CAF    ZERO
 0649            AD     MPAC +1
 0650            AD     SGNDMAX
 0651            TS     MPAC +1
 0652  2         CAF    ZERO
 0653            AD     MPAC
 0654            AD     SGNDMAX
 0655            TS     MPAC
 0656   SBITMASK OCT    17
 0657  8         TC     TEMQ
 0658   UNIT     TC     ABVAL           UNIT VECTOR ROUTINE - START BY GETTING
A0659                                   LENGTH
 0660  2         TC     VSR1            LEAVES 1/2 UNIT VECTORS
 0661            CCS    NEWJOB          ALLOW FOR INTERRUPTS
 0662  2         TC     UNITRUPT        SO WE CAN RETURN IN BASIC
 0663   UNITRSM  AD     VACLOC          RETURNS HERE FROM BREAKPOINT IF CALLED.
 0664            TS     ADDRWD
 0665            CAF    TWO
 0666            TS     DVSW            NON-ZERO FOR BACKWARDS DIVIDE
 0667   UNITLOOP TS     COMPON
 0668            CS     MPAC
 0669            CS     A
 0670            INDEX  ADDRWD
 0671            XCH    0               LENGTH TO COMPONENT AND COMPONENT TO BUF
 0672            TS     BUF
 0673            CS     MPAC +1
 0674            CS     A
 0675            INDEX  ADDRWD
 0676            XCH    1
 0677  2         TS     BUF +1
 0678            CAF    +4              CALL BACKWARDS DIVIDE
 0679            TS     TEMQ3
 0680            CAF    ZERO
 0681            TC     DDV0
 0682  2         TC     +1
 0683            XCH    MPAC            RESULT BACK TO COMPONENT BRINGING BACK
 0684            INDEX  ADDRWD          LENGTH
 0685            XCH    0
 0686            TS     MPAC
 0687            XCH    MPAC +1
 0688            INDEX  ADDRWD
 0689            XCH    1
 0690  2         TS     MPAC +1
 0691            TC     AD2             INCREMENT ADDRWD
 0692            CCS    COMPON
 0693            TC     UNITLOOP
 0694            CS     TWO             STORE LENGTH OF ARGUMENT IN REGISTERS 30
 0695            AD     VACLOC
 0696            TS     TEM2            AND 31 OF VAC AREA.
 0697            CAF    DAD2 +4
 0698            TC     8TO2
 0699  8         TC     DANZIG
 0700   UNITRUPT CS     BANKSET         REQUESTS FOR INTERPRETIVE INTERRUPT
 0701            TS     MPAC +2         COME HERE DURING THE UNIT OPERATION.
 0702            XCH    LOC             SINCE WE DESIRE TO RETURN IN BASIC BUT
 0703            INDEX  FIXLOC          BUT STILL SAVE THE INTERPRETER CENTRALS
 0704            TS     30D             (BANKSET AND LOC)
 0705  2         TC     CHANG1
 0706            CS     MPAC +2         ON RETURN, RESTORE AS BEFORE
 0707            TS     BANKSET
 0708            INDEX  FIXLOC
 0709            XCH    30D
 0710            TS     LOC
 0711            CAF    ZERO
 0712            TC     UNITRSM         ENTER UNIT DIVIDE LOOP.
 0713  2MPACSR1  CAF    DAD2 +4
 0714   SR1      TS     TEM11           SHIFTS RIGHT ONE USING ADDRESS IN A
 0715            INDEX  A
 0716            XCH    0
 0717            INDEX  OPOVF
 0718            MP     HALF
 0719            INDEX  TEM11
 0720            TS     0
 0721            INDEX  TEM11
 0722            XCH    1
 0723            TS     SR
 0724            XCH    SR
 0725            AD     LP
 0726            INDEX  TEM11
 0727            TS     1
 0728  8         TC     Q
 0729   SQRT2    CAF    ZERO            ENTRY TO IGNORE C(MPAC+2)
 0730  2         TS     MPAC +2
 0731   SQRT3    XCH    Q               HERE TO TREAT TRIPLE-PRECISION CASES
 0732            TS     TEMQ2
 0733            TC     TPAGREE         FORCE SIGN AGREEMENT
 0734            CCS    A               TEST SIGNUM
 0735            TC     SETNORM         PNZ - OK.
 0736            TC     TEMQ2           FAST EXIT FOR ZERO ARGUMENT
 0737  2         CCS    MPAC            IF ARGUMENT WAS NEGATIVE BUT MAJOR PART
 0738            TC     ABORT           (MPAC IS NEGATIVE) IS ZERO, ANSWER IS
 0739            OCT    01302           TAKEN AS ZERO WITH NO FURTHER ACTION.
 0740            TC     -2              IF NON-ZERO, IT IS ASSUMED A TRANSIENT
A0741  2                                ERROR HAS PRODUCED THE BAD DATA.
 0742            TS     MPAC +1         ARGUMENT NEGATIVE BUT MORE THAN -10-4.
 0743  2         TC     TEMQ2           SET MPAC,+1 TO ZERO AND EXIT.
 0744   SETNORM  TS     ADDRWD          SET NORMALIZATION COUNT TO ZERO
 0745            CS     MPAC
 0746            TS     CYL             WE WILL USE A/2, SO MUST CHECK FOR
 0747            CCS    CYL             NORMALIZATION FIRST
 0748            TC     MPACSR1         NORMALIZED - SHIFT RIGHT ONE.
 0749  2         TC     ARGHI
 0750  2         TC     SRTEST          LESS THAN 1/2 - SEE IF AT LEAST 1/8.
 0751  2         TC     A0=0            MAJOR PART (POSSIBLY MINOR PART) = 0.
 0752   SRTEST   AD     -1/2+2          SEE IF ARG GREATER THAN OR EQUAL TO 1/4.
 0753            CCS    A
 0754            TC     MPACSR1         IT IS - SHIFT RIGHT ONE AND GO TO ARGLO.
 0755  2         TC     ARGLO           (+0 WAS IMPOSSIBLE THIS CCS.)
 0756            TC     SQRTNORM +1     LESS THAN 1/4 - PUT IN EFFECTIVE RIGHT
A0757                                   BY SHIFTING LEFT ONLY ONCE WHEN ADDING
A0758  8                                ONE TO THE RIGHT SHIFT COUNT.
 0759   A0=0     XCH    MPAC +2         MOVE ARGUMENT UP
 0760            XCH    MPAC +1
 0761            XCH    MPAC
 0762            AD     ADDRWD
 0763            AD     SEVEN           INCREASE SHIFT COUNT BY 14/2 = 7
 0764  2         TC     SETNORM
 0765   SQRTNORM TC     SL1
 0766            CAF    ONE             ARGUMENT LESS THAN 1/8, SO SHIFT IT LEFT
 0767            AD     ADDRWD          TWO PLACES AND INCREASE SHIFT COUNT FOR
 0768            TS     ADDRWD          RESULT
 0769            TC     SL1
 0770            TS     CYL
 0771  8         CS     CYL
 0772   NORMTEST CCS    CYL
 0773            CCS    CYL
 0774            TC     SQRTNORM        HERE IF LESS THAN 1/8
 0775  2         TC     ARGHI           HERE IF AT LEAST 1/4, LESS THAN 1/2
 0776   ARGLO    CAF    SLOPELO         HERE IF AT LEAST 1/8, LESS THAN 1/4
 0777            INDEX  OPOVF
 0778            MP     MPAC
 0779            AD     BIASLO          X0/2 = .8324(A0/2) + .2974/2
 0780  2         TC     ARGHI +4
 0781   SLOPELO  DEC    .8324
 0782   BIASLO   DEC    .2974 B-1
 0783   SLOPEHI  DEC    .5884
 0784  2BIASHI   DEC    .4192 B-1
 0785   ARGHI    CAF    SLOPEHI
 0786            INDEX  OPOVF
 0787            MP     MPAC
 0788            AD     BIASHI
 0789   +4       XCH    MPAC            X0/2 TO MPAC
 0790            TS     BUF             A0/2 TO BUF
 0791            TS     TEM2            SET UP POSITIVE QUOTIENT SIGNAL AND
 0792            CAF    ZERO
 0793            XCH    MPAC +1         ZERO LOW-ORDER DIVIDEND FOR DP DIVIDE
 0794            TS     BUF +1          A1/2 TO BUF+1. A2 NOW DISCARDED
 0795            CS     BUF
 0796            INDEX  OPOVF
 0797            DV     MPAC            -(A0/2)/(X0/2).
 0798            TS     SR
 0799            CS     SR
 0800            AD     MPAC            X1 IS GOOD TO 14 BITS
 0801            TS     MPAC            X1 = X0/2 + ((A0/2)/(X0/2))/2
 0802            TS     TEM3            SAVE X1 FOR ADDITION
 0803            TC     SQRTDIV         GO TO FORM DP QUOTIENT OF A0/2, A1/2
 0804            XCH    TEM3            OVER X1, 0. RESULT IN MPAC, MPAC +1
 0805            INDEX  OPOVF
 0806            MP     HALF
 0807            AD     MPAC
 0808  8         TS     OVCTR           AND MAYBE SKIP, IF ARG WAS NEAR POSMAX
 0809            TC     +4              IF NO OVERFLOW
 0810            CAF    POSMAX
 0811            TS     MPAC +1
 0812  2         TC     +5
 0813   +4       XCH    LP              FOR NORMAL CASES
 0814            AD     MPAC +1         ABOVE AND X1/2
 0815            XCH    MPAC +1
 0816            XCH    OVCTR
 0817  2+5       TS     MPAC
 0818            CAF    ZERO            ZERO MPAC+2 SO SHIFT LEFT MAKES SENSE.
 0819  2         TS     MPAC +2
 0820            CCS    ADDRWD          RE-NORMALIZE IF COUNT NON-ZERO
 0821            TC     SHIFTR +3       FITS IN WITH MAIN SHIFT LOOP
 0822  2         TC     TEMQ2           NO RE-SCALING REQUIRED
 0823   SQRTS    CS     MODE            INTERPRETER LINKAGE
 0824            DOUBLE                 TAKE APPROPRIATE SQRT
 0825            INDEX  A
 0826  2         TC     -1
 0827            TC     SQRT2           FOR DP
 0828  2         TC     DANZIG
 0829            TC     SQRT3
 0830  2         TC     DANZIG
 0831   NEG13    EQUALS MINUS13
 0832   DMOVE    EQUALS DANZIG          LOADING ONLY
 0833   VMOVE    EQUALS DANZIG
 0834   TMOVE    CS     TWO             SET MODE TO TRIPLE FOR TP OPERATIONS
 0835            TC     DPEXIT +1
L 001  2EXECUTIVE
R0001   EXECUTIVE PROGRAMS
R0002  4--------- --------
 0003            BANK   1
 0004   FINDVAC  TS     NEWPRIO         PROGRAM TO FIND AN AVAILABLE VAC
 0005            XCH    Q
 0006            TC     EXECCOM         COMMON FF EXECUTIVE SUBROUTINE.
 0007  2         TC     FINDVAC2        OFF TO EXECUTIVE BANK.
 0008   NOVAC    TS     NEWPRIO         ENTRY EXCLUSIVELY FOR BASIC JOBS NOT
 0009            XCH    Q               REQUIRING A VAC AREA.
 0010            TC     EXECCOM         COMMON FF EXECUTIVE SUBROUTINE.
 0011            CAF    ZERO            ZERO PD FIELD IN PUSHLOC.
 0012            TS     EXECTEM3
 0013  2         TC     NOVAC2
 0014   JOBWAKE  TS     EXECTEM2        ENTRY HERE TO RE-ACTIVATE A SLEEPING JOB
 0015            CCS    Q               RETURN ADDRESS - 1 TO WTEXIT.
 0016            TS     WTEXIT          SHARES FINAL PORTION OF FINDVAC, NOVAC.
 0017            TC     EXECSW          COMMON EXEC BANK-SWITCH SUBROUTINE.
 0018  2         TC     JOBWAKE2
 0019   EXECCOM  TS     WTEXIT          EXIT ADDRESS
 0020            INDEX  A               PICK UP JOB OR TASK ADDRESS.
 0021            CAF    0                 (USED BY FINDVAC, NOVAC, AND WAITLIST)
 0022  2         TS     EXECTEM2
 0023   EXECSW   CAF    EXECBANK
 0024            XCH    BANKREG         CALL IN EXEC BANK, SAVING RETURN.
 0025            TS     EXECTEM1
 0026  2         TC     Q
 0027  2EXECBANK CADR   FINDVAC2
 0028   FOUNDVAC TS     BANKREG         COMES HERE TO RETURN FROM FINDVAC,
 0029            INDEX  WTEXIT          NOVAC, OR JOBWAKE.
 0030            TC     1
P0031  2         CALLS TO FINDVAC BEGIN HERE, SNATCHING AN AVAILABLE VAC AREA.
 0032  2         SETLOC 10000           EXEC/WAITLIST BANK.
 0033  2SLAPB    TC     SLAP1
 0034  2KEYRUPTC TC     KEYRUPT1        STANDARD LOC. DONT MOVE
 0035  2MODROUTB TC     MODROUT         STANDARD LOC. DONT MOVE
 0036  2SVCT3    TC     SVCT3X          STANDARD LOC.
 0037  2FINDVAC2 CCS    VAC1USE         C(VACIUSE) =  TC VACIUSE  IF VACI IS
 0038            TC     FV1             AVAILABLE, OR +0 IF IT IS IN USE.
 0039            CCS    VAC2USE
 0040            TC     FV1             THE FIRST CCS WITH +0 JUMPS TO THE
 0041            CCS    VAC3USE           CORRESPONDING TC ORDER.
 0042            TC     FV1
 0043            CCS    VAC4USE
 0044            TC     FV1
 0045            CCS    VAC5USE
 0046  2         TC     FV1
 0047            TC     ABORT           NO VAC AREAS AVAILABLE.
 0048  2         OCT    01201
 0049   FV1      AD     TWO             TO FORM ADDRESS OF ASSIGNED VAC AREA.
 0050            TS     EXECTEM3
 0051            AD     NEWPRIO         )  STORE ADDRESS OF VACI IN LOW-ORDER
 0052  2         TS     NEWPRIO         )    9 BITS OF NEWPRIO.
 0053            CAF    ZERO            )
 0054            INDEX  EXECTEM3        )  STORE +0 IN VACIUSE, INDICATING USE.
 0055  2         TS     0  -1           )
 0056   NOVAC2   CAF    LASTADR         RELATIVE ADDRESS OF LAST REGISTER SET.
 0057            TS     LOCCTR
 0058            CCS    A
 0059  2         TC     +5              PNZ AND -0 ONLY.
 0060   12BITSOK CS     EXECTEM2        COMES HERE IF JOB ADDRESS LESS THAN 6K.
 0061  2         TC     LOCSET
 0062            TC     ABORT           NO REGISTER SETS AVAILABLE.
 0063  2         OCT    01202
 0064    +5      INDEX  LOCCTR          THIS LOOP FINDS THE FIRST AVAILABLE
 0065            CCS    PRIORITY          STORAGE AREA FOR CORE REGISTERS FOR
 0066            TC     NOVAC3          THE NEW JOB.
 0067   LASTADR  DEC    56              EIGHT SETS OF EIGHT REGISTERS.
 0068            TC     NOVAC3          NNZ MEANS JOB ASLEEP HERE.
P0069  2          NOW THAT REGISTER SETS HAVE BEEN FOUND FOR THE NEW JOB, INITIA
 0070  9LIZE THEM AND SET NEWJOB IF CALLED FOR.
 0071   CORSW    INDEX  LOCCTR          (COMES HERE WITH C(A) = 0). TURN OFF OVF
 0072  2         TS     OVFIND
 0073            AD     NEWPRIO         SET UP PRIORITY FOR NEW JOB.
 0074   JOBWAKE4 INDEX  LOCCTR          JOB WAKING ENTERS HERE TO FINISH UP.
 0075            TS     PRIORITY        STORE NEW PRIORITY
 0076            CAF    BANKMASK
 0077            MASK   EXECTEM2
 0078            AD     EXECTEM3        PUSHLOC
 0079            INDEX  LOCCTR
 0080  2         TS     PUSHLOC
 0081            CAF    EXEC70K         CREATE PROPER 12 BIT ADDRESS.
 0082            MASK   EXECTEM2        SEE IF HIGH THREE BITS ZERO.
 0083            CCS    A
 0084            TC     +2              NEEDS SPECIAL TREATMENT IF C(A) NOT ZERO
 0085  2         TC     12BITSOK
 0086            XCH    EXECTEM2
 0087            MASK   LOW10
 0088            AD     6K
 0089            COM
 0090   LOCSET   INDEX  LOCCTR
 0091  2         TS     LOC
 0092            INDEX  NEWJOB
 0093            CS     PRIORITY        TEST WHETHER NEW JOB HAS HIGHER
 0094            AD     NEWPRIO         PRIORITY THAN PREVIOUS HIGHEST
 0095            CCS    A
 0096            CS     LOCCTR          NEW JOB HAS HIGHER PRIORITY.
 0097  2         TC     NEWHIGH         SET NEWJOB, LEAVING LOCCTR UNCHANGED.
 0098            TC     +1              -0 IF PRIORITIES = AND BOTH ARE NOVACS.
 0099   NOWAKE2  XCH    EXECTEM1
 0100  2ENDFIND  TC     FOUNDVAC
 0101   NEWHIGH  COM                    SET NEWJOB AND RETURN TO CALLER.
 0102            TS     NEWJOB
 0103  2         TC     ENDFIND -1
 0104   NOVAC3   CS     EIGHT           COMES HERE TO EXAMINE NEXT REGISTER SET.
 0105            AD     LOCCTR
 0106            TC     NOVAC2 +1
P0107  2         THE  JOBWAKE  ROUTINE REACTIVES A SLEEPING JOB, SETTING IT TO B
 0108  9EGIN AT THE GIVEN WAKE ADDRESS.
 0109   JOBWAKE2 CAF    LASTADR         BEGIN SEARCH FOR REGISTER SET CONTAINING
 0110            TS     LOCCTR          SLEEPING JOB. WAKE ADDRESS IS IN  LOC IN
 0111            CCS    A               CADR FORM, AS PLACED THERE BY  JOBSLEEP.
 0112            INDEX  LOCCTR          PNZ AND -0 ONLY. SEE IF THIS JOB ASLEEP.
 0113            CCS    PRIORITY        THIS CCS CANT GO TO  TC NOWAKE  .
 0114  2         TC     JOBWAKE3        PNZ - ACTIVE JOB PRESENT. +0 IMPOSSIBLE.
 0115  2         TC     NOWAKE          ALARM - SLEEPING JOB NOT FOUND.
 0116            TC     +2              INACTIVE JOB FOUND.
 0117  2         TC     JOBWAKE3        -0 - NOT IN USE.
 0118    +2      CS     EXECTEM2        SEE IF THIS IS THE DESIRED SLEEPING JOB.
 0119            INDEX  LOCCTR
 0120            AD     LOC
 0121            CCS    A
 0122            TC     JOBWAKE3        SEARCH NEXT SET IF NOT AT END.
 0123            TC     CCSHOLE
 0124  2         TC     JOBWAKE3
 0125            CAF    LOW10           SET UP EXECTEM3 AND PRIORITY SO WE CAN
 0126            INDEX  LOCCTR          FINISH AT STANDARD  CORSW  .
 0127            MASK   PUSHLOC         PROTECT PD SETTING.
 0128  2         TS     EXECTEM3
 0129            INDEX  LOCCTR          RE-COMPLEMENT PRIORITY AND FINISH UP.
 0130            CS     PRIORITY
 0131            TS     NEWPRIO
 0132  2         TC     JOBWAKE4
 0133   JOBWAKE3 CS     EIGHT           ADVANCE TO NEXT REGISTER SET.
 0134            AD     LOCCTR
 0135  2         TC     JOBWAKE2 +1
 0136   NOWAKE   TS     LOCCTR          SET LOCCTR = +0 TO SHOW NO JOB WAS
 0137            TC     NOWAKE2          AWAKENED.
P0138   A NEW JOB, OF HIGHER PRIORITY THAN THE PRESENT ONE, CAUSES THE RELA-
R0139   TIVE ADDRESS (9, 18, ..., 63) OF THE NEW JOB CORE REGISTERS TO BE
R0140   PLACED IN REGISTER  NEWJOB , WHERE IT IS TESTED BY THE INTERPRETER.
R0141   THE RESULTING BRANCH TO CHANJOB, BELOW, CAUSES A TRADE BETWEEN THE
R0142  2CORE REGISTERS OF THE PRESENT AND NEW JOBS.
 0143  2         SETLOC FOUNDVAC +3
 0144   CHANG1   INHINT                 BASIC JOBS COME HERE WHEN C(NEWJOB)
 0145            CAF    EXECBANK        NON-ZERO. START BY CALLING IN EXECUTIVE
 0146            XCH    BANKREG         BANK AND SAVING RETURN BANK CODE.
 0147            COM
 0148            TS     BANKSET
 0149            XCH    PUSHLOC         BLANK OUT THE HIGH-ORDER 4 BITS IN
 0150            MASK   LOW10           PUSHLOC SO THE BANK BITS CAN BE PACKED
 0151            TS     PUSHLOC         WITH IT
 0152            CS     Q               FOR RETURN, SHOWING THIS WAS A BASIC JOB
 0153  2         TC     CHANJOB         OFF TO BANK 0
 0154   CHANG2   CCS    NEWEQIND        INTERPRETIVE INTERRUPTS START HERE,
 0155  2         TC     Q               PROVIDED THE LOAD INDICATOR ISNT ON
 0156            INHINT
 0157            CAF    EXECBANK        CALL IN EXECUTIVE BANK.
 0158            TS     BANKREG
 0159            XCH    LOC
 0160  8         TC     CHANJOB         WITH C(A) PNZ, SHOWING WE WERE IN INTERP
 0161  9RETER
 0162            SETLOC NOWAKE +2
 0163   CHANJOB  INDEX  NEWJOB          TO BEGIN SWAP OF CORE REGISTERS
 0164            XCH    LOC
 0165  2         TS     LOC             SAVE PROPER 12 BIT ADDRESS
 0166            XCH    PRIORITY
 0167            INDEX  NEWJOB
 0168            XCH    PRIORITY
 0169            TS     PRIORITY
 0170            MASK   LOW9            TO GET FIXLOC
 0171            TS     FIXLOC
 0172            AD     BIT6            SET UP VACLOC ( = FIXLOC + 32D )
 0173  2         TS     VACLOC
 0174            CS     BANKSET         SAVE BANK
 0175            AD     PUSHLOC         AND PUSHLOC IN SAME WORD
 0176            INDEX  NEWJOB
 0177            XCH    PUSHLOC
 0178            TS     PUSHLOC
 0179            MASK   LOW10
 0180            XCH    PUSHLOC
 0181            COM
 0182            AD     PUSHLOC         WE NOW HAVE COMPLEMNT OF BANK BITS
 0183  2         TS     BANKSET
 0184            CS     ADRLOC          SAVE MODE AND COMPLEMENT OF ADRLOC IN
 0185            DOUBLE                 SAME WORD.  ADRLOC MUST BE SHIFTED 2
 0186            DOUBLE                 PLACES TO MAKE ROOM FOR MODE
 0187            AD     MODE            -0, -1, OR -2
 0188            INDEX  NEWJOB
 0189            XCH    ADRLOC
 0190            TS     SR
 0191            MASK   THREE           SAVE LOW 2 BITS
 0192            AD     NEG3            THIS RESULTS IN EITHER -0, -1, OR -2
 0193            TS     MODE
 0194            CS     SR
 0195            CS     SR
 0196  8         TS     ADRLOC
 0197            CCS    OVFIND          SAVE C(ORDER) POSITIVE IF C(OVFIND) = 0
 0198            TC     +2              AND NEGATIVE OTHERWISE
 0199            TC     +3
 0200            CS     ORDER
 0201            TC     +2
 0202            XCH    ORDER
 0203            INDEX  NEWJOB
 0204            XCH    OVFIND
 0205            TS     ORDER
 0206            CCS    A               DETERMINE NEW SETTING OF OVFIND
 0207            CAF    ZERO            TO ZERO
 0208            TC     OVFSET
 0209            CS     ORDER           ORDER WAS NEGATIVE, MAKE IT POSITIVE
 0210            TS     ORDER
 0211            CAF    ONE             TO SET OVFIND
 0212  2OVFSET   TS     OVFIND
 0213            XCH    MPAC            TRADE C(MPAC TO MPAC+2)
 0214            INDEX  NEWJOB
 0215            XCH    MPAC
 0216            TS     MPAC
 0217            XCH    MPAC +1
 0218            INDEX  NEWJOB
 0219            XCH    MPAC +1
 0220            TS     MPAC +1
 0221            XCH    MPAC +2
 0222            INDEX  NEWJOB
 0223            XCH    MPAC +2
 0224  2         TS     MPAC +2
 0225            CAF    ZERO
 0226            TS     NEWEQIND        MAKE SURE LOAD INDICATOR OFF.
 0227   SETNJ    TS     NEWJOB
 0228            RELINT                 ENABLE INTERRUPT
 0229            CCS    LOC             C(LOC) PNZ FOR INTERPRETIVE JOBS,
 0230            CAF    ZERO
 0231            TC     DANZIG +2       RETURN TO INTERPRETER
 0232            AD     ONE             GET ABS(LOC) AND RETURN TO BASIC
 0233            TS     ADDRWD
 0234            CS     BANKSET         GET DESIRED BANKBITS
 0235  2ENDCHANG TC     BASICALL
 0236  2         SETLOC CHANG2 +7D      TAKE UP WHERE WE LEFT OFF IN FIXED-FIXED
 0237   BASICALL TS     BANKREG
 0238  8         TC     ADDRWD
 0239   ENDOFJOB CAF    EXECBANK        NORMAL ENDJOB ENTRY.
 0240            TS     BANKREG
 0241  2         TC     ENDJOB1
 0242   JOBSLEEP TS     LOC             ENTRY HERE TO DE-ACTIVE THIS JOB.
 0243            CAF    EXECBANK        LOC IS SET TO THE AWAKENING ADDRESS
 0244            TS     BANKREG         SO THE SUBSEQUENT JOBWAKE CAN FIND
 0245  2         TC     JOBSLP1         THE PROPER REGISTER SET.
 0246  2         SETLOC ENDCHANG +1
 0247   ENDJOB1  INHINT                 INTERPRETIVE JOBS FINISH WITH RTB
 0248            CS     ZERO            TO ENDJOB1
 0249            TS     BUF +1          ENDJOB USES BUF, BUF +1, AND BUF +2.
 0250            XCH    PRIORITY
 0251            MASK   LOW9            RESTORE AVAILABILITY OF VACI BY SETTING
 0252            CCS    A               C(VACIUSE) NON-ZERO
 0253            INDEX  A
 0254  2         TS     0
 0255  2         TC     EJSCAN          ENDJOB NEED NOT EXAMINE FIRST REG. SET.
 0256   JOBSLP1  INHINT                 FINISH JOB SLEEP AND START ENDJOB-TYPE
 0257            CS     PRIORITY        SCAN. COMPLEMENTED PRIORITY REGISTER
 0258            TS     PRIORITY        SHOWS JOB IS ASLEEP.
 0259            CS     ZERO            INITIALIZE SEARCH FOR HIGHEST PRIORITY.
 0260            TS     BUF +1
P0261  2         SCAN FOR THE ACTIVE JOB OF HIGHEST PRIORITY.
 0262   EJSCAN   CCS    PRIORITY +8D    EACH PRIORITY REGISTER (PRIORITY +8N)
 0263            TC     EJ1             IS SCANNED. ITS CONTENTS ARE EITHER
 0264            TC     CCSHOLE
 0265  2         TC     +1                 2. NNZ - AN INACTIVE PRIORITY NUMBER.
 0266            CCS    PRIORITY +16D   OR 3. -0 - NOT IN USE.
 0267            TC     EJ1             IF PNZ, CONTROL IS TRANSFERRED TO EJ1
 0268            TC     CCSHOLE
 0269  2         TC     +1              PARED WITH THE PREVIOUS HIGHEST
 0270            CCS    PRIORITY +24D   PRIORITY FOUND. THE CONTENTS OF Q
 0271            TC     EJ1             SERVE TO LOCATE THE CCS WHICH WAS
 0272            TC     CCSHOLE
 0273  2         TC     +1              NEWJOB IS SET TO THE RELATIVE ADDRESS
 0274            CCS    PRIORITY +32D   OF THE REGISTER SET WITH THE HIGHTEST
 0275            TC     EJ1             ACTIVE PRIORITY AT THE END OF THE SCAN.
 0276            TC     CCSHOLE
 0277  2         TC     +1
 0278            CCS    PRIORITY +40D
 0279            TC     EJ1
 0280   EXEC70K  OCT    70000
 0281  2         TC     +1
 0282            CCS    PRIORITY +48D
 0283            TC     EJ1
 0284   -CCSPR  -CCS    PRIORITY
 0285  2         TC     +1
 0286            CCS    PRIORITY +56D
 0287            TC     EJ1
 0288            TC     CCSHOLE
 0289  8         TC     +1
 0290            CCS    BUF             IF BUF = 0, THE SCAN WAS PART OF
 0291            TC     +2              A PRIORITY CHANGE IN WHICH THE NEW
 0292  2         TC     SETNJ           PRIORITY IS HIGHEST. GO SET NEWJOB = 0.
 0293            INDEX  A               PICK UP CCS INSTRUCTION TO GET NEWJOB
 0294            CAF    0 -1            SELECT CCS INSTRUCTION.
 0295            AD     -CCSPR
 0296            TS     NEWJOB          RELATIVE ADDRESS ONLY.
 0297            XCH    LOC             (NO MEANING FOR ENDOFJOB).
 0298  4         TC     CHANJOB
 0299   EJ1      TS     BUF +2          STORE NEW PRIORITY
 0300            AD     BUF +1          - OLD PRIORITY
 0301            CCS    A
 0302            XCH    Q               IF NEW PRIORITY IS LARGER
 0303            TC     EJ2
 0304            NOOP                   IF OLD PRIORITY IS LARGER
 0305            INDEX  Q                 OR EQUAL
 0306  2         TC     2
 0307   EJ2      TS     BUF             SAVE C(Q) TO LOCATE HIGHEST PRIORITY
 0308            CS     BUF +2            JOB AT END OF SCAN.
 0309            TS     BUF +1
 0310            INDEX  BUF
 0311            TC     2
P0312            THE FOLLOWING ROUTINE IS AVAILABLE TO CHANGE THE PRIORITY OF A
 0313  9JOB WHILE IT IS RUNNING UNDER EXECUTIVE
R0314  2CONTROL (IE, IN CORE SET 0). CALLING SEQUENCE IS AS FOLLOWS (NO INHINT N
 0315  9ECESSARY):
A0316            CAF    NEWPRIO         PRIORITY IN BITS 10-14 - ZERO ELSEWHERE.
A0317  2L        TC     PRIOCHNG
R0318   RETURN IS TO L+1 IMMEDIATELY UNLESS A JOB OF STILL HIGHER PRIORITY IS PR
 0319  9ESENT, IN WHICH CASE IT GOES TO CHANJOB
R0320  4BEFORE RETURNING.
 0321  2         SETLOC JOBSLEEP +4
 0322   PRIOCHNG INHINT                 PREPARE Q, BANK, AND PUSHLOC (ALA
 0323            TS     NEWPRIO         CHANG1) IN CASE WE HAVE TO CHANGE JOBS.
 0324            CS     Q
 0325            TS     LOC
 0326            CAF    EXECBANK
 0327            XCH    BANKREG
 0328  2         TC     PRIOCH2         OFF TO EXECUTIVE BANK.
 0329  2         SETLOC EJ2 +5
 0330   PRIOCH2  COM
 0331            TS     BANKSET
 0332            XCH    PUSHLOC
 0333            MASK   LOW10
 0334  2         TS     PUSHLOC
 0335            CAF    LOW9            MAKE UP NEW PRIORITY WORD, LEAVING
 0336            MASK   PRIORITY        POSSIBLE VAC ADDRESS INTACT.
 0337            AD     NEWPRIO
 0338            TS     PRIORITY
 0339            COM                    INITIALIZE BUF +1 TO - THIS PRIORITY FOR
 0340  2         TS     BUF +1          SEARCH FOR HIGHEST PRIORITY.
 0341            CAF    ZERO            SET BUF TO ZERO AS A FLAG FOR END OF
 0342            TS     BUF             SCAN.
 0343            TC     EJSCAN          SCAN FOR HIGHEST PRIORITY.
P0345  2LIST OF PROGRAM PRIORITIES
 0346  2         SETLOC PRIOCHNG +7
 0347   PRIO1    EQUALS BIT10
 0348   PRIO2    EQUALS BIT11
 0349   PRIO3    OCT    03000
 0350   PRIO4    EQUALS BIT12
 0351   PRIO5    OCT    05000
 0352   OCT05000 EQUALS PRIO5
 0353   PRIO6    EQUALS 6K
 0354   PRIO7    OCT    07000
 0355   PRIO10   EQUALS BIT13
 0356   PRIO11   OCT    11000
 0357   PRIO12   OCT    12000
 0358   PRIO13   OCT    13000
 0359   PRIO14   OCT    14000
 0360   PRIO15   OCT    15000
 0361   PRIO16   OCT    16000
 0362   PRIO17   OCT    17000
 0363   PRIO20   EQUALS BIT14
 0364   PRIO21   OCT    21000
 0365   PRIO22   OCT    22000
 0366   PRIO23   OCT    23000
 0367   PRIO24   OCT    24000
 0368   PRIO25   OCT    25000
 0369   PRIO26   OCT    26000
 0370   PRIO27   OCT    27000
 0371   PRIO30   OCT    30000
 0372   PRIO31   OCT    31000
 0373   PRIO32   OCT    32000
 0374   PRIO33   OCT    33000
 0375   PRIO34   OCT    34000
 0376   PRIO35   OCT    35000
 0377   PRIO36   OCT    36000
 0378   PRIO37   OCT    37000
L      2WAITLIST
R0001  2CHECK-OUT STATUS - UNIT VERIFICATION COMPLETE MAY, 1965
 0002  9EXCEPT LONGCALL SECTION.
R0003  2DO NOT CHANGE THIS SECTION WITHOUT PRB APPROVAL.
R0004  2GROUNDRULE....DELTA T SHOULD NOT EXCEED 12000 (= 2 MINUTES)
 0005            BANK   1
 0006   WAITLIST TS     DELT            STORE DELTA T = TD - T (TD = DESIRED
 0007            XCH    Q                 TIME FOR FUTURE ACTION).
 0008            TC     EXECCOM         PICK UP TASK ADDRESS AND SAVE BANKREG.
 0009  2         TC     WTLST3
 0010            BANK   4
 0011   WTLST3   CS     TIME3
 0012            AD     +1              CCS  A  = + 1/4
 0013            CCS    A               TEST  1/4 - C(TIME3).  IF POSITIVE,
A0014   IT MEANS THAT TIME3 OVERFLOW HAS OCCURRED PRIOR TO CS  TIME3 AND THAT
A0015   C(TIME3) = T - T1, INSTEAD OF 1.0 - (T1 - T).  THE FOLLOWING FOUR
A0016   ORDERS SET C(A) = TD - T1 + 1 IN EITHER CASE.  C(CSQ) = CS  Q = 40001
A0017  2AND  C(TSQ) = TS  Q = 50001   NOTATION...   1 - 00001,  1.0 = 37777+1
 0018            AD     CSQ             OVERFLOW HAS OCCURRED.  SET C(A) =
 0019  2         CS     A               T - T1 + 3/4 - 1
R0020  2NORMAL CASE (C(A) MINUS) YIELDS SAME C(A)  -(-(1.0-(T1-T))+1/4)-1
 0021            AD     TSQ             TS  Q  = - 3/4 + 2
 0022  8         AD     DELT            RESULT = TD - T1 + 1
 0023  9            10 W
 0024  2         CCS    A               TEST TD - T1 + 1
 0025            AD     LST1            IF TD - T1 POS, GO TO WTLST5 WITH
 0026  2         TC     WTLST5          C(A) = (TD - T1) + C(LST1) = TD-T2+1
 0027            TC     +1
 0028  2         CS     DELT
R0029   NOTE THAT THIS PROGRAM SECTION IS NEVER ENTERED WHEN T-T1 G/E -1,
R0030   SINCE TD-T1+1 = (TD-T) + (T-T1+1), AND DELTA T = TD-T G/E +1 .  (G/E
R0031   SYMBOL MEANS GREATER THAN OR EQUAL TO).  THUS THERE NEED BE NO CON-
R0032  2CERN OVER A PREVIOUS OR IMMINENT OVERFLOW OF TIME3 HERE.
 0033            AD     POS1/2          WHEN TD IS NEXT, FORM QUANTITY
 0034            AD     POS1/2            1.0 - DELTA T = 1.0 - (TD - T)
 0035            XCH    TIME3
 0036            AD     MSIGN
 0037            AD     DELT
 0038            TS     DELT
 0039            CAF    ZERO
 0040            XCH    DELT
 0041   WTLST4   XCH    LST1
 0042            XCH    LST1 +1
 0043            XCH    LST1 +2
 0044            XCH    LST1 +3
 0045            XCH    LST1 +4
 00453           XCH    LST1 +5
 00456           XCH    LST1 +6
 0046            XCH    EXECTEM2        TASK ADDRESS.
 0047            INDEX  NVAL
 0048            TC     +1
 0049            XCH    LST2
 0050            XCH    LST2 +1
 0051            XCH    LST2 +2
 0052            XCH    LST2 +3
 0053            XCH    LST2 +4
 0054            XCH    LST2 +5         AT END, CHECK THAT C(LST2+5) IS STD
 00543           XCH    LST2 +6
 00546           XCH    LST2 +7
 0055            AD     ENDTASK           END ITEM, AS CHECK FOR EXCEEDING
A0056                                     THE LENGTH OF THE LIST.
 0057            CCS    A
 0058            TC     ABORT           WAITLIST OVERFLOW.
 0059            OCT    01203
 0060  2         TC     -2
 0061            XCH    EXECTEM1        RETURN TO CALLER.
 0062  8         TC     LVWTLIST        SAME ROUTINE AS FINDVAC, ETC., EXIT.
 0063   WTLST5   CCS    A               TEST  TD - T2 + 1
 0064            AD     LST1 +1
 0065            TC     +4
 0066            AD     ONE
 0067            TC     WTLST2
 0068  2         OCT    1
 0069   +4       CCS    A               TEST  TD - T3 + 1
 0070            AD     LST1 +2
 0071            TC     +4
 0072            AD     ONE
 0073            TC     WTLST2
 0074  2         OCT    2
 0075   +4       CCS    A               TEST  TD - T4 + 1
 0076            AD     LST1 +3
 0077            TC     +4
 0078            AD     ONE
 0079            TC     WTLST2
 0080  2         OCT    3
 0081   +4       CCS    A               TEST  TD - T5 + 1
 0082            AD     LST1 +4
 0083            TC     +4
 0084            AD     ONE
 0085            TC     WTLST2
 0086  2         OCT    4
 0087   +4       CCS    A               TEST  TD - T6 + 1
 008705          AD     LST1 +5
 00871           TC     +4
 008715          AD     ONE
 00872           TC     WTLST2
 0087258         OCT    5
 00873   +4      CCS    A
 008735          AD     LST1 +6
 00874           TC     +4
 008745          AD     ONE
 00875           TC     WTLST2
 0087552         OCT    6
 00876   +4      CCS    A
 0088            TC     WTALARM
 0089            NOOP
 0090            AD     ONE
 0091            TC     WTLST2
 0092  2         OCT    7
 0093   WTALARM  TC     ABORT
 0094  2         OCT    01204
 0095  2LVWTLIST EQUALS FOUNDVAC
 0096   SVCT3X   CCS    FLAGWRD2        IF DURING FREE-FALL AND AFTER
 0097            TC     TASKOVER        PLATFORM HAS BEEN ALIGNED, COMPENSATE
 0098            TC     TASKOVER        FOR GYRO BIAS DRIFT.
 0099  2         TC     +1
 0100            CAF    PRIO35
 0101            TC     NOVAC
 0102            CADR   BIASONLY
 0103   LTSKOV   TC     TASKOVER        USED BY LONGCALL.
R0104  2C(TIME3) = 1.0 - (T1 - T)
R0105   C(LST1  ) = - (T2 - T1) + 1
R0106   C(LST1+1) = - (T3 - T2) + 1
R0107   C(LST1+2) = - (T4 - T3) + 1
R0108   C(LST1+3) = - (T5 - T4) + 1
R0109  2C(LST1+4) = - (T6 - T5) + 1
R0110   C(LST2  ) = TC  TASK1
R0111   C(LST2+1) = TC  TASK2
R0112   C(LST2+2) = TC  TASK3
R0113   C(LST2+3) = TC  TASK4
R0114   C(LST2+4) = TC  TASK5
R0115  8C(LST2+5) = TC  TASK6
 0116  9            11 W
R0117   THE ENTRY TO WTLST2 JUST PRECEDING OCT  N  IS FOR T  LE TD LE T   -1.
R0118  2                                                   N           N+1
R0119   (LE MEANS LESS THAN OR EQUAL TO).  AT ENTRY, C(A) = -(TD - T   + 1)
R0120  2                                                            N+1
R0121   THE LST1 ENTRY -(T   - T +1) IS TO BE REPLACED BY -(TD - T + 1), AND
R0122  2                  N+1   N                                 N
R0123   THE ENTRY -(T   - TD + 1) IS TO BE INSERTED IMMEDIATELY FOLLOWING.
R0124  2             N+1
 0125   WTLST2   XCH    Q               NEW C(Q) = -(TD - T   + 1)
 0126            INDEX  A                                  N+1
 0127            CAF    0
 0128  2         TS     NVAL            VALUE OF N INTO NVAL
 0129            CAF    ONE
 0130            AD     Q
 0131            INDEX  NVAL            C(A) = -(TD - T ) + 1.
 0132  2         AD     LST1 -1                        N
 0133            INDEX  NVAL
 0134  2         TS     LST1 -1
 0135            CS     Q               -C(Q) = -(T    - TD) + 1
 0136            INDEX  NVAL                       N+1
 0137            TC     WTLST4
P0138   THIS ROUTINE HANDLES TASKS MORE THAN 120 SECS IN THE FUTURE. IT REQUIRES
 0139  9 CALL TIME IN LONGTIME, +1 SCALED SAME
R0140   AS TIME2, 1 AND THE TASK ADDRESS IN CALLCADR. ENTER WITH
R0141                                                              TC IBNKCALL
R0142                                                            CADR LONGCALL
R0143  4THE ROUTINE ONLY HANDLES ONE CALL AT A TIME
 0144   LONGCALL XCH    Q
 0145  2         TS     LONGEXIT
 0146            XCH    LONGTIME +1
 0147            DOUBLE
 0148            TS     LONGTIME +1
 0149            CAF    ZERO
 0150            AD     LONGTIME
 0151            AD     LONGTIME
 0152            TS     LONGTIME
 0153            TC     +2
 0154  2         TC                     ERROR TRAP.   DT TOO BIG
 0155            CAF    ONE
 0156            AD     LONGTIME +1
 0157            AD     POSMAX
 0158            TS     LONGTIME +1
 0159  2         CAF    ZERO
 0160            AD     LONGTIME
 0161            AD     POSMAX
 0162            TS     LONGTIME
 0163  2         TC     CCSHOLE
 0164            CAF    BIT14
 0165            EXTEND
 0166            MP     LONGTIME +1
 0167  2         TS     LONGTIME +1
 0168   LONGCYCL CCS    LONGTIME
 0169  2         TC     LOOPAGIN
 0170            CCS    LONGTIME +1     TEST FOR LOWER ORDER ZERO
 0171            TC     +2
 0172  2         TC     GETCADR
 0173            XCH    LONGTIME +1
 0174            TC     WAITLIST
 0175  2         CADR   GETCADR
 0176            TC     LONGC1
 0177   LOOPAGIN TS     LONGTIME
 0178            CAF    BIT14
 0179            TC     WAITLIST
 0180  2         CADR   LONGCYCL
 0181   LONGC1   CAF    LTSKOV
 0182            XCH    LONGEXIT
 0183  2         XAQ
 0184   GETCADR  XCH    CALLCADR
 0185            TC     BANKJUMP
P0187  2         ENTERS HERE ON T3 RUPT TO DISPATCH WAITLISTED TASK.
 0188  2         SETLOC WAITLIST +4     BACK TO FF.
 0189   T3RUPT   XCH    BANKREG          TIME 3 OVERFLOW INTERRUPT PROGRAM
 0190            TS     BANKRUPT
 0191            XCH    OVCTR           1.  PICK UP CONTENTS OF THE OVERFLOW
 0192  2         TS     OVRUPT             AND SAVE IN OVRUPT FOR ENTIRE T3RUPT.
 0193   T3RUPT2  CS     ZERO            SET RUPTAGN TO -0 INITIALLY, AND SET
 0194            TS     RUPTAGN         T3 TO -0 WHILE WE MAKE UP ITS NEW
 0195            XCH    TIME3           CONTENTS SO WE CAN DETECT AN INCREMENT
 0196  2         TS     Q               OCCURING IN THE PROCESS.
 0197            CAF    NEG1/2
 01973           XCH    LST1 +6
 01976           XCH    LST1 +5
 0198            XCH    LST1 +4         3.  MOVE UP LST1 CONTENTS, ENTERING
 0199            XCH    LST1 +3             A VALUE OF 1/2 +1 AT THE BOTTOM
 0200            XCH    LST1 +2             FOR T6-T5, CORRESPONDING TO THE
 0201            XCH    LST1 +1             INTERVAL 81.93 SEC FOR ENDTASK.
 0202            XCH    LST1
 0203            AD     POSMAX          4. SET T3 = 1.0 - T2 -T USING LIST 1.
 0204            AD     Q               SAMPLED T3.
 0205            TS     A               SEE IF NEW T3 HAS OVERFLOW. IF SO, NEXT
 0206            TC     +4              TASK IS DUE THIS T3 RUPT AND SET RUPTAGN
 0207            XCH    RUPTAGN         ACCORDINGLY.
 0208            CAF    ONE
 0209  2         XCH    RUPTAGN
 0210    +4      XCH    TIME3
 0211            CCS    A               T3 IS ALMOST ALWAYS -0 UNLESS AN
 0212            CAF    ONE             INCREMENT OCCURRED IN WHICH CASE WE MUST
 0213            AD     TIME3           ADD IT TO THE NEW T3.
 0214  8         TC     XTRAINC
 0215   T3DSP    CS     ENDTASK
 02153           XCH    LST2 +7
 02156           XCH    LST2 +6
 0216            XCH    LST2 +5             ENTERING THE ENDTASK AT BOTTOM.
 0217            XCH    LST2 +4
 0218            XCH    LST2 +3
 0219            XCH    LST2 +2
 0220            XCH    LST2 +1
 0221  2         XCH    LST2            9.  PICK UP TOP TASK ON LIST
 0222            TS     BANKREG         SWITCH BANKS IF NECESSARY
 0223            TS     ITEMP1
 0224            MASK   70K
 0225            CCS    A
 0226            TC     +2              IF +
 0227            TC     ITEMP1
 0228            XCH    ITEMP1
 0229            MASK   LOW10
 0230            INDEX  A
 0231  4         TC     6000
R0232  2RETURN, AFTER EXECUTION OF TIME3 OVERFLOW TASK.
 0233   TASKOVER CCS    RUPTAGN         IF +1 RETURN TO T3RUPT, IF -0 RESUME.
 0234  2         TC     T3RUPT2         DISPATCH NEXT TASK IF IT WAS DUE.
 0235   ENDTASK -CADR   SVCT3
 0236  2BANKMASK OCT    76000
 0237   OVRESUME XCH    OVRUPT          OVCTR RESTORE AND BANKREG RESTORE.
 0238  2         TS     OVCTR
 0239   RESUME   XCH    BANKRUPT        STANDARD BANK-SWITCH RESUME.
 0240  2         TS     BANKREG
 0241   NBRESUME XCH    QRUPT           NO-BANK-SWITCH RESUME.
 0242            TS     Q
 0243            XCH    ARUPT
 0244  2         RESUME
R0245  2         FINISH UP RARE EVENT OF EXTRA INCREMENT TO T3.
 0246   XTRAINC  TS     TIME3
 0247            TC     T3DSP           USUAL CASE.
 0248            TS     RUPTAGN         EVEN MORE RARE - THE NEXT TASK IS DUE
 0249            TC     T3DSP           THIS T3RUPT.
L      2RESTART CONTROL
 0001            BANK   1
R0002  2OF THE PHASE TABLE IN ALMOST CONTSTANT AGREEMENT. CALLING SEQUENCES ARE
 0003  9AS FOLLOWS:
A0004            TC     PHASCHNG        CHANGE GROUP G TO PHASE PPP (127 MAX).
A0005  2         OCT    PPP0G           (CALL UNDER EXECUTIVE ONLY)
A0006            CAF    --              CHANGE GROUP G TO THE PHASE ARRIVING IN
A0007            TC     NEWPHASE        A (MAY BE CALLED ANYTIME).
A0008  2         OCT    0000G
R0009            IN EACH CASE THE OLD PHASE IS RETURNED TO THE CALLER IN A. IF T
 0010  9HE OLD PHASE WAS +0, CONTROL IS
R0011  2GIVEN TO A ROUTINE SPECIFIED IN A CADR TABLE. THIS ROUTINE MAY EXIT OR R
 0012  9ETURN TO CALLER VIA SWRETURN.
 0013   PHASCHNG XCH    Q
 0014            INHINT
 0015            TS     RUPTREG4
 0016            INDEX  A
 0017            CAF    0
 0018            TS     PHASDATA
 0019            MASK   LOW5            (MAY WANT MORE GROUPS SOME DAY)
 0020            XCH    PHASDATA
 0021            EXTEND
 0022            MP     -BIT9           NOTE LP NOT SAVED.
 0023  2         TC     PHASCH2
 0024  2-BIT9    OCT    -400
 0025   NEWPHASE INHINT
 0026            XCH    Q
 0027            TS     RUPTREG4
 0028            INDEX  A
 0029            CAF    0
 0030  2         TS     PHASDATA
 0031            CS     Q
 0032   PHASCH2  INDEX  PHASDATA
 0033            TS     -PHASE1 - 1     PHASE1 IS FOR PROG NUM 1.
 0034            COM
 0035            INDEX  PHASDATA
 0036  2         XCH    PHASE1 - 1      INTO PHASE1 FOR PROG 1.
 0037            CCS    A
 0038  2         TC     +3
 0039  2         TC     UPT             ON +0.
 0040            CS     TWO             -1 IS INACTIVE STATE
 0041  2 +3      AD     ONE
 0042   PHASEXIT XCH    RUPTREG4
 0043            AD     ONE
 0044            TS     Q               WE MUST RELINT BEFORE RETURN.
 0045            XCH    RUPTREG4        OLD PHASE BITS.
 0046            RELINT
 0047  2         TC     Q
 0048   UPT      INDEX  PHASDATA
 0049            CAF    UPTCADR -1
 0050  2         TC     SWCALL
 0051            CAF    ZERO            IF RETURN
 0052            TC     PHASEXIT
P0053  2         MAJOR MODE LIGHT MAINTENANCE ROUTINES.
R0054            ROUTINE TO CHECK EQUALITY BETWEEN THE MAJOR MODE DISPLAY AND TH
 0055  9E ARGUMENT AT CALLER +1. RETURNS TO
R0056  2CALLER +2 IF NOT AND CALLER +3 IF SO.
 0057   CHECKMM  CAF    ONE
 0058            AD     Q
 0059            XCH    Q
 0060            INDEX  A
 0061            CS     0
 0062            AD     MODREG
 0063            CCS    A
 0064            TC     Q
 0065   FINEMASK OCT    17
 0066            TC     Q
 0067            INDEX  Q
 0068  2         TC     Q
R0069  2         TO UPDATE THE MAJOR MODE LIGHTS:
 0070   NEWMODE  INDEX  Q
 0071            CAF    0
 0072            TS     MODREG
 0073            CAF    GRABUSY +1      CADR OF BANK CONTAINING DSPMM.
 0074            XCH    BANKREG
 0075            TS     MPAC +1         MPACS NOT USED BY DSPMM.
 0076            XCH    Q
 0077            TS     MPAC
 0078  2         TC     DSPMM
 0079            XCH    MPAC +1
 0080            TS     BANKREG
 0081            INDEX  MPAC
 0082            TC     1
P0084   PROGRAM PRGSTALL IS AN EXECUTIVE INTERLOCK ROUTINE. REQUESTING PROGS DO
R0085            TC     BANKCALL
R0086            CADR   PRGSTALL
R0087  4RETURN IS TO L+2 AFTER TWO PROGS HAVE CALLED.
 0088            BANK   4
 0089   PRGSTALL INHINT
 0090            CS     STATE
 0091            MASK   PRGBIT
 0092            TS     Q
 0093            CS     PRGBIT
 0094            MASK   STATE
 0095            AD     Q
 0096            TS     STATE
 0097            CCS    Q
 0098            TC     PRGSLEEP
 0099            CAF    LPRGRET
 0100            TC     JOBWAKE
 0101            RELINT
 0102  2         TC     SWRETURN
 0103   PRGSLEEP TC     MAKECADR
 0104            XCH    ADDRWD
 0105            TS     MPAC +2
 0106            CAF    LPRGRET
 0107  2         TC     JOBSLEEP
 0108   PRGRET   XCH    MPAC +2
 0109  2         TC     BANKJUMP
 0110   LPRGRET  CADR   PRGRET
 0111  2PRGBIT   EQUALS BIT1
 0112   UPTCADR  CADR
P0113            PINBALL COMES TO MODROUT ON RECEIVING THE NEW MODE REQUESTED BY
 0114  9 VERB 37. THE DESIRED MODE IN IS A
R0115  2ON ARRIVAL.
 0116   MODROUT  INHINT
 0117            AD     NEG3            FOR FLIGHT 501, ONLY MODES 01 AND 03 MAY
 0118            CCS    A               BE INITIATED BY VERB 37.
 0119            TC     V37BAD
 0120            TC     CCSHOLE
 0121  2         TC     1CHECK          SEE IF 01 CALLED FOR.
 0122            TC     CHECKMM         MODE 03 REQUESTED - DEMANDS MODE 02
 0123            OCT    02              PRESENTLY.
 0124  2         TC     V37BAD
 0125            CAF    PRIO14          START OPTICAL CHECK.
 0126            TC     FINDVAC
 0127            CADR   CHKOPT
 0128  2         TC     ENDOFJOB
 0129   1CHECK   AD     MINUS1          SEE IF 01 REQUESTED.
 0130            CCS    A
 0131            TC     V37BAD
 0132            TC     CCSHOLE
 0133  2         TC     V37BAD
 0134            CCS    MODREG          DEMAND IDLE MODE.
 0135  2         TC     V37BAD
 0136            CAF    PRIO20
 0137            TC     FINDVAC
 0138            CADR   TOP1
 0139  2         TC     ENDOFJOB
 0140   V37BAD   TC     FALTON          ILLEGAL REQUEST.
 0141            TC     ENDOFJOB
L      2501 RESTART TABLES AND ROUTINES
R0001    RESTART  TABLES
R0002  2 ----------------
R0003       THESE CONTROL RESTART OPERATION.
R0004  4
R0005  2  ...IMPORTANT...   DO NOT MOVE THIS SECTION FROM BEGINNING OF BANK. DJL
 0006            SETLOC 26000           START OF BANK 13.
 0007   WTDTTAB  DEC    0               WAITLIST DT FOR  RESTART 1.0
 0008   WCADRTAB CADR   0               WAITLIST CADR.
 0009   PRIOTAB  OCT    0               PRIORITY VALUE.
 0010  2CADRTAB  CADR   0               CADR OF CURRENT JOB
R0011  2 ANY JOB 1 RESTARTS SHOULD GO HEFE.
 0012   2.1SPOT  2DEC   0.0             2.1 RESTART
 0015            2DEC   0.0
 0016   2.2SPOT  OCT    0               RESTART 2.2 VALUES.
 0017            OCT    0
 0018            OCT    12000           PRIO12
 0019  2         CADR   SOAKINIT
 0020   2.3SPOT  OCT    0               2.3 RESTART
 0021            OCT    0
 0022            OCT    12000
 0023            CADR   ATTIJOB1 - 1
 0024   2.4SPOT  OCT    0               RESTART 2.4
 0025            OCT    0
 0026            OCT    12000
 0027  2         CADR   ATTIJOB
 00271  2.5SPOT  2DEC   0               2.5 RESTART.
 002715          2DEC   0
R0028    ANY MORE GROUP 2 RESTART VALUES SHOULD GO HERE.
R0029
 0030   3.1SPOT  OCT    77777           3.1 RESTART.
 0031            OCT    77777
 0032            CADR   TROLL +1        CONTAINS DT
 0033  2         CADR   MON1TASK
 0034   3.2SPOT  OCT    77777           3.2 RESTART
 0035            OCT    77777
 0036            CADR   TTUMON
 0037  2         CADR   TUMBTSK1
 0038            OCT    0               3.3 RESTART
 0039            OCT    0
 0040            OCT    77777
 0041  2         CADR   REDO3.3
 0042            DEC    700             3.4 RESTART.
 0043            CADR   GIMPOWOF
 0044            OCT    0
 0045  2         OCT    0
 0046            DEC    1050            3.5 RESTART
 0047            CADR   DVMODOFF
 0048            OCT    0
 0049  2         OCT    0
 0050            DEC    1075            3.6 RESTART.
 0051            CADR   ATTCONON
 0052            OCT    0
 0053  2         OCT    0
 0054            DEC    75              3.7RESTART
 0055            CADR   CGTASK
 0056            OCT    0
 0057  2         OCT    0
 0058            DEC    200             3.8 RESTART.
 0059            CADR   GMPOFF3
 0060            OCT    0
 0061  2         OCT    0
 0062            OCT    0               3.9 REATART.
 0063            OCT    0
 0064            OCT    77777
 0065  2         CADR   SETMOD23
 0066            OCT    0               3.10 RESTART.
 0067            OCT    0
 0068            OCT    27000
 0069  2         CADR   SHUTJOB
 0070            DEC    500             3.11 RESTART.
 0071            CADR   CDUXTASK        5SECS FROM TBASE3
 0072            OCT    0
 0073  2         OCT    0
 0074   3.12SPOT DEC    1000            3.12 RESTART.
 0075            CADR   CM/SMTSK        10SECS FROM TBASE3
 0076            OCT    20000
 0077  2         CADR   CDUXJOB
 0078            DEC    1000            3.13 RESTART.
 0079            CADR   CM/SMTSK
 0080            OCT    20000
 0081  2         CADR   REDO3.13
 0082            DEC    1000            3.14 RESTART.
 0083            CADR   CM/SMTSK
 0084            OCT    0
 0085  2         OCT    0
 0086   3.15SPOT DEC    1500            3.15 RESTART
 0087            CADR   ENTATASK        15SECS FROM TBASE3
 0088            OCT    0
 0089  2         OCT    0
 0090   3.16SPOT OCT    0               3.16 RESTART.
 0091            OCT    0
 0092            OCT    15000           PRIO TO REDO HUNTEST.
 0093  2         CADR   PREHUNT
 0094   3.17SPOT 2DEC   0               3.17 RESTART.  ...PRELAUNCH...
 0095            OCT    20000
 0096  2         CADR   REPL11
 0097            2DEC   0               3.18 RESTART.  ...PRELAUNCH...
 0098            OCT    20000
 0099  2         CADR   REPL12
 0100            2DEC   0.0             3.19 RESTART ...PRELAUNCH...
 0101            OCT    20000
 0102  2         CADR   REDO3.21
 0103            2DEC   0               3.20 RESTART.  ...PRELAUNCH...
 0104            OCT    77777
 0105  2         CADR   REDO3.20
 0106            DEC    50              3.21 RESTART. ...PRELAUNCH...
 0107            CADR   REPRELAL
 0108            OCT    21000
 0109  2         CADR   REDO3.21
 01095           DEC    50              3.22 RESTART. ...PRELAUNCH
 0110            CADR   REPRELAL
 0111            2DEC   0.0
 01111  3.23SPOT DEC    200             3.23 RESTART
 01112           CADR   GMPOFF2
 01113           2DEC   0.0
 01114  3.24SPOT DEC    350             3.24 RESTART
 01115           CADR   DVMODOF2
 01116           2DEC   0.0
 01117           DEC    550             3.25 RESTART
 01118           CADR   DVMODOF2
 01119           2DEC   0.0
R0112    ANY MORE GROUP 3 RESTART VALUES SHOULD GO HERE.
 01121           2DEC   0.0             3.26 RESTART
 01122           OCT    05000
 01123 2         CADR   MONITJOB
 01124           2DEC   0.0             3.27 RESTART
 01125           OCT    77777
 01126 2         CADR   TUMBTSK1
R0113  2         ANY MORE GROUP 3 RESTARTS GO IN HERE
 0114   4.1SPOT  OCT    0               4.1 RESTART.
 0115            OCT    0
 0116            OCT    34000           HIGH PRIO.  (WATCH THIS.)
 0117  2         CADR   REDO4.1
 0118   4.2SPOT  OCT    77777           4.2 RESTART.
 0119            OCT    77777
 0120            CADR   LONGTIME + 1
 0121  2         CADR   ENGINOFF
 0122   4.3SPOT  DEC    1050            4.3 RESTART.
 0123            CADR   COASTPHS
 0124            OCT    77777
 0125  2         CADR   REDO4.3
 0126   4.4SPOT  2DEC   -30000          4.4 RESTART
 0127            2DEC   0
 0128            DEC    14616           4.5 RESTART  (DT = 146.16 SEC
 0129            CADR   FDAOFTSK           (310 - 163.84 SEC.)
 0130            2DEC   0
 0131            OCT    77777           4.6 RESTART
 0132            CADR   TCOAST          TCOAST = TIME FORM CUTOFF TO UPTASK.
 0133            2DEC   0
 0134            OCT    0               4.7 RESTART
 0135            OCT    0
 0136            OCT    77777
 0137  2         CADR   UPTASK
 0138            DEC    11500           4.8 RESTART
 0139            CADR   PREAVGON
 0140            OCT    06000
 0141  2         CADR   UPJOB
 0142            DEC    11500           4.9 RESTART
 0143            CADR   PREAVGON
 0144            OCT    06000
 01445 2         CADR   REDO4.9
 0145            DEC    600             4.10 RESTART
 0146            CADR   GIMPOWON
 0147            OCT    77777
 0148  2         CADR   REDO4.10
 0149            DEC    200             4.11 RESTART.
 0150            CADR   TARGTASK
 0151            2DEC   0
 0152            DEC    170             4.12 RESTART.
 0153            CADR   ABRTWAIT         IN 1.7 SEC.
 0154            OCT    25000
 0155  2         CADR   SETS4SEP
 0156            DEC    9950            4.13 RESTART
 0157            CADR   ATTCNOFF        IN 95.5 SEC.
 0158            OCT    77777
 01585 2         CADR   REDO4.13
 0159   4.14SPOT DEC    600             4.14 RESTART.
 0160            CADR   GIMPOWON
 0161            OCT    77777
 0162  2         CADR   REDO4.14
 0163            DEC    250             4.15 RESTART.
 0164            CADR   ATTCNOFF        IN 2.5 SEC
 0165            OCT    25000
 0166  2         CADR   ABORTRPT - 3     WATCH THIS LOC.
 0167            DEC    550             4.16 RESTART
 0168            CADR   ATTCNOFF
 0169            OCT    25000
 0170  2         CADR   REDO4.16
 0171            DEC    10800           4.17 RESTART
 0172            CADR   GIMPOWON
 0173            2DEC   0
 0174            2DEC   0               4.18 RESTART.
 0175            OCT    77777
 0176  2         CADR   ATTCNOFF
 0177            DEC    25              4.19 RESTART.
 0178            CADR   DVMODEON
 0179            2DEC   0
 0180            DEC    50              4.20 RESTART.
 0181            CADR   ENGINEON
 0182            2DEC   0
 0183   4.21SPOT DEC    1000            4.21 RESTART
 0184            CADR   PLUSXOFF
 0185            OCT    25000
 0186  2         CADR   REDO4.21
 0187            2DEC   0               4.22 RESTART.
 0188            OCT    77777
 0189  2         CADR   REDO4.22
 0190            DEC    350             4.23 RESTART
 0191            CADR   ENGINOFF
 0192            OCT    77777
 0193  2         CADR   STEEROFF
 0194            2DEC   0               4.24 RESTART.
 0195            OCT    77777
 0196  2         CADR   GIMPOWON
 0197            DEC    1150            4.25 RESTART
 0198            CADR   ATTCNOFF
 0199            2DEC   0
 0200   4.26SPOT 2DEC   0               4.26 RESTSRT.
 0201            OCT    12000           LOWERED.
 0202  2         CADR   UPTHETA1
 0203   4.27SPOT DEC    12000           4.27 RESTART
 0204            CADR   AVGON           120 SEC FROM UPTASK.
 0205            2DEC   0
 02051  4.28SPOT 2DEC   0               4.28 RESTART SAVES ENGIN OFF SEQUENCE
 02052           OCT    77777           WHILE TBASE4 UPDATED
 02053 2         CADR   SPS1TEST
 020532 4.29SPOT DEC    11500           4.29 RESTART
 020534          CADR   PREAVGON
 020536          OCT    06000
 0205382         CADR   REDO4.29
 02054  4.30SPOT DEC    9000            4.30 RESTART
 020542          CADR   PLUSX2
 020544          2DEC   0.0
 020546 4.31SPOT 2DEC   0.0             4.31 RESTART
 020548          OCT    77777
 02055 2         CADR   REDO4.31
 020552 4.32SPOT 2DEC   0.0             4.32 RESTART
 020553          OCT    77777
 0205542         CADR   REDO4.32
 020555 4.33SPOT 2DEC   0.0             4.33 RESTART
 020556          OCT    77777
 0205572         CADR   ENGINOFF
R0206    ANY MORE GROUP 4 RESTART VALUES SHOULD GO HERE.
R0207
 0208   5.1SPOT  DEC    200             5.1 RESTART
 0209            CADR   REREADAC
 0210            2DEC   0
 0211    5.2SPOT 2DEC   0
 0212            OCT    77777
 0213  2         CADR   REDO5.2
 0214            DEC    200             5.3 RESTART
 0215            CADR   REREADAC
 0216            OCT    17000
 0217  2         CADR   REDO5.3
 0218            DEC    200             5.4 RESTART
 0219            CADR   REREADAC
 0220            OCT    17000
 0221  2         CADR   REFAZE6
 0222            DEC    200             5.5 RESTART.
 0223            CADR   REREADAC
 0224            OCT    17000
 0225  2         CADR   REDO5.5
 0226            DEC    200             5.6 RESTART
 0227            CADR   REREADAC
 0228            OCT    35000
 0229  2         CADR   MODE26
 0230   5.7SPOT  2DEC   0               5.7 RESTART
 0231            OCT    77777
 0232  2         CADR   REDO5.7
 0233            DEC    200             5.8 RESTART
 0234            CADR   SOAKTSK1
 0235            OCT    14000
 0236  2         CADR   SOAKJOB
 0237            DEC    200             5.9 RESTART.
 0238            CADR   SOAKTSK1
 0239            OCT    13000
 0240  2         CADR   REFAZE6
 0241            2DEC   0               5.10 RESTART.
 0242            OCT    12000
 0243  2         CADR   REDO5.10
 0244            DEC    200             5.11 RESTART
 0245            CADR   SOAKTSK1
 0246            2DEC   0
 0247   5.12SPOT DEC    200             5.12 RESTART.
 0248            CADR   REPIPUP
 0249            2DEC   0
 0250            2DEC   0               5.13 RESTART.
 0251            OCT    77777
 0252  2         CADR   REDO5.13
 0253            DEC     200
 0254            CADR   REPIPUP
 0255            OCT    17000
 0256  2         CADR   ENTRYTOP + 3
 0257            DEC    200             5.15 RESTART.
 0258            CADR   REPIPUP
 0259            OCT    17000
 0260  2         CADR   REFAZE4
 0261            DEC    200             5.16
 0262            CADR   REPIPUP
 0263            OCT    16000
 0264  2         CADR   REFAZE6
 0265            DEC    200             5.17 RESTART.
 0266            CADR   REPIPUP
 0267            OCT    17000
 0268  2         CADR   REFAZE8
 0269   5.18SPOT DEC    200             5.18 RESTART
 0270            CADR   REPIPUP
 0271            OCT    17000
 0272  2         CADR   REFAZE10
 0273   5.19SPOT DEC    200             5.19 RESTART.  (PIPUP IN 2 SEC.)
 0274            CADR   REPIPUP
 0275            OCT    17000
 0276  2         CADR   NUMODE63        SETS MODE 63 AND FINISHES ENTRY INITIAL.
 02761  5.20SPOT 2DEC   0.0             5.20 RESTART FOR VERB 76
 02762           OCT    34000
 02763 2         CADR   REDO5.20
 02764  5.21SPOT DEC    0.              5.21 RESTART IS SPARE
 027645          CADR
 02765           OCT    0
 02766 2         CADR
 02767  5.22SPOT DEC    0.0             5.22 RESTART IS SPARE
 027675          CADR
 02768           OCT    0
 02769 2         CADR
 027691 5.23SPOT DEC    200             5.23 RESTART
 027692          CADR   REREADAC
 027693          OCT    17000
 0276942         CADR   REDO5.23
 0277            DEC    200             REDO POINT AFTER AVG STATE VECTOR UPDATE
 02771           CADR   REREADAC
 02772           OCT    17000
 02773 2         CADR   REDO5.24
 02774           DEC    200
 02775           CADR   REREADAC
 02776           OCT    17000
 02777 2         CADR   REFAZE6
R02778 2         ANY MORE GROUP 5 RESTARTS GO HERE.
R0278
 0279  46.1SPOT  DEC    0               6.1 RESTART  (UNDEFINED)
R0280
R0281    ANY MORE GROUP 6 RESTART VALUES SHOULD GO HERE.
R0282  4
 0283   SIZETAB  DEC    0               0 INCREMENT FOR GROUP 1.
 0284            TC     2.1SPOT -26004  INCREMENT TO INDEX GROUP 2 TABLE
 0285            TC     3.1SPOT -26004  INCREMENT TO INDEX GROUP 3
 0286            TC     4.1SPOT -26004  INCREMENT TO INDEX GROUP 4 TABLE.
 0287            TC     5.1SPOT -26004  INCREMENT TO INDEX GROUP 5 TABLE.
 0288            TC     6.1SPOT -26004  INCREMENT TO INDEX GROUP 6 TABLE.
P0289  4   GENERALIZED RESTART ROUTINE.
R0290    FOR EACH FAZEBIT VALUE , THE ASUMPTION IS MADE THAT THERE MAY EXIST
R0291     ONE WAITLIST OR LONGCALL TASK TO BE RECALLED.  AND ONE CURRENT TASK OR
R0292     JOB TO BE RESTARTED.  (SPECIAL RESTARTS ARE POSSIBLE FOR SITUATIONS
R0293     WHICH DONOT FIT THE GENERAL FORM.)  FOR THE GENERAL CASE,  FOUR TABLES
R0294     ARE USED.
R0295        (RATHER,  ONE TABLE WITH 4 ENTRIES PER FAZEBIT VALUE.)
R0296                   1.  WTDTTAB.  WAITLIST DT TABLE.
R0297                   2.  WCADRTAB  WAITLIST CADR TABLE.
R0298                   3.  PRIOTAB  CURRENT JOB PRIORITY. (NEG NUMB IF TASK.)
R0299                   4.  CADRTAB  CURRENT JOB (OR TASK) RESTART LOCATION.
R0300     IN ADDITION, THERE EXISTS A SIZE TABLE THAT LISTS THE NUMBER OF
R0301     LOCATIONS USED BY EACH PROFRAM FOR RESTARTS.
R0302  4         ...MORE TO COME LATER...                  (DJL)
 0303   RESTARTS XCH    MPAC            FAZE BITS FOR THIS PROG IN MPAC.
 0304            DOUBLE
 0305            DOUBLE                 MULTILY BY 4.  (4 ITEMS PER ENTRY.)
 0306            INDEX  LOC             LOC CONTAINS THE PROGRAM NUMBER-1. (0-5)
 0307            AD     SIZETAB
 0308            TS     POINTER
 0309            CAF    TCURRENT
 0310            TS     GOLOC + 1       EXIT LOCATION.
 0311            CAF    TCWAIT          SET A WAITLIST CALL IN ERASABLE.
 0312  2         TS     GOLOC - 1
 0313            INDEX  POINTER
 0314            CAF    WTDTTAB
 0315            CCS    A
 0316            TC     WTCALL          +N = WAITLIST CALL
 0317            TC     CURNTJOB        +0 = NO CALL
 0318            TC     LONGCLER        -N = LONGCALL
 0319            INDEX  POINTER         -0 = INDIRECT (PROBABLY)
 0320            CAF    WCADRTAB
 0321            CCS    A
 0322            TC     INDIRECT
 0323   TCURRENT TC     CURNTJOB        NO ZERO CALLS
 0324            TC     LONGCLER - 1    NEG OF TIME FOR SHORT LONG.
 0325  2         TC     SINDIR
 0326            CS     ONE
 0327   LONGCLER AD     ONE             RESTORE LONGTIME
 0328            TS     RECALL
 0329            INDEX  POINTER
 0330            CS     WCADRTAB        STORED NEGATIVELY.
 0331            TS     RECALL + 1
 0332            TC     IBNKCALL
 0333            CADR   NULONGDT
 0334            TC     IBNKCALL
 0335            CADR   LONGCALL
 0336  4         TC     CURNTJOB
R0337  4
R0338    INDIRECT SECTION TAKES THE DP TIME FRON THE ERASABLE LOCATIONS BY THE
R0339  2    NUMBER IN THE WCADRTAB.    (WTDTTAB = -0.)
 0340   INDIRECT TS     ECADTEM         CADR-1 IS STORED.  (DUE TO CCS.)
 0341            INDEX  A
 0342            CS     1               (1 NOT 0 BECAUSE CADR OFF BY 1.)
 0343            COM                    (NOT NEEDED IF NEG TIME STROED.USAGE..)
 0344            TS     RECALL          AND STORE MAJOR PART.
 0345            INDEX  ECADTEM
 0346            CS     2               AGAIN ONE MORE THAN USUAL.
 0347            COM
 0348  4         TC     LONGCLER + 4    STORE MINOR PART THERE
R0349  2ASSIGNMENTS ETC.
 0350   GOLOC    EQUALS OVFIND          USES ONE LOCATION ON EACH SIDE OF IT.
 0351   TEMDT    EQUALS MPAC + 2
 0352   RECALL   EQUALS MPAC + 1        MUNTZ NOW USINF LOC IN RESTART CONTROL.
 0353   ECADTEM  EQUALS RECALL + 1      LOOKS OK.
 0354   POINTER  EQUALS MPAC
R0355  2  MPAC + 1 SAVED BECAUSE OF USE IN RESTART CONTROL.  (CCS MPAC + 1)
R0356  2   THIS ROUTINE LEAVES THE WITLIST CALL AS GIVEN BY WCADRTAB.
 0357   WTCALL   AD     ONE             DT-1 IN A ON ENTRY.  (FROM CCS.)
 03572           COM                    STORE NEGATIVE OF DT IN TEMDT.
 0358            TS     TEMDT
 0359            INDEX  POINTER
 0360            CAF    WCADRTAB        PICK UP CADR FOR THIS CALL.
 0361  2         TS     GOLOC           GOLOC+1 AND -1 ALREADY SET-UP.
 0362   WTCALL2  INDEX  LOC             FIRST GET TBASE - TIME1
 03625           CS     TBASE2 -1       TBASE STORED NEGATIVELY
 0363            EXTEND
 03635           SU     TIME1           TBASE - TIME1
 0364            CCS    A               THIS SHOULD BE NEGATIVE IF ALL OK.
 03645           COM                    GET POSMAX - A.
 0365            AD     OCT37776        1 BIT SHY OF POSMAX.
 03655           AD     ONE             RESTORE BIT LOST BY CCS.
 0366            AD     TEMDT           TIME1 - TBASE - DT  NOW IN  A.
 0367            CCS    A               TEST IT.  SHOULD BE NEGATIVE.
 0368            CAF    ZERO            EXCEEDED TIME.  BAD,BAD...
 0369            TC     +2              (+0 JUST POSSIBLE.)
 0370            TC     +1              YES, EVERYTHING OK.
 0371            AD     ONE             NOW IS THE TIME.
 0372  4         TC     GOLOC - 1
 03725 4OCT37776 OCT    37776           POSMAX - 1
 0373   SINDIR   CAF    TCSWRET
 0374            TS     GOLOC + 1
 0375            INDEX  POINTER
 0376            CAF    CADRTAB         PICK UP CADR TO GO TO.
 0377  2         TS     GOLOC
 0378            INDEX  POINTER
 0379            INDEX  PRIOTAB         IT POINTS AT THE ERASABLE LOCATION OF DT
 0380            CS     0               NEG OF DT IN A.
 03805           TS     TEMDT
 0381            TC     WTCALL2         JOIN THERE TO RECOMPUTE TIME REMAINING.
P0382  2 GETS CURRENT JOB (OR TASK) RERUNNING.
 0383   CURNTJOB INDEX  POINTER
 0384            CAF    CADRTAB
 0385            TS     GOLOC           PUT ADDRESS THERE (CADR)
 0386            CAF    TCSWRET
 0387            TS     GOLOC + 1       WHERE TO WHEN DONE.
 0388            INDEX  POINTER
 0389            CAF    PRIOTAB         PRIORITY TABLE.
 0390            CCS    A               TEST IT.
 0391            TC     ITSAPRIO        +N = PRIORITY.
 0392   TCSWRET  TC     SWRETURN        +0 = NO JOB OR TASK.
 0393            TC     SHINDIRT        -N = SHORT INDIRECT FORM.
 0394            AD     ONE             -0 = IMMEDIATE WAITLIST CALL.
 0395  2         TC     GOLOC -1        -0 WILL CRASH OUT HERE...
 0396   ITSAPRIO AD     ONE             RESTORE CORRECT PRIORITY VALUE.
 0397            TS     GOLOC - 1       SAVE THERE TEMPORARILY.
 0398            CAF    TCFINDVC        N3 RPOVISION FOR NOVAC.
 0399            XCH    GOLOC - 1       PICKING UP PRIORITY AGAIN.
 0400  4         TC     GOLOC - 1       AND GET THE JOB STARTED. (EXIT VIA SWRET
R0401  2  SHORT INDIRECT SECTION IS NOT USED AS YET.
 0402   SHINDIRT INDEX  A
 0403            CS     1               CCS DECREASED ADDRESS BY 1 OF DT LOC.
 04035           TS     TEMDT
 0404  4         TC     WTCALL2         -DT IN A WHEN REJOINING WTCALL.
R0405  2 TBASE REGISTERS CONTAIN NEGATIVE OF TIME AT START OF SEQUENCE.
R0406  2 ROUTINE TO GENERATE  NEW DELTA T (LONGTIME) FOR LONGCALL.
 0407   NULONGDT TC     READTIME + 1    GET TIME.  (ALREADY INHIBITTED.)
 0408            CAF    ZERO
 0409            AD     TCUTOFF + 1      (POSITIVE NUMBER)
 0410            AD     RUPTSTOR + 1    (NEGATIVE NUMBER)
 0411            AD     RECALL + 1
 0412            TS     LONGTIME + 1    (COULD OVERFLOW)
 0413            CAF    ZERO
 0414            AD     TCUTOFF
 0415            AD     RUPTSTOR
 0416            AD     RECALL
 0417            XCH    LONGTIME        NO OVERFLOW.
 0418            CCS    LONGTIME        TEST FOR POSITIVE DT.
 0419            TC     ISWRETRN        (DONT HAVE TO USE ICALLS IF SAME BANK.)
 0420            TC     +2
 0421            TC     BADLONG
 0422            CCS    LONGTIME + 1
 0423            TC     ISWRETRN
 0424            TC     +1
 0425   BADLONG  CAF    ZERO
 0426            TS     LONGTIME
 0427            CAF    ONE             LEAVE A CALL FOR 1 DT.
 0428            TS     LONGTIME + 1
 0429            TC     ISWRETRN        ...AND EXIT.
R0430      THIS COULD BE MODIFIED EASILY TO CHANGE BAD DT POLICY.
L      2FRESH START AND RESTART
 0001            BANK   4
R0002  2         FRESH START - A KEYBOARD REQUEST TO INITIALIZE THE SYSTEM.
 0003   SLAP1    INHINT                 COMES HERE FROM THE PINBALL VERB FAN.
 0004            CAF    ZERO             (ZERO FAILREG IN FRESH START ONLY).
 0005            TS     FAILREG
 0006            TS     MODREG
 00065 2         TS     REDOCNTR        ZERO ONLY DURING FRESH START.
 0007            CAF    BIT4            DISABLE IMU FAIL FOR 5 SECS.
 0008   SLAP2    TS     OLDERR           CURTAINS ENTERS HERE FROM THATSALL.
A0009                                   DSPLOCK (BIT4 OF STATE), UPLOCK (BIT2 OF
A0010                                   STATE), EXTVBACT (BIT3 OF STATE) ARE
A0011                                   ZEROED BELOW (FRESH START ONLY).
 0012            CAF    ZERO
 0013  2         TS     ERCOUNT
 0014  2         TC     STARTSUB        SUBROUTINE DOES MOST OF THE WORK.
 0015   NOGO     CAF    MAXPROG         MAKE ALL RESTART GROUPS INACTIVE.
 0016            TS     BUF
 0017            CS     ONE
 0018            INDEX  BUF
 0019            TS     PHASE1
 0020            COM
 0021            INDEX  BUF
 0022  2         TS     -PHASE1
 0023            CCS    BUF
 0024  2         TC     NOGO +1
 00248           TS     OUT1            RESET OUT1 HERE INSTEAD OF IN STARTSUB.
 0025  2         TS     SMODE           DISABLE SELF-CHECK.
 0026            CAF    BIT15           TELL T4RUPT TO TURN OFF ALL C RELAYS.
 0027   DSP12D   TS     DSPTAB +12D
 0028  2DSP13D   TS     DSPTAB +13D
 0029            CAF    OCT40010
 0030  2DSP11D   TS     DSPTAB +11D     LEAVE IMU IN FINE ALIGN
 0031  2         TS     WASKSET         DISABLE KSAMP DURING INITIAL TRANSIENT.
 0032            CAF    BIT5            FOR 160 MS.
 0033            TC     WAITLIST
 0034  2         CADR   KENABLE
 0035            XCH    IN3
 0036            XCH    IN3
 0037            MASK   OPTMODES
 0038  2         TS     WASOPSET
 0039            CAF    SWINIT          INITIALIZE SWITCH BIT AREA ON FRESH
 0040            TS     STATE           START ONLY.
 0041            CAF    SWINIT +1
 0042            TS     STATE +1
 0043            CAF    SWINIT +2
 0044  2         TS     STATE +2
 0045            CS     OLDERR          SEE IF CURTAINS CALLED FRESH START.
 0046            MASK   BIT5
 0047            CCS    A
 0048  2         TC     STARTSW
 0049            TC     ALARM
 0050  2         OCT    00301
 0051   STARTSW  TC     ENDFRESH
 0052   ESTART   CAF    PRIO25          FIRE UP INITIALIZATION JOB.
 0053            TC     FINDVAC
 0054  2         CADR   BEGIN501
 0055  2         TC     ENDFRESH
 0056   KENABLE  CAF    OCT50           COMMANDED FINE ALIGN.
 0057            TS     WASKSET
 0058            CAF    BIT10           REMOVE IMU FAIL INHIBIT IN 5 SECS.
 0059            TC     WAITLIST
 0060  2         CADR   IFAILOK
 0061  2         TC     TASKOVER
 0062   THATSALL TS     SFAIL           CURTAINS - FLUSH MISSION PROGRAM.
 0063            INHINT
 0064            CAF    BITS4&5         DO FRESH START AND PROGRAM ALARM.
 0065  2         TC     SLAP2
 0066   MAXPROG  EQUALS FIVE
 0067  2BITS4&5  OCT    30
 00671  BITS5&7  OCT    120
P0068            WHENEVER A GO SEQUENCE (GOJAM) IS FIRED,  GOPROG  IS CALLED TO
 0069  9RESTART ANY COMPUTER ACTIVITY THAT
R0070   MAY HAVE BEEN GOING ON AT THE TIME. (A NUMBER OF ALARMS SUCH AS PARITY F
 0071  9AILURE OR POWER FAILURE CAUSE GOJAM).
R0072   THE FUNCTION OF GOPROG IS TO INITIALIZE THE COMPUTER SUB-SYSTEM (I. E.,
 0073  9NO C RELAYS ARE CHANGED, ETC.) AND
R0074  2RESTART ALL MAJOR ROUTINES WHOSE PHASE BITS INDICATE ACTIVITY.
 00741  GOPROG   CCS    ERESTORE        RESTORE TWO ERASABLE REGISTERS IF
 00742           TC     +2              RESTART OCCURS WHILE SELF-CHECK HAS
 00743           TC     GOPROG2         REMOVED CONTENTS OF THESE REGISTERS.
 00744           CS     1776
 00745           CS     A
 00746           NDX    1777
 00747           TS     0001            RESTORE C(X)
 00748           CS     1775
 00749           CS     A
 007491          NDX    1777
 007492          TS     0000            RESTORE C(X-1)
 0075   GOPROG2  CAF    DVMONMSK        SHOULD BE SYS FLAG FOR ENGINE ON.
 00751           MASK   FLAGWRD1
 00752           CCS    A               SEE IF ENGINE WAS ON.
 00753           CAF    BIT13           YES..PUT IT BACK ON.
 00754 2         TS     OUT1            NO...ZERO IT.
 00759           CAF    TWO             SET RESTART FAIL INDICATION, WHICH WILL
 0076            TS     OLDERR          BE REMOVED AFTER SUCCESSFUL VERIFICATION
 0077  2         TC     STARTSUB        OF PHASE TABLE AGREEMENT.
 0078            XCH    IN0             IF BOTH ERROR RESET AND MARK ARE
 0079            MASK   HUNGMASK        DEPRESSED, FALL INTO FRESH START TO
 0080            AD     HUNGCODE        HOPEFULLY PREVENT OR STOP RECURRING GOS.
 0081            CCS    A
 0082            TC     PHASECHK -1     RESTART
 0083   HUNGCODE OCT    37755           COMPLEMENT OF IN0 HUNG SETTING.
 0084            TC     PHASECHK -1     RESTART
 0085  2         TC     NOGO
 0086            CAF    MAXPROG         PHASE BITS ARE KEPT IN TWO COPIES,
 0087   PHASECHK TS     MPAC            ONE DIRECT AND ONE COMPLEMENTED. THIS
 0088            INDEX  A               SECTION MAKES SURE ALL ENTRIES IN EACH
 0089            CS     PHASETAB        SATISFIES THIS RULE AS AN INDICATION OF
 0090            TS     BUF             THE GOODNESS OF ERASABLE MEMORY. IF THE
 0091            COM                    TEST FAILS, DO A FRESH START WITH THE
 0092            INDEX  MPAC            MODE LIGHTS SET TO 00 TO TELL THE STORY.
 0093            MASK   PHASEBAR
 0094            TC     ZEROTEST        P.(-P) AND (-P).(--P) SHOULD BOTH BE
 0095            INDEX  MPAC            +0 FOR A LOGICAL MATCH.
 0096            CS     PHASEBAR
 0097            MASK   BUF
 0098  2         TC     ZEROTEST
 0099            CCS    MPAC
 0100  2         TC     PHASECHK
 01005           TS     DISPCNTR        ENABLE VG DISPLAY GRAB
 0101            TS     OLDERR          NO RESTART FAIL.
 01011           CAF    ONE             INCREMENT REDOCNTR.
 01012           AD     REDOCNTR
 01013 2         TS     REDOCNTR
 01016           CS     BIT15
 01017           MASK   DSPTAB + 13D    PICK UP ALL BUT BIT 15.
 01018           AD     BIT15           SET BIT 15 TO FORCE RESETTING RELAYS.
 01019 2         TS     DSPTAB + 13D    MIGHT TAKE A WHILE TO GET OUT.
 0102   CHECKIN3 XCH    IN3             PUT PRESENT MODES INTO WAS  REGISTERS.
 0103            XCH    IN3
 0104            TS     WASKSET
 0105            MASK   LOW7
 0106            XCH    WASKSET
 0107            MASK   OPTMODES
 01075 2         TS     WASOPSET
 0108            CAF    BITS5&7         IMU ATTITUDE CONTROL OR ENTRY MODE.
 01081           MASK   WASKSET
 01082           CCS    A               IS IT IN ONE OF THESE MODES.
 01083           CS     ZERO            YES.. PUT +0 INTO CDUIND.
 01084           COM                    NO... PUT -0 INTO CDUIND.
 01085 2         TS     CDUIND
 0109            CCS    IN0
 0110            TC     GOJUMP
 0111            TC     GOJUMP
 0112            TC     +1
 0113            CS     BIT12
 0114            MASK   WASOPSET
 0115  8         TS     WASOPSET
 0116   GOJUMP   CAF    MAXPROG         SCAN PHASE TABLE FOR ACTIVITY.
 0117  2         TS     LOC
 0118            RELINT                 OPEN THE INTERRUPT GATE SO THAT EACH
 0119  2         INHINT                 GO DISPATCH HAS 10 MS.
 0120            AD     ONE             GROUP NUMBER IN PROG.
 0121            TS     PROG
 0122            INDEX  A               SEE IF GROUP ACTIVE.
 0123            CCS    PHASE1 -1
 0124            TC     PROGON          VALID IF PHASE LESS THAN 127.
 0125            TC     GOTERM          DO REQUESTED PHASE TERMINATE.
 0126            CCS    A               INACTIVE IF PHASE = -1.
 0127            TC     RSTFAIL2        BAD DATA IF -0.
 0128   GORETURN CCS    LOC
 0129  2         TC     GOJUMP +1
 0130            CAF    PRIO37          FIRE UP JOB TO DISPLAY FAILREG
 0131            TC     NOVAC
 0132  2         CADR   DOALARM
 0133   ENDFRESH RELINT
 0134            TC     BANKCALL        DISPLAY MAJOR MODES.
 0135  2         CADR   DSPMM
 0136            TC     POSTJUMP
 0137  2         CADR   DUMMYJOB        THIS REVERTS TO THE IDLING JOB.
 0138   ZEROTEST CCS    A
 0139            TC     NOGO            RESTART FROM GO IMPOSSIBLE.
 0140            TC     Q               OK SO FAR
 0141            TC     NOGO
 0142            TC     NOGO
P01421 2  INTERNAL RESTART BY PROGRAM CONTROL TO FLUSH OUT WAITLIST AND EXEC.
 01422  ENEMA    INHINT                 A STRANGE INSTRUCTION TO BEAR THIS NAME.
 01423 2         TC     STARTSUB
 01427           CS     ZERO            ALL 7 IN SFAIL DENOTES PROGRAMMED REDO.
 01428 2         TS     SFAIL
 01429           TC     CHECKIN3
P0143  2         DISPATCH OR TERMINATE RESTART GROUPS.
 0144   PROGON   AD     ONE             PHASE BITS TO MPAC.
 0145            TS     MPAC
 0146            CS     LOW7            CHECK SIZE.
 0147            MASK   MPAC
 0148            CCS    A
 0149  2         TC     RSTFAIL2        RESTART FAIL - OUT OF RANGE.
 0150            INDEX  LOC             JUMP TO GOCADR LOC.
 0151            CAF    GOCADR
 0152  2         TC     SWCALL
 0153  2         TC     GORETURN        ON RETURN FROM SWCALL.
 0154   GOTERM   CS     ONE             IF A RESTART GROUP HAD BEEN REQUESTED TO
 0155            INDEX  LOC             TERMINATE, DO THE TERMINATE NOW.
 0156            TS     PHASE1
 0157            COM
 0158            INDEX  LOC
 0159            TS     -PHASE1
 0160  2         TC     GORETURN
 0161   RSTFAIL2 CAF    TWO             BAD DATA IN RESTART TABLES - FAIL.
 0162            TS     OLDERR
 0163            TC     NOGO
P0164            INITIALIZATION SUBROUTINE, CONTAINING INITIALIZATION COMMON TO
 0165  9BOTH FRESH START (KEYBOARD REQUEST) AND
R0166  2RESTART (IN RESPONSE TO A GO SEQUENCE).
 0167   STARTSUB XCH    Q
 0168  2         TS     BUF             EXEC TEMPS ARE AVAILABLE TO US.
 0169            CAF    POSMAX          T3 AND T4 OVERFLOW AS SOON AS POSSIBLE.
 0170            TS     TIME3             (POSMAX IS PSEUDO INTERRUPT SIGNAL IN
 0171  2         TS     TIME4             CASE RUPT SIGNALLED BEFORE TS TIME3).
 0172            CAF    NEG1/2          INITIALIZE WAITLIST DELTA-TS.
 01723           TS     LST1 +6
 01726           TS     LST1 +5
 0173            TS     LST1  +4
 0174            TS     LST1  +3
 0175            TS     LST1  +2
 0176            TS     LST1  +1
 0177  2         TS     LST1
 0178            CS     ENDTASK         SET ALL TASKS TO DUMMY TASK.
 01783           TS     LST2 +7
 01786           TS     LST2 +6
 0179            TS     LST2  +5
 0180            TS     LST2  +4
 0181            TS     LST2  +3
 0182            TS     LST2  +2
 0183            TS     LST2  +1
 0184  2         TS     LST2
 0185            CS     ZERO            MAKE ALL EXECUTIVE REGISTER SETS
 0186            TS     PRIORITY +8D    AVAILABLE (EXCEPT THIS ONE).
 0187            TS     PRIORITY +16D
 0188            TS     PRIORITY +24D
 0189            TS     PRIORITY +32D
 0190            TS     PRIORITY +40D
 0191            TS     PRIORITY +48D
 0192  2         TS     PRIORITY +56D
 0193            TS     DSRUPTSW        -0 GIVES US 40 MS TO GET READY FOR T4.
 0194            TS     CDUIND          MAKE IMU AND OPTICS AVAILABLE.
 0195  8         TS     OPTIND
 0196            CAF    VAC1ADRC        MAKE ALL VAC AREAS AVAILABLE.
 0197            TS     VAC1USE
 0198            AD     LTHVACA
 0199            TS     VAC2USE
 0200            AD     LTHVACA
 0201            TS     VAC3USE
 0202            AD     LTHVACA
 0203            TS     VAC4USE
 0204            AD     LTHVACA
 0205  2         TS     VAC5USE
 0206            CAF    BIT10           THIS REGISTER SET BECOMES DUMMY JOB.
 0207  2         TS     PRIORITY
 0210            CAF    TEN             TURN OFF ALL DISPLAY SYSTEM RELAYS.
 0211   DSPOFF   TS     MPAC
 0212            CS     BIT12
 0213            INDEX  MPAC
 0214            TS     DSPTAB
 0215            CCS    MPAC
 0216  2         TC     DSPOFF
 02165           TS     ERESTORE
 0217            TS     UPLINK          THESE MIGHT PICK UP AN INCREMENT DURING
 0218            TS     56              A GO.
 0219            TS     DSPCNT          SKIPS TO HERE WHEN FINISHED WITH C(A)=0.
 0220            TS     NEWJOB
 0222            TS     CADRSTOR
 0223            TS     REQRET
 0224            TS     CLPASS
 0225            TS     MONSAVE         KILL MONITOR
 0226            TS     MONSAVE1
 0227            TS     GRABLOCK
 0228            TS     VERBREG
 0229            TS     NOUNREG
 0230            TS     DSPLIST
 0231            TS     DSPLIST +1
 0232  8         TS     DSPLIST +2
 0233            TS     LGYRO           MAKE GYRO ROUTINES AVAILABLE.
 0234            TS     GCOMP           ZERO COMPENSATING GYRO TORQUES.
 0235            TS     GCOMP +1
 0236            TS     GCOMP +2
 0237            TS     GCOMP +3
 0238            TS     GCOMP +4
 0239            TS     GCOMP +5
 0240            TS     DESKSET         NO COMPUTER COMMAND.
 0241            TS     DESOPSET        (SAME AS IMU).
 0242            TS     IMUCADR         INITIALIZE MODE-SWITCHING.
 0243            TS     OPTCADR
 0244            TS     TMMARKER
 0245  2         TS     MARKSTAT        MAKE MARK SYSTEM AVAILABLE.
 02465           CS     TIME1           SAVE TIME OF LAST RESTART. (MINUS VALUE)
 02466 2         TS     REDOTIME + 1
 0247            CAF    SIX             (MAY NOT GET ANY ENDPULSES BEFORE T4).
 0248  2         TS     TELCOUNT
 0249            CAF    LPHASE1
 0250  2         TS     DNTMGOTO
 0251            CAF    LDNLST1
 0252  2         TS     DNLSTADR
 0253            CAF    NOUTCON
 0254  2         TS     NOUT
 0255            CS     BIT3/4          ZERO ONLY DSPLOCK (BIT4 OF STATE) AND
 0256            MASK   STATE           EXTVBACT (BIT3 OF STATE) FOR RESTART.
 0257            TS     STATE           UPLOCK (BIT2 OF STATE) IS ZEROED ONLY
 0258                                   IN FRESH START.
 0259            CS     VD1
 0260            TS     DSPCOUNT
 0261  8         TC     BUF             DONE.
 0262   HUNGMASK OCT    40037           KEYCODE AND MARK BUTTON ONLY
 0263  2OPTMODES OCT    35000
 0264   OCT50    OCT    50              FINE ALIGN + TRANSFER SWITCH.
 0265   OCT40010 OCT    40010           IMU FINE ALIGN C-RELAY SETTING.
 0266   LPHASE1  ADRES  DNPHASE1
 0267   BIT3/4   OCT    14
 0268  4NOUTCON  DEC    11
 0269   GOCADR   CADR   ENDOFJOB        FOR 501 ONLY
 0270            CADR   RESTARTS        GROUP 2 RESTARTS.
 0271            CADR   RESTARTS        GROUP 3 RESTARTS.
 0272            CADR   RESTARTS        GROUP 4 RESTARTS.
 0273            CADR   RESTARTS        GROUP 5 RESTARTS.
 0274  2         CADR   RESTARTS        GROUP 6 RESTARTS.
 0275   VAC1ADRC ADRES  VAC1USE
 0276  2LTHVACA  DEC    44
 0277   SWINIT   OCT    01340
 0278            OCT    00000           STATE +1
 0279            OCT    00000           STATE +2
L 001  2DOWN-TELEMETRY PROGRAM
R0001   TELEMETRY PROCESSOR
R0002  2--------- ---------
R0003            THE FOLLOWING TELEMETRY PROGRAM IS DESIGNED TO TRANSMIT TELEMET
 0004  9RY DATA VIA OUT4 WHEN AN ENDPULSE
R0005   FROM THE NORTH AMERICAN TELEMETRY PROGRAMMER TRIGGERS INTERRUPT 6, WHICH
 0006  9 INITIATES THIS ROUTINE. IT OPERATES
R0007   IN CONJUNCTION WITH (BUT ASYNCHRONOUSLY FROM) THE T4RUPT PROGRAM, WHICH
 0008  9IS INITATED EVERY 60 MS. VIA INTERRUPT
R0009  23.
 0010            BANK   1
 0011   DOWNRUPT CCS    TELCOUNT        PNZ IS NORMAL SETTING - +0 INDICATES
 0012            TC     DOWNTMOK        TM FAILURE SINCE ENDPULSES ARE OCCURING
 0013  2         TC     TMFAIL          TOO FREQUENTLY. THE COUNTER IS SET TO +7
 0014            CS     BIT10           BLOCK TM ENDPULSES UNTIL  ERROR RESET
 0015            MASK   OUT1            COMMAND IS GIVEN.
 0016            AD     BIT10
 0017  2         TS     OUT1
 0018  2         TC     NBRESUME        BY DSRUPT EVERY 120 MS.
 0019   DOWNTMOK TS     TELCOUNT        NORMAL MODE - STORE DECREMENTED COUNT.
 0020  2         TC     DNTMGOTO        JUMP TO APPROPRIATE DOWNLINK PHASE.
R0021            IN PHASE 7, SEND REQUIRED NUMBER OF DUMMY MARKS, ENTERING PHASE
 0022  9 1 WHEN FINISHED. ANY REAL MARKERS
R0023  2OCCURING HERE WILL NOT BE SENT UNTIL PHASE 3.
 0024   DNPHASE7 CCS    MARKERCT        REDUCE TO ZERO.
 0025  2         TC     DUMMARK
R0026  2         PHASE 1 SENDS LIST ID AND SETS UP PHASE 2.
 0027   DNPHASE1 CAF    LPHASE2
 0028            TS     DNTMGOTO
 0029            CAF    LTHCOMA         NUMBER OF WORDS IN COMMON LIST A.
 0030            TS     TMINDEX
 0031            CS     DNLSTADR        CHANGES IN DNLSTADR NOT HONORED UNTIL
 0032            COM                    THIS PHASE.
 0033            TS     LDATALST
 0034            MASK   LOW11
 0035            AD     60K             AT FOD'S REQUEST.
 0036            TC     W.O.=1
P0037  2         PHASE 2 SENDS COMMON LIST A: DSPTAB, T2, T1, I/O, CDUS, ETC. NO
 0038  9 MARKERS ARE INTERSPERSED WITH THE DATA.
 0039   DNPHASE2 CCS    TMINDEX         SEE IF MORE DATA TO BE SENT.
 0040  2         TC     PHASE2A
 0041            CAF    LPHASE3         IF NOT, BEGIN PHASE 3.
 0042            TS     DNTMGOTO
 0043            CAF    NOMRKRS         NUMBER OF MARKERS/SECOND.
 0044            TS     MARKERCT
 0045            CAF    LTHLSTA         NUMBER WORDS IN PARTICULAR LISTS A.
 0046  2         TS     TMINDEX
R0047  2         PHASE 3 - SEND DOWN PARTICULAR LIST A WITH REAL MARKERS INTER-L
 0048  9EAVED.
 0049   DNPHASE3 CCS    TMMARKER        SEE IF ANY MARKERS TO BE SENT.
 0050  2         TC     DOMARKER
 0051            CCS    TMINDEX         SEND DOWN PART. LIST A ENTRY IF ANY.
 0052  2         TC     PHASE36A        (COMMON TO PHASES 3 AND 6.)
 0053            CAF    LPHASE4         END OF PHASE 3, START PHASE 4.
 0054  2         TS     DNTMGOTO
R0055  2         PHASE 4: SEND DUMMY MARKERS UNTIL MARKERCT = 0.
 0056   DNPHASE4 CCS    MARKERCT        (NONE MAY BE REQUIRED)
 0057  2         TC     DUMMARK
 0058            CAF    LPHASE5         END OF PHASE 4 - BEGIN PHASE 5.
 0059            TS     DNTMGOTO
 0060  2         CAF    LTHCOMB         NUMBER OF WORDS IN COMMON LIST B - 1.
R0061  2         PHASE 5: SEND COMMON LIST B WITH NO MARKERS INTER-LEAVED.
 0062   PHASE5A  TS     TMINDEX         (ENTERS HERE FIRST TIME ONLY).
 0063            INDEX  A
 0064            INDEX  COMLSTB
 0065            CS     0
 0066  2         TC     DATADWNF
 0067   DNPHASE5 CCS    TMINDEX         NORMAL PHASE 5 ENTRY.
 0068            TC     PHASE5A
P0069            AT END OF PHASE 5, BEGIN PHASE 6. THE ADDRESS OF PARTICULAR LIS
 0070  9T B IMMEDIATELY PRECEEDS
R0071  2PARTICULAR LIST A.
 0072            CAF    LPHASE6
 0073            TS     DNTMGOTO
 0074            CAF    LTHLSTB         NUMBER OF WORDS IN PARTICULAR LISTS B.
 0075            TS     TMINDEX
 0076            CAF    NOMRKRS
 0077  2         TS     MARKERCT
 0078            CAF    LISTBANK        GET ADDRESS OF PART. LIST B.
 0079            XCH    BANKREG
 0080            XCH    LDATALST
 0081            AD     MINUS1
 0082            INDEX  A
 0083            CS     0               SO WE CAN RUN IN ERASABLE.
 0084            COM
 0085            XCH    LDATALST
 0086  2         TS     BANKREG
R0087  2         PHASE 6: PARTICULAR LIST B AND REAL MARKERS.
 0088   DNPHASE6 CCS    TMMARKER
 0089  2         TC     DOMARKER
 0090            CCS    TMINDEX
 0091  2         TC     PHASE36A
 0092            CAF    LPHASE7         SWITCH TO PHASE 7 TO SUPPLY REQUIRED
 0093            TS     DNTMGOTO        NUMBER OF DUMMY MARKS.
 0094            TC     DNPHASE7
P0095            OUT OF SEQUENCE ROUTINES.
 0096   PHASE2A  TS     TMINDEX         SELECT DATA WORD FOR COMMON LIST A IN
 0097            INDEX  A               IN FIXED-FIXED.
 0098            INDEX  COMLSTA
 0099            CS     0
 0100   DATADWNF COM                    PHASE 5 (COMMON LIST B) EXITS HERE.
 0101            TS     OUT4
 0102            CS     BIT9
 0103            MASK   OUT1
 0104            TS     OUT1
 0105  2         TC     NBRESUME        NO BANK SWITCH REQUIRED.
 0106   PHASE36A TS     TMINDEX         PHASES 3 AND 6 (PARTICULAR DATA LISTS)
 0107            CAF    LISTBANK        EXIT HERE
 0108            XCH    BANKREG
 0109  2         TS     BANKRUPT        PARTICULAR LISTS IN SWITCHED BANK.
 0110            CCS    LDATALST        (SAVES 2 MCT).
 0111            AD     TMINDEX
 0112            INDEX  A
 0113            INDEX  1               (1 COMPENSATES FOR ABOVE CCS.)
 0114            CS     0
 0115            COM
 0116            TS     OUT4
 0117            CS     BIT9
 0118            MASK   OUT1
 0119            TS     OUT1
 0120  2         TC     RESUME
 0121   DOMARKER CCS    MARKERCT        COME HERE TO SHIP DOWN REAL MARKER.
 01211           TC     +2              PROTECT AGAINST TOO MANY TMMARKERS
 01212           TC     Q                 BEING SENT DOWN WITHIN ONE SECOND
 0122   DUMMARK  TS     MARKERCT        REDUCE MARKERCT (NEVER IS ZERO ABOVE).
 0123            CAF    ZERO
 0124            XCH    TMMARKER
 0125            AD     DN74K           AT FOD'S REQUEST.
 0126   W.O.=1   TS     OUT4            PHASE 1 EXITS HERE.
 0127            CS     BIT9
 0128            MASK   OUT1
 0129            AD     BIT9
 0130            TS     OUT1
 0131            TC     NBRESUME
P0132  2CONSTANTS.
 0133   LPHASE2  ADRES  DNPHASE2        ADDRESSES FOR DNTMGOTO.
 0134   LPHASE3  ADRES  DNPHASE3
 0135   LPHASE4  ADRES  DNPHASE4
 0136   LPHASE5  ADRES  DNPHASE5
 0137   LPHASE6  ADRES  DNPHASE6
 0138  2LPHASE7  ADRES  DNPHASE7
 0139   LTHCOMA  DEC    26              LENGTH OF COMMON LIST A.
 0140   LTHCOMB  DEC    13              LENGTH OF COMMON LIST B - 1.
 0141   LTHLSTA  DEC    21              PARTICULAR LIST A.
 0142   LTHLSTB  DEC    32              PARTICULAR LIST B.
 0143   DN74K    OCT    74000
 0144  2NOMRKRS  EQUALS THREE
 0145   LDNLST1  ADRES  501LSTA1
 0146   LDNLST2  ADRES  501LSTA2
 0147   LISTBANK CADR   501LSTA1
R0148  2         SUBROUTINE COMMON TO UPLINK AND DOWNLINK TO TURN ON THE TM FAIL
 0149  9 LIGHT.
 0150   TMFAIL   CS     BIT4
 0151            MASK   OUT1
 0152            AD     BIT4
 0153            TS     OUT1
 0154            TC     Q
P0155  2         COMMON LISTS A AND B.
 0156   COMLSTA  ADRES  CDUZ            27
 0157            ADRES  CDUY            26
 0158            ADRES  CDUX            25
 0159            ADRES  FLAGWRD2        24
 0160            ADRES  FLAGWRD1        23
 0161            ADRES  STATE           22
 0162            ADRES  OUT1            21
 0163            ADRES  IN3             20
 0164            ADRES  IN2             19
 0165            ADRES  IN0             18
 0166            ADRES  TIME1           17
 0167  2         ADRES  TIME2           16
 0168   COMLSTB  ADRES  DSPTAB +13D     15/65
 0169            ADRES  DSPTAB +12D     14/64
 0170            ADRES  DSPTAB +11D     13/63
 0171            ADRES  DSPTAB +10D     12/62
 0172            ADRES  DSPTAB +9D      11/61
 0173            ADRES  DSPTAB +8D      10/60
 0174            ADRES  DSPTAB +7       9/59
 0175            ADRES  DSPTAB +6       8/58
 0176            ADRES  DSPTAB +5       7/57
 0177            ADRES  DSPTAB +4       6/56
 0178            ADRES  DSPTAB +3       5/55
 0179            ADRES  DSPTAB +2       4/54
 0180            ADRES  DSPTAB +1       3/53
 0181            ADRES  DSPTAB          2/52
P0183            PARTICULAR DATA LISTS FOR FLIGHT 501. LIST 1 PROVIDES DATA FOR
 0184  9THE ENTIRE FLIGHT EXCEPT DURING
R0185  2STATE VECTOR UPDATES, FOR WHICH LIST 2 IS USED.
 0186  2         SETLOC 20000
 0187            ADRES  501LSTB2
 0188   501LSTA2 ADRES  COMPNUMB
 0189            ADRES  UPOLDMD
 0190            ADRES  DNSPARE
 0191            ADRES  DNSPARE
 0192            ADRES  DNSPARE
 0193   501LSTB2 ADRES  STBUFF +13D
 0194            ADRES  STBUFF +12D
 0195            ADRES  STBUFF +11D
 0196            ADRES  STBUFF +10D
 0197            ADRES  STBUFF +9D
 0198            ADRES  STBUFF +8D
 0199            ADRES  STBUFF +7
 0200            ADRES  STBUFF +6
 0201            ADRES  STBUFF +5
 0202            ADRES  STBUFF +4
 0203            ADRES  STBUFF +3
 0204            ADRES  STBUFF +2
 0205            ADRES  STBUFF +1
 0206            ADRES  STBUFF
 0207            ADRES  STCNTR
 0208            ADRES  DNSPARE
 0209   501LSTB1 ADRES  TAVEGON +1      COMMON TO LISTS 1 AND 2
 0210            ADRES  TAVEGON
 0211            ADRES  VAVEGON +5
 0212            ADRES  VAVEGON +4
 0213            ADRES  VAVEGON +3
 0214            ADRES  VAVEGON +2
 0215            ADRES  VAVEGON +1
 0216            ADRES  VAVEGON
 0217            ADRES  RAVEGON +5
 0218            ADRES  RAVEGON +4
 0219            ADRES  RAVEGON +3
 0220            ADRES  RAVEGON +2
 0221            ADRES  RAVEGON +1
 0222            ADRES  RAVEGON
 0223            ADRES  TCUTOFF +1      EVENT TIME
 0224            ADRES  TCUTOFF
 0225            ADRES  TIME1GR
 0226  2         ADRES  TIME2GR
 0227            ADRES  PIPTIME +1
 0228            ADRES  PIPTIME
 0229            ADRES  VN +5
 0230            ADRES  VN +4
 0231            ADRES  VN +3
 0232            ADRES  VN +2
 0233            ADRES  VN +1
 0234            ADRES  VN
 0235            ADRES  RN +5
 0236            ADRES  RN +4
 0237            ADRES  RN +3
 0238            ADRES  RN +2
 0239            ADRES  RN +1
 0240  2         ADRES  RN
 0241            ADRES  501LSTB1
 0242   501LSTA1 ADRES  TFF +1
 0243            ADRES  TFF
 0244            ADRES  VRECT +5
 0245            ADRES  VRECT +4
 0246            ADRES  VRECT +3
 0247            ADRES  VRECT +2
 0248            ADRES  VRECT +1
 0249            ADRES  VRECT
 0250            ADRES  RRECT +5
 0251            ADRES  RRECT +4
 0252            ADRES  RRECT +3
 0253            ADRES  RRECT +2
 0254            ADRES  RRECT +1
 0255            ADRES  RRECT
 0256            ADRES  THETAD +2
 0257            ADRES  THETAD +1
 0258            ADRES  THETAD
 0259            ADRES  DELVX +4
 0260            ADRES  DELVX +2
 0261            ADRES  DELVX
 0262  2         ADRES  REDOCNTR
 0263   DNSPARE  OCT    52525           AT FOD'S REQUEST.
L 001  2T4RUPT OUTPUT CONTROL PROGRAMS
 0001            BANK   1
 0002   T4RUPT   CAF    ZERO            ALONSO THINKS THIS SHOULD BE TURNED OFF
 0003            TS     OUT0            EVERY 60 MS AS A MATTER OF COURSE.
 0004            CCS    DSRUPTSW        SEE IF THIS IS A SPECIAL RUPT TO
 0005            TC     REGRUPT +1      ZERO OUT0 20MS AFTER IT WAS DRIVEN BY
 0006  2         TC     REGRUPT         DSPOUT. IF SO, DSRUPTSW IS NNZ.
 0007            AD     ONE             RESTORE DSRUPTSW TO ITS POSITIVE VALUE.
 0008  2         TS     DSRUPTSW
 0009            CAF    40MSRUPT        SET TIME4 TO INTERRUPT 40 MS FROM NOW.
 0010            TS     TIME4           RE-ESTABLISHING THE REGULAR 60 MS
 0011  2         TC     NBRESUME        PATTERN. THEN DO NO-BANK-SWITCH RESUME.
 0012   REGRUPT  CAF    SEVEN           REGULAR 60 MS RUPT - COUNT DOWN ON
 0013  2 +1      TS     DSRUPTSW        DSRUPTSW.
 0014            CAF    LT4RUPTA        CALL IN APPROPRIATE BANK.
 0015            XCH    BANKREG         SAVE BANKREG FOR RESUME.
 0016            TS     BANKRUPT
 0017  2         TC     T4RUPTA
 0018  2LT4RUPTA CADR   T4RUPTA
 0019  240MSRUPT OCT    37774           INTERRUPT IN 40 MS.
R0020   RELTAB IS A PACKED TABLE. RELAYWORD CODE IN UPPER 4 BITS, RELAY CODE
R0021  2IN LOWER 5 BITS.
 0022   RELTAB   OCT    04025
 0023            OCT    10003
 0024            OCT    14031
 0025            OCT    20033
 0026            OCT    24017
 0027            OCT    30036
 0028            OCT    34034
 0029            OCT    40023
 0030            OCT    44035
 0031            OCT    50037
 0032            OCT    54000
 0033   RELTAB11 OCT    60000
 0034            OCT    64000
 0035   70K      OCT    70000           ALSO USEFUL AS A BANK-SWITCHING MASK.
P0036  2         ROUTINE TO ZERO (OR PSEUDO-ZERO) THE OPTICS COUNTERS.
 0037   ZEROOCTR CAF    ZERO
 0038            TS     OPTX
R0039   RIGHT HERE WE USED TO TEST BIT 13 OF WASOPSET. NOW ASSUME
R0040   UNCONDITIONALLY THAT SXT POWER IS ON (BIT 13 = 1).
 0042            CS     20DEGS          SET OPTY APPROX -20 DEGS (SXT ON)
 0043            TS     OPTY
 0044  2         TC     Q
 0045   20DEGS   DEC    7199
P0047  2         SWITCHED-BANK PORTION OF T4RUPT.
 0048            BANK   10
 0049   T4RUPTA  XCH    OVCTR           SAVE OVCTR.
 0050  2         TS     OVRUPT
 0051            CAF    60MSRUPT        T4 NORMALLY INTERRUPTS EVERY 60 MS.
 0052  2         TS     TIME4
 00521           XCH    IN0             RESET IN0 TO PRESENT VALUE OF DESCRETES.
 00522           CAF    DSKYMASK        RESET DOUBLE-ENTRY INTERLOCK IF KEYCODE
 00523           MASK   IN0             HAS DISAPPEARED.
 00524           CCS    A
 00525           TC     DSKYON
 00526           TC     +2              RESET.
 00527 2         TC     DSKYON
 00528           CS     BIT5
 00529           MASK   STATE
 0053  2         TS     STATE
 00531  DSKYON   CCS    CDUIND          DO AN IMU-CDU IF DESIRED.
 0054            TC     DOIMUCDU +1     WITH NEW CDUIND IN A.
 0055  2         TC     DOIMUCDU        SET COUNT TO 2.
 0056            TC     DSRUPTBR        NO CDU. NNZ MEANS CDUS ARE RESERVED.
 0057  4         TC     DSRUPTBR        -0 MEANS THEY ARE AVAILABLE.
 00571  DSKYMASK OCT    40037           INCLUDES KEYCODE AND MARK BIT.
P0058  2         T4RUPT IMU CDU DRIVE - SERVICED EVERY 60 MS.
 0059   DOIMUCDU CAF    TWO             SET CDUIND BACK TO 2.
 0060  2 +1      TS     CDUIND
 0061            XCH    LP              SAVE LP FOR IMU CDU DRIVE ONLY.
 0062  2         TS     LPRUPT
 0063            INDEX  CDUIND          0 FOR X, 1 FOR Y, AND 2 FOR Z.
 0064            CS     THETAD          PICK UP DESIRED ANGLE.
 0065  2         TS     ITEMP2
 0066            INDEX  CDUIND
 0067            CS     CDUX            READ AND SAVE CDU COUNTER.
 0068  2         TC     2SCOMDIF        DIFFERENCE WITH -0 UNEQUAL TO +0.
 0069            EXTEND                 RETURNS WITH DIFFERENCE IN A.
 0070            MP     KG
 0071            TS     ITEMP1          COMMAND TO TEMP STORAGE
 0072            CCS    A               CHECK SIGNUM OF COMMAND
 0073            TC     POSCOM2
 0074            TC     CDURSM
 0075            TC     NEGCOM2
 0076  8         TC     CDURSM
 0077   NEGCOM2  TS     ITEMP1          SAVE CCS OF COMMAND.
 0078            CS     CDUIND          USE NEGATIVE TO SELECT OUT2 PATTERN.
 0079  2         TC     CDUOUT
 0080   POSCOM2  TS     ITEMP1          SAME AS ABOVE EXCEPT 1+CDUIND SELECTS.
 0081            CAF    ONE
 0082  2         AD     CDUIND
 0083   CDUOUT   TS     OVCTR
 0084            CAF    DUMCODE         CODE WHICH INTERRUPTS OUT2 PULSES DURING
 0085            XCH    OUT2             OUT2 MODIFICATION, BUT ALLOWS DETEC-
 0086            MASK   LOW8             TION OF THE VERY RARE EVENT THAT THE
 0087            XCH    OUT2             PULSE THAT RESETS ANOTHER FIELD OF OUT2
 0088            AD     -DUMCODE         WAS REQUESTED DURING THE ORIGINAL
 0089            CCS    A                XCH OUT2.
 0090   DUMCODE  OCT    02040           INCOMPLETE OUT2 SETTINGS (X AND OPTX).
 0091   -DUMCODE OCT    -2040
 0092  2         TC     JACKPOT         THE PROBABILITY OF THIS IS ABOUT ZERO.
 0093            CS     ITEMP1          FORM 1.0 - ABS(COMMAND).
 0094            AD     POSMAX
 0095  2         TS     OUTCR1
 0096            CAF    DUMCODE
 0097            XCH    OUT2            NOW ENABLE OUTCR1 BY SETTING OUT2.
 0098            INDEX  OVCTR
 0099            AD     CDUCODES +2
 0100            XCH    OUT2
 0101            AD     -DUMCODE
 0102  2         CCS    A
 0103   KG       DEC    .18             CDU DRIVING GAIN
 0104            TC     CCSHOLE
 0105  2         TC     JACKPOT
 0106   CDURSM   CAF    ONE             RESTORE LP.
 0107            EXTEND
 0108            MP     LPRUPT
P0109  2         BRANCH ACCORDING TO  DSRUPTSW  AND PERFORM THE APPROPRIATE DSRU
 0110  9PT FUNCTIONS.
 0111   DSRUPTBR INDEX  DSRUPTSW        JUMP ON DSRUPTSW.
 0112            TC     +1
 0113            TC     TMCHECK         =0
 0114            TC     LOSCAN          LOOK FOR LIFT OFF EVERY 480 MS.
 0115            TC     TMCHECK
 0116            TC     NWALM           INITIATE NIGHT WATCHMAN JOB.
 0117            TC     TMCHECK         =4
 0118            TC     OPTTEST         =5    SERVICE OPTICS CDUS.
 0119            TC     TMCHECK         =6
P0120  2         SYSTEM FAILURE INPUT BITS MONITOR - ENTERED EVERY 480 MS BY T4R
 0121  9UPT.
 0122   ERRORMON CCS    OLDERR          IGNORE BITS IF C(OLDERR) = 40000
 0123            TC     ERRMON          ORDINARILY POSITIVE.
 0124            TC     ERRMON
 0125  2         TC     ENDT4ERR
 0126   ERRMON   XCH    IN2             REFRESH LAST-SAMPLED-ERRORS REGISTER.
 0127            XCH    IN2
 0128            MASK   ERRMASK
 0129            TS     ITEMP2
 0130            CAF    ERRMASK
 0131            MASK   OLDERR
 0132            COM
 0133            AD     ITEMP2
 0134            CCS    A
 0135            TC     ERRCHANG        CHANGED.
 0136   ERRMASK  OCT    07000           IMU, CDU, AND PIPA FAIL.
 0137            TC     ERRCHANG
 0138  2         TC     ENDT4ERR        EXIT - NO CHANGE HAS TAKEN PLACE.
 0139   ERRCHANG CS     ERRMASK         UPDATE IMU FAIL BITS IN OLDERR.
 0140            MASK   OLDERR
 0141            AD     ITEMP2
 0142  2         TS     OLDERR
 0143            CAF    LITESOUT
 0144            MASK   DSPTAB +11D
 0145            AD     BIT15           TO INDICATE CHANGE.
 0146  2         TS     DSPTAB +11D
 0147            CAF    TWO             TURN ON LIGHTS ACCORDING TO C(OLDERR).
 0148   ERRSCAN  TS     ITEMP2
 0149            INDEX  A
 0150            CAF    BIT12           SELECT BIT IN OLDERR.
 0151            MASK   OLDERR
 0152            CCS    A
 0153  2         TC     BITON           BIT IS PRESENT.
 0154   ERRSCAN3 CCS    ITEMP2          LOOP THREE TIMES THROUGH.
 0155  2         TC     ERRSCAN
 0156  2         TC     ENDT4ERR        FINISHED.
 0157   LITESOUT OCT    37437
P0158            PROCESS ERROR SIGNALS PRESENT. NOTE THAT C(WASKSET) INDICATES T
 0159  9HE STATE OF THE SYSTEM SINCE NO RELAYS
R0160  2HAVE BEEN SWITCHED IN THE LAST 120 MS, AND KSAMP WAS EXECUTED 60 MS AGO.
 0161   BITON    INDEX  ITEMP2          2, 1, OR 0.
 0162            TC     +1
 0163            TC     IMUFAIL
 0164            TC     PIPAFAIL
 0165  2         TC     CDUFAIL
 0166   IMUFAIL  CCS    WASKSET         FAILURE NOT LEGITMATE IF IN COARSE ALIGN
 0167            TC     IMUFAIL2        PURSUE THIS ONE.
 0168            TC     NOFAIL          NO MODE-DEPENDENT FAILURE MONITORING
 0169            TC     NOFAIL          IF MODING FAILURE OR PROCEDURAL FAILURE.
 0170  2         TC     NOFAIL
 0171   IMUFAIL3 CAF    BIT8            TURN ON IMU FAIL LIGHT.
 0172   FAILITON AD     DSPTAB +11D     (WHICH HAD BEEN ZEROED IN ALL LIGHT
 0173            TS     DSPTAB +11D     POSITIONS).
 0174  2         TC     ERRSCAN3        PROCESS NEXT INPUT BIT.
 0175   IMUFAIL2 AD     ONE             SEE IF COASE ALIGN ACHIEVED.
 0176            MASK   BIT2
 0177            CCS    A
 0178            TC     NOFAIL
 0179            CAF    BIT4            SEE IF WITHIN 5 SECONDS OF COARSE ALIGN.
 0180            MASK   OLDERR
 0181            CCS    A
 0182            TC     NOFAIL          IF SO.
 0183  2         TC     IMUFAIL3        FAILED.
 0184   CDUFAIL  CCS    WASKSET
 0185            TC     CDUFAIL2        FAILURE ONLY IF IN FINE ALIGN.
 0186            TC     NOFAIL          (SEE NOTE FOR IMUFAIL).
 0187            TC     NOFAIL
 0188  2         TC     NOFAIL
 0189   CDUFAIL3 CAF    BIT6            CDU FAIL LIGHT ON.
 0190  2         TC     FAILITON
 0191   CDUFAIL2 CS     BIT6            TURN ON FAIL LIGHT ONLY IF IN FINE ALIGN
 0192            MASK   WASKSET
 0193            AD     -BIT4
 0194            CCS    A
 0195            TC     NOFAIL
 0196   -BIT4    OCT    -10
 0197            TC     NOFAIL
 0198  2         TC     CDUFAIL3        TURN ON THE LIGHT.
 0199   PIPAFAIL CAF    BIT7            TURN ON FAIL LIGHT UNCONDITIONALLY.
 0200  2         TC     FAILITON
 0201   NOFAIL   INDEX  ITEMP2          COMES HERE IF PRESENT MODE INHIBITS FAIL
 0202            CS     BIT12           BITS. THIS MAINTAINS PRESENT ACTUAL
 0203            MASK   OLDERR          ERRORS IN OLDERR FOR THE NIGHT WATCH-
 0204            TS     OLDERR          MANS BENEFIT, IN PARTICULAR.
 0205            TC     ERRSCAN3
P0206  2         NIGHT-WATCHMAN ALARM, SERVICED EVERY 480 MS BY T4RUPT.
 0207   NWALM    CAF    PRIO36
 0208            TC     NOVAC
 0209  2         CADR   NWJOB
 02091           CS     BIT10           RESET BLOCK-ENDPULSE EVERY HALF SECOND.
 02092           MASK   OUT1
 02093 2         TS     OUT1
 0210  4         TC     S4BSCAN
R0211  2         NIGHT-WATCHMAN JOB - DIDDLES TMALM FOR 24 MICRO-SEC AFTER VERIF
 0212  9YING THAT NEWJOB IS BEING TESTED.
 0213   NWJOB    CAF    NWMASK          DONT ISSUE SIGNAL IF IMU, PIPA, OR
 0214            INHINT
 0215            MASK   OLDERR          RESTART FAIL IS ON.
 0216            CCS    A
 0217            TC     NONNWJOB
 0218   DONW     CS     BIT4
 0219            MASK   OUT1
 0220            TS     Q
 0221            CS     OUT1
 0222            MASK   BIT4
 0223            AD     Q
 0224            XCH    OUT1
 0225            TS     OUT1
 0226            CS     BIT3            RESET INHIBIT INDICATOR.
 0227            MASK   OLDERR
 0228            TS     OLDERR
 0229  2         TC     ENDOFJOB
 0230   NONNWJOB AD     BANKMASK        SEE IF PIPA FAIL ONLY PROBLEM.
 0231            CCS    A
 0232            TC     NOINH
 0233            TC     NOINH
 0234  2         TC     NOINH
 0235            CS     SEVEN           CHECK FOR MODES 22 - 27.
 0236            MASK   MODREG
 0237            AD     -MODE20
 0238            CCS    A
 0239            TC     NOINH
 0240   -MODE20  OCT    -20
 0241  2         TC     NOINH
 0242            CS     MODE21          NO MODE 20.
 0243            AD     MODREG
 0244            CCS    A
 0245            TC     DONW
 0246   MODE21   OCT    21
 0247  2         TC     DONW
 0248   NOINH    CS     BIT3            SEE IF WE HAVE HAD TWO CONSECUTIVE
 0249            MASK   OLDERR          CONSECUTIVE INHIBITS.
 0250            AD     BIT3
 0251            XCH    OLDERR
 0252            MASK   BIT3
 0253            CCS    A
 0254            TC     +2
 0255            TC     ENDOFJOB
 0256            RELINT
 0257            TC     CHECKMM         SET MM 77 IF REQUIRED.
 0258            OCT    77
 0259            TC     +2
 0260            TC     ENDOFJOB
 0261            TC     NEWMODE
 0262            OCT    77              G AND N FLUSHED.
 0263            TC     ENDOFJOB
P0264  2         SCAN FOR LIFT-OFF EVERY 480 MS.
 0265   LOSCAN   CS     IN2
 0266            CS     IN2
 0267            MASK   BIT5
 0268            CCS    A
 0269            TC     S4BSCAN
 0270            CAF    BIT2            SEE IF SIGNAL ALREADY RECEIVED.
 0271            MASK   FLAGWRD1
 0272            CCS    A
 0273  2         TC     S4BSCAN
 0274            CAF    PRIO24
 0275            TC     FINDVAC
 0276  2         CADR   LIFTOFF
R0277  2         S4B SEPARATE SCANNER - ENTERED EVERY 120 MS.
 0278   S4BSCAN  XCH    IN2
 0279            XCH    IN2
 0280            MASK   BIT8
 0281            CCS    A
 0282            TC     +2              IF BIT ON.
 0283  2         TC     CDRVE           NORMAL CASE.
 0284            CAF    BIT8            SEE IF FIRST TIME BIT ON.
 0285            MASK   STATE +1
 0286            CCS    A
 0287  2         TC     CDRVE           NO ACTION UNLESS FIRST TIME ON.
 0288            CAF    PRIO25
 0289            TC     FINDVAC
 0290            CADR   S4BSMSEP
 0291  2         TC     CDRVE
 0292   NOOPTCDU EQUALS S4BSCAN
 0293   ENDT4ERR EQUALS S4BSCAN
P0294  2         OPTICS CDU DRIVING PROGRAM, SERVICED EVERY 480 MS BY DSRUPT.
 0295   OPTTEST  CCS    OPTIND          PNZ FOR ACTIVE, NEGATIVE FOR INACTIVE.
 0296            TC     +5              DRIVE CDU.
 0297            TC     +3              DRIVE CDU.
 0298            TC     NOOPTCDU        NNZ MEANS RESERVED.
 0299  2         TC     NOOPTCDU        -0 MEANS AVAILABLE.
 0300    +3      CAF    ONE             GOES 1(-1)0.
 0301  2 +5      TS     OPTIND
 0302            TS     RUPTREG1        SET UP OUT2SUB TO START OUT-COUNTER.
 0303            CAF    ONE             (TO ADDRESS OUTCR2).
 0304  2         TS     RUPTREG2
 0305            CCS    OPTIND          DRIVE OPTICS Y DIFFERENT THAN OTHERS.
 0306  2         TC     BLIVOT3         OVF UNCORRECTION WONT WORK FOR OPTY.
 0307   REGDIFF  INDEX  OPTIND
 0308            CS     DESOPTX         DESIRED ANGLES.
 0309  2         TS     ITEMP2
 0310            INDEX  OPTIND
 0311            CS     OPTX            READ COUNTER.
 0312  2         TC     2SCOMDIF        TAKES DIFFERENCE WITH -0 UNEQUAL TO +0.
 0313  2OPTOUT   TC     OUT2SUB
 0314  2         TC     S4BSCAN
 0315   BLIVOT3  CS     OPTY            IF THE DIFFERENCE OVERFLOWS, THE ERROR
 0316            AD     DESOPTX +1       ERROR SIGNAL IS GREATER THAN 16383, SO
 0317            TS     Q                JUST THROW IN POSMAX WITH THE RIGHT
 0318  2         TC     REGDIFF          SIGN AND CALL IT A DAY. OTHERWISE FOLL-
 0319            INDEX  A                THE USUAL PROCEDURES.
 0320            CS     LIMITS
 0321            TC     OPTOUT
P0322  2         CDRVE  CHANGES A BANK OF C RELAYS IF ANY CHANGE IS INDICATED IN
 0323  9 THE C-RELAY PORTION OF DSPTAB.
 0324   CDRVE    CCS    DSPTAB +13D     SPACECRAFT RELAYS HAVE HIGHEST PRIORITY.
 0325            TC     CDRVE1
 0326  2         TC     CDRVE1
 0327            CAF    LOW11
 0328            MASK   DSPTAB +13D
 0329            TS     DSPTAB +13D
 0330            AD     RELTAB11 +2
 0331  2         TC     DSPLAYC
 0332   CDRVE1   CCS    DSPTAB +11D     IMU AND CAUTION LIGHTS.
 0333            TC     CDRVE2
 0334  2         TC     CDRVE2
 0335            CAF    LOW11
 0336            MASK   DSPTAB +11D
 0337            TS     DSPTAB +11D
 0338            AD     RELTAB11
 0339  2         TC     DSPLAYC
 0340   CDRVE2   CCS    DSPTAB +12D     OPTICS.
 0341            TC     DSPOUT
 0342  2         TC     DSPOUT
 0343            CAF    LOW11
 0344            MASK   DSPTAB +12D
 0345            TS     DSPTAB +12D
 0346            AD     RELTAB11 +1
 0347  2         TC     DSPLAYC
 0348   DSPOUT   CCS    NOUT            ENTERED IN INTERRUPTED STATE AT END OF
 0349            TC     +2                                      DSRUPT
 0350            TC     LVDSRUPT
 0351            TS     NOUT
 0352            CS     ZERO
 0353            TS     DSRUPTEM        SET TO -0 FOR 1ST PASS THRU DSPTAB
 0354            XCH    DSPCNT
 0355            AD     NEG0            TO PREVENT +0
 0356            TS     DSPCNT
 0357   DSPSCAN  INDEX  DSPCNT
 0358            CCS    DSPTAB
 0359            CCS    DSPCNT          IF DSPTAB ENTRY +, SKIP
 0360            TC     DSPSCAN -2      IF DSPCNT +, AGAIN
 0361            TC     DSPLAY          IF DSPTAB ENTRY -, DISPLAY
 0362   TABLNTH  OCT    12              DEC 10   LENGTH OF DSPTAB
 0363            CCS    DSRUPTEM        IF DSRUPTEM=+0,2ND PASS THRU DSPTAB
 0364            TC     CCSHOLE         (DSPCNT=0). +0 INTO NOUT, RESUME.
 0365            TS     NOUT
 0366            TC     LVDSRUPT
 0367            TS     DSRUPTEM        IF DSRUPTEM=-0,1ST PASS THRU DSPTAB
 0368            CAF    TABLNTH         (DSPCNT=0). +0 INTO DSRUPTEM. PASS AGAIN
 0369  2         TC     DSPSCAN -1
 0370   DSPLAY   AD     ONE
 0371            INDEX  DSPCNT
 0372            TS     DSPTAB          REPLACE POSITIVELY
 0373            MASK   LOW11           REMOVE BITS 12 TO 15
 0374            TS     DSRUPTEM
 0375            CAF    HI5
 0376            INDEX  DSPCNT
 0377            MASK   RELTAB          PICK UP BITS 12 TO 15 OF RELTAB ENTRY
 0378            AD     DSRUPTEM
 0379   DSPLAYC  TS     OUT0
 0380            CAF    20MSRUPT        SET T4 TO INTERRUPT IN 20 MS SO OUT0 MAY
 0381            TS     TIME4           BE TURNED OFF AS SOON AS POSSIBLE. WHEN
 0382            CS     DSRUPTSW        THIS RUPT OCCURS, T4 IS RESET TO FIRE
 0383  2         TS     DSRUPTSW        IN 40MS, RE-ESTABLISHING THE REGULAR 60.
 0384  2         TC     LVDSRUPT
 0385   LVDSRUPT EQUALS OVRESUME
P0386            OUT2SUB IS USED BY THE GYRO DRIVE AND THE OPTICS CDU DRIVE TO S
 0387  9ET THE PROPER SECTION OF OUT2 AND THE
R0388  2PROPER OUT-COUNTER TO DELIVER THE COMMAND ARRIVING IN A.
 0389   OUT2SUB  TS     ITEMP1          SIGNED COMMAND.
 0390            XCH    Q
 0391            TS     ITEMP2
 0392            CCS    ITEMP1
 0393            TC     POSCOM
 0394            TC     ITEMP2          RETURN TO CALLER ON EITHER ZERO.
 0395            TC     NEGCOM
 0396  2         TC     ITEMP2
 0397   NEGCOM   TS     ITEMP1          CCS OF COMMAND LEFT IN ITEMP1
 0398            CS     RUPTREG1        0 AND 1 FOR OPTICS - 2, 3, AND 4 FOR GYR
 0399  2         TC     SETOUT2
 0400   POSCOM   TS     ITEMP1          CCS OF COMMAND.
 0401            CAF    ONE
 0402  8         AD     RUPTREG1
 0403   SETOUT2  TS     RUPTREG4
 0404            CAF    DUMCODE         FOR A DESCRIPTION OF THIS OUT2 PROCEDURE
 0405            XCH    OUT2            SEE THE IMUCDU DRIVE PROGRAM EARLIER IN
 0406            INDEX  RUPTREG2        T4RUPT.
 0407            MASK   OUT2MASK
 0408            XCH    OUT2
 0409            AD     -DUMCODE
 0410            CCS    A
 0411            TC     CCSHOLE
 0412            TC     CCSHOLE
 0413  2         TC     JACKPOT
 0414            CS     ITEMP1          ABS(COMMAND) - 1.
 0415            AD     POSMAX          FORMS 1.0 - ABS(COMMAND).
 0416            INDEX  RUPTREG2
 0417  2         TS     OUTCR1
 0418            CAF    DUMCODE         ENABLE THE APPROPRIATE OUTCR BY SETTING
 0419            XCH    OUT2            THE PROPER CODE IN OUT2
 0420            INDEX  RUPTREG4
 0421            AD     OPTCODES +1
 0422            XCH    OUT2
 0423            AD     -DUMCODE
 0424            CCS    A
 0425            TC     CCSHOLE
 0426            TC     CCSHOLE
 0427  2         TC     JACKPOT
 0428  2         TC     ITEMP2
 0429  2NOGYROC  EQUALS
 0430   ENDGYROC EQUALS
P0431  2ALTERNATE 120 MS LEG OF T4RUPT.
 0432   TMCHECK  CAF    SEVEN           ALLOW UP TO SEVEN TM WORDS UNTIL NEXT
 0433            XCH    TELCOUNT        DSRUPT0 EXECUTION. CHECK LAST TM PERIOD
 0434            AD     NEG7            TO SEE IF AT LEAST ONE WORD WENT OUT.
 0435  2         CCS    A               THIS SATISFIES BOTH HIGH- AND LOW-POWER.
 0436   NEG7     DEC    -7
 0437            TC     CCSHOLE
 0438            TC     +2              OK - PROCEED.
 0439  2         TC     TMFAIL          TURN ON TM FAIL LIGHT BEFORE KSAMP.
 0440   MODESAMP XCH    IN3             SAMPLE MODE BITS AND TUCK THEM AWAY
 0441            XCH    IN3             FOR KSAMP AND OPTSAMP.
 0442            TS     KSAMPTEM
 0443            MASK   LOW7
 0444            XCH    KSAMPTEM
 0445            MASK   OPTBITS
 0446            TS     OSAMPTEM
 0447            XCH    IN0             THIS CLEARS THE KEY CODE WITHIN 120MS
A0448  2                                 OF THE TIME THE KEY WAS RELEASED.
 0449            TS     OVCTR           SEE IF INHIBIT UP-SYNC BIT IS ON.
 0450            MASK   BIT7
 0451            CCS    A
 0452  2         TC     TMFAIL          IF SO, TURN ON TELEMETRY FAIL LIGHT.
 0453            CCS    OVCTR           SEE IF MARK BUTTON DOWN.
 0454            TC     OPTSAMP
 0455            TC     OPTSAMP
 0456            TC      +1
 0457            CAF    NOMKACPT        DONT INCLUDE MARK ACCEPT INFORMATION.
 0458            MASK   OSAMPTEM
 0459            TS     OSAMPTEM
P0460  2         OPTICS MODE SAMPLING.
 0461   OPTSAMP  CCS    DESOPSET        IS COMPUTER COMMANDING
 0462            TC     OPTCOMM         YES
 0463  2         TC     NOOPCOM         NO
 0464            CAF    BIT12           MAKE SURE WE ARE STILL ZEROING
 0465            MASK   OSAMPTEM        (THIS PORTION ENTERED FOR 30 SEC. DURING
 0466            AD     WASOPSET           MANUAL OPTICS ZERO).
 0467            MASK   BIT12           SEE IF CDU-ZERO BIT HAS CHANGED.
 0468            CCS    A               ALARM IF SO.
 0469            TC     +2
 0470  2         TC     LVOPTSMP
 0471            TC     ALARM           IF NOT, ALARM ON
 0472            OCT    00101           OPTICS ALARM NO. 1.
 0473  2         TC     LVOPTSMP
 0474   OPTCOMM  CAF    BIT14           SEE IF COMPUTER-ON SWITCH JUST CHANGED.
 0475            MASK   WASOPSET        FORM WAS BIT14 - IS BIT14.
 0476            TS     Q
 0477            CAF    BIT14
 0478            MASK   OSAMPTEM        PRESENT INPUT BITS.
 0479            COM
 0480            AD     Q
 0481            CCS    A
 0482            TC     COMP.OFF        SWITCH JUST TURNED OFF.
 0483   OFFMASK  OCT    34760           USED FOR SETTING IMU C-RELAYS.
 0484  2         TC     COMP.ON         SWITCH JUST TURNED ON.
 0485   OPTCOMM2 CS     DESOPSET        SEE IF DESIRED MODE ACHIEVED.
 0486            AD     OSAMPTEM
 0487            CCS    A
 0488            TC     OPTCTEST        COMMAND NOT EQUAL TO ACTUAL
 0489   OPTBITS  OCT    35000
 0490            TC     OPTCOMM3        NO MATCH - SEE IF COMP ON ONLY MISMATCH.
 0491  2         TC     LVOPTSMP        DONE IF MODES AGREE.
 0492   OPTCTEST CCS    DSPTAB +12D     IS CHANGE COMING.
 0493            TC     OPTCFAIL        NO - C-RELAY FAILURE OR UNWANTED MANUAL
 0494  2         TC     OPTCFAIL        INTERVENTION.
 0495            CAF    ZERO            LEAVE WAITING FLAG IN WASOPSET.
 0496  2         TC     LVOPTSMP +1
 0497   OPTCOMM3 AD     -BIT14+1        NO ERROR IF COMPUTER-ON ONLY ONE DIFF.
 0498            CCS    A
 0499            TC     OPTCTEST
 0500   NOMKACPT OCT    31000
 0501            TC     OPTCTEST
 0502            CAF    BIT14           IN THIS CASE, SET COMP.ON BIT TO 1 IN
 0503            AD     OSAMPTEM        WASOPSET TO PREVENT +0 FOR CORRECT MODES
 0504  2         TC     LVOPTSMP +1
 0505   COMP.OFF CCS    OPTIND          TAKE AGC OUT OF CDU LOOP IF APPROPRIATE.
 0506            TC     +2
 0507            TC     +1              POSITIVE MEANS COMPUTER WAS IN LOOP.
 0508            CAF    ONE             LEAVE CDUS RESERVED (RARE).
 0509            COM                    -0 REVERTS TO -0.
 0510  2         TS     OPTIND
 0511  2         TC     OPTCOMM2        DO MODE CHECK.
 0512   COMP.ON  CCS    OPTIND          PUT AGC BACK INTO CDU LOOP IF DESIRED.
 0513            TC     ONALARM         (THIS SHOULD NEVER HAPPEN).
 0514            TC     ONALARM
 0515  2         TC     ONOK            CDUS HAD BEEN RESERVED.
 0516   ONALARM  TC     OFAILTST        SEE IF FAIL FLAG ALREADY SET.
 0517            TC     ALARM           ALARM AND SET FAILURE FLAG.
 0518            OCT    00104
 0519  2         TC     OFAILSET
 0520   OPTCFAIL TC     OFAILTST        SEE IF ALARM ALREADY SOUNDED.
 0521            TC     ALARM           ALARM AND SET FAIL FLAG IF NOT.
 0522  2         OCT    00102
 0523   OFAILSET CS     ZERO
 0524  2         TC     LVOPTSMP +1     SET FAIL FLAG AND EXIT.
 0525   OFAILTST CCS    WASOPSET        RETURNS TO CALLER IF NO FAILURE ALARM
 0526            TC     Q               GIVEN. EXITS WITHOUT CHANGING WASOPSET
 0527            TC     Q               IF SO.
 0528            TC     NOOPRSET
 0529  2         TC     NOOPRSET
 0533   ONOK     TS     OPTIND          SET OPTIND TO +0 TO ACTIVE CDU DRIVE.
 0534  2         TC     OPTCOMM2        DO MODE AGREEMENT CHECK.
 0543   NOOPCOM  CS     WASOPSET        ENTERS HERE IF COMPUTER NOT COMMANDING.
 0544            AD     OSAMPTEM        SEE IF ANY CHANGES SINCE LAST LOOK.
 0545            CCS    A
 0546            TC     NOOPCOM1        CHANGED.
 0547   60MSRUPT OCT    37772           UNUSED CCS BRANCH.
 0548            TC     NOOPCOM1        CHANGED.
 0549  2         TC     LVOPTSMP        NO CHANGE - NORMAL EXIT IN MANUAL.
 0550   NOOPCOM1 CS     WASOPSET        SEE IF MANUAL CDU-ZERO JUST REQUESTED.
 0551            MASK   BIT12
 0552            MASK   OSAMPTEM
 0553            CCS    A
 0554            TC     MANOPTZ         CALL MANUAL OPTICS ZERO SUBROUTINE.
A0555  2                                (THIS RECONCILES OPTICS-ZERO C-RELAY).
R0556   WE USED TO TEST HERE TO SEE IF THE SXT-ON SWITCH HAS CHANGED.
R0557   SINCE IN BLOCK 50 - 100 IT IS ALWAYS ON, WE DON:T NOW.
 0562   RECONTRK CAF    BIT10           RECONCILE TRKR-ON C-RELAY.
 0563            MASK   OSAMPTEM
 0564            CCS    A
 0565            CAF    BIT2            TURN ON TRKR-ON C-RELAY.
 0566            AD     BIT15
 0567            XCH    DSPTAB +12D
 0568            MASK   OCT37775        CHANGE BITS 2 AND 15.
 0569            AD     DSPTAB +12D
 0570  2         TS     DSPTAB +12D
 0571            XCH    OSAMPTEM        SET WASOPSET AND CALL SETZLIT TO
 0572            TS     WASOPSET        SET ZERO-ENCODER LIGHT.
 0573            TC     SETZLIT
 0574  2         TC     NOOPRSET
 0575   LVOPTSMP XCH    OSAMPTEM
 0576  2         TS     WASOPSET
 0577   NOOPRSET EQUALS                 DONT RESET WASOPSET.
P0578   KSAMP           ENTERED EVERY 120 MS DURING T4RUPT. SAMPLES STATUS OF
R0579   -----           IMU MODE SWITCHES.
R0580                   SETS C(WASKSET)=C(DESKSET) FOR SUCCESSFUL COMP. COMM.
R0581                                  =+0 FOR WAITING(START-UP,CONTACT BOUNCE)
R0582                                  =-X FOR ASTRONAUT COMM. IGNORE
R0583  4                               =-0 FOR SYSTEM FAILURE
 0584   KSAMP    CCS    WASKSET         TEST FOR IGNORE
 0585            TC     +3
 0586            TC     +2
 0587  2         TC     ENDKSAMP
 0588            CCS    DESKSET         C(DESKSET)=DESIRED K RELAY SETTING
 0589            TC     KSAMP1                    =+0 FOR COMPUTER NOT COMM.
 0590  2         TC     KSAMP4                    -DESIRED K SETTING FOR MAN 0.
 0591            CAF    BIT1            ENTERS HERE TO BE SURE MANUAL CDU ZERO
 0592            MASK   KSAMPTEM        LASTS AT LEAST 30 SEC.
 0593            AD     WASKSET         ALARM IF CDU-ZERO SWITCH CHANGED STATE.
 0594            MASK   BIT1
 0595            CCS    A
 0596            TC     +2
 0597  2         TC     LVKSAMP
 0598            TC     ALARM
 0599            OCT    00201           CDU NOT ZEROED PROPERLY.
 0600  2         TC     LVKSAMP
 0601   KSAMP4   XCH    KSAMPTEM        NO COMPUTER COMMAND.
 0602            XCH    WASKSET         CURRENT STATUS TO WASKSET
 0603            TS     KSAMPTEM        (FOR EVENTUAL USE BY MANUAL ZERO TEST).
 0604            CS     A
 0605            AD     WASKSET
 0606            CCS    A
 0607            TC     KSAMP2B         SEE IF TRNSW JUST ON AND IS ONLY CHANGE.
 0608   20MSRUPT OCT    37776           UNUSED CCS BRANCH - USED TO CAUSE 0 OUT0
 0609            TC     KSAMP2
 0610  2         TC     ENDKSAMP        EXIT ON NO CHANGE IN MODE.
 0611   KSAMP2   CAF    BIT6            CHANGE IN MODE
 0612            MASK   WASKSET
 0613            CCS    A               IS TRNSW ON MANUAL
 0614  2         TC     TRNSWON         SEE IF START-UP OR PILOTS BUTTON ON.
 0615            CS     WASKSET         TEST FOR START UP SEQUENCE
 0616            MASK   FINE+CRS        START-UP=FINE AND COARSE IN MANUAL.
 0617            CCS    A
 0618  2         TC     MANZTEST
 0619   SETCOARS CAF    OFFMASK
 0620            MASK   DSPTAB +11D
 0621            AD     OCT40002
 0622  2         TC     SETC +3
 0623   MANZTEST CS     KSAMPTEM        SEE IF MANUAL ZERO SWITCH JUST ON.
 0624            MASK   BIT1
 0625            MASK   WASKSET
 0626            CCS    A
 0627  2         TC     MANCDU          MANUAL IMU CDU ZERO JUST REQUESTED.
 0628            CS     KSAMPTEM        IF PREVIOUS MODE WAS COARSE ALIGN,
 0629            MASK   BIT2            DISABLE IMU FAIL FOR THE NEXT 5 SECS.
 0630            CCS    A
 0631  2         TC     PRERECON
 0632            CS     BIT4
 0633            MASK   OLDERR
 0634            AD     BIT4
 0635  2         TS     OLDERR
 0636            CAF    BIT10
 0637            TC     WAITLIST
 0638  2         CADR   IFAILOK
 0639   PRERECON CAF    OFFMASK         MANUAL MODE CHANGE
 0640            MASK   DSPTAB +11D     SO THE C-RELAYS MUST BE UPDATED.
 0641            AD     BIT15           ALL ARE TURNED OFF AND THE RIGHT ONES
 0642  2         TS     DSPTAB +11D     ARE TURNED ON BY SCANNING IN3.
 0643            CS     WASKSET         UPDATE C-RELAYS SO THEY AGREE WITH THE
 0644            TS     OVCTR           CURRENT MODE. THE SCAN IS FROM LEFT TO
 0645  2         CAF    SIX             RIGHT SO THE PILOTS BUTTON WORKS OK.
 0646   RECONCIL TS     KSAMPTEM
 0647            XCH    OVCTR           NEXT BIT INTO POSITION.
 0648   -BIT14+1 DOUBLE
 0649            TS     OVCTR
 0650            MASK   BIT8
 0651            CCS    A
 0652  2         TC     RECONLUP        LOOP TO EXAMINE NEXT BIT.
 0653   SETC     INDEX  KSAMPTEM
 0654            CAF    MODECHNG        NEW IMU C-RELAY SETTINGS.
 0655            AD     DSPTAB +11D
 0656    +3      TS     DSPTAB +11D
 0657            TC     SETZLIT         UPDATE THE ZERO ENCODER LAMP.
 0658  2         TC     ENDKSAMP
 0659   KSAMP2B  AD     LOW5BAR         NO ERROR IF TRNSW JUST ON IS ONLY CHANGE
 0660            CCS    A
 0661            TC     KSAMP2
 0662   LOW5BAR  OCT    -37
 0663            TC     KSAMP2
 0664  2         TC     ENDKSAMP        ORIGINAL DIFFERENCE WAS JUST BIT 6.
 0665   TRNSWON  CAF    OCT14           THE PILOTS BUTTON HAS CHANGED IF THERE
 0666            MASK   WASKSET         HAS BEEN A CHANGE IN THE FINE ALIGN OR
 0667            AD     KSAMPTEM        LOCK CDU BITS WITH THE SYSTEM IN ATTI-
 0668            MASK   OCT14           TUDE CONTROL AS WELL.
 0669            CCS    A
 0670            TC     +2
 0671  2         TC     STARTCHK        NO - SEE IF SYSTEM CYCLING UP.
 0672            CAF    BIT5            OK SO FAR ON PILOTS BUTTON. SEE IF
 0673            MASK   WASKSET         SYSTEM WAS AND IS IN ATTITUDE CONTROL.
 0674            MASK   KSAMPTEM
 0675            CCS    A
 0676  2         TC     ENDKSAMP        YES - LEAVE THE C-RELAYS IN ATTITUDE C.
 0677   STARTCHK CS     KSAMPTEM        SEE IF COARSE-ALIGN JUST ON. IF SO,
 0678            MASK   BIT2            IF SO, THE SYSTEM IS CYCLING UP SO SET
 0679            MASK   WASKSET         THE C-RELAYS FOR COARSE ALIGN.
 0680            CCS    A
 0681  2         TC     SETCOARS        USUAL RECONCILING WOULDNT WORK HERE.
 0682   MODALARM TC     ALARM           UN-CALLED-FOR MODE CHANGE WITH COMPUTER
 0683            OCT    00204           DOING MODE SWITCHING.
 0684  2         TC     ENDKSAMP
 0685   RECONLUP CCS    KSAMPTEM
 0686  2         TC     RECONCIL
 0687            TC     ALARM           NO IMU MODE INDICATION BITS GIVEN.
 0688            OCT    00203
 0689  4         TC     ENDKSAMP
 0690   KSAMP1   CS     DESKSET         IS PRESENT MODE = COMMANDED
 0691            AD     KSAMPTEM
 0692            CCS    A
 0693            TC     KSAMP1A
 0694   OCT37775 OCT    37775           UNUSED CCS BRANCH - USED TO SET TRKR-ON.
 0695  2         TC     KSAMP1A
 0696            CCS    OLDERR          TURN OFF THE PILOTS BUTTON BIT IF ON.
 0697  2         TC     PIBUTOFF
 0698   LVKSAMP  XCH    KSAMPTEM        YES
 0699            TS     WASKSET
 0700  2         TC     ENDKSAMP
 0701   KSAMP1A  CAF    BIT1            IS COMPUTER TRYING TO ZERO CDU AND
 0702            MASK   DESKSET         GETTING COARSE ALIGN.
 0703            DOUBLE
 0704            MASK   KSAMPTEM
 0705            CCS    A
 0706  2         TC     IMUSTART        YES.
 0707            CAF    OCT60           SEE IF PILOTS BUTTON IS ON.
 0708            MASK   DESKSET         CHECK THAT TRNSW ON AND ATTITUDE CONTROL
 0709            MASK   KSAMPTEM        ARE DESIRED AND ACTUAL AND THAT EITHER
 0710            COM                    FINE ALIGN (FOLLOW) OR LOCK CDU (HOLD)
 0711            MASK   OCT60           ARE PRESENT IN ADDITION. IF SO, SET BIT
 0712            CCS    A               1 OF OLDERR TO INDICATE THIS CONDITION.
 0713            TC     KSAMP2A         MISSION PROGRAMS WILL DETECT THIS CON-
 0714            CAF    OCT14           DITION WHEN THEY TEST OLDERR AS THEY DO
 0715            MASK   KSAMPTEM        PERIODICALLY.
 0716            CCS    A
 0717            TC     +2
 0718  2         TC     KSAMP2A
 0719            CS     ONE
 0720            MASK   OLDERR
 0721            AD     ONE
 0722            TS     OLDERR
 0723  2         TC     LVKSAMP
 0724   KSAMP2A  CCS    WASKSET         CHECK ON PREVIOUS ACTIVITIES
 0725            TC     KSAMP3A          NORMAL OPERATION
 0726            TC     KSAMP3A         WAITING
 0727   OCT60    OCT    60
 0728  2         TC     ENDKSAMP        SYSTEM FAILURE
 0729   KSAMP3A  CCS    DSPTAB +11D     SEE IF BANK IS TO BE CHANGED.
 0730            TC     SYSFAIL         NO - SYSTEM FAILURE.
 0731  2         TC     SYSFAIL
 0732   IMUSTART CAF    WAITFLAG        SET WAITING FLAG AND EXIT.
 0733  2         TC     LVKSAMP +1
 0734   SYSFAIL  CS     ZERO            IMU SYSTEM FAILURE.
 0735            TS     WASKSET
 0736            TC     ALARM           CALL ALARM SUBROUTINE FOR DISPLAY.
 0737            OCT    00202
 0738  2         TC     ENDKSAMP
 0739   PIBUTOFF CS     ONE
 0740            MASK   OLDERR          BIT 1 OF OLDERR IS 1 IF THE PILOTS
 0741            TS     OLDERR          BUTTON IS ON WHILE THE COMPUTERS
 0742  2         TC     LVKSAMP         COMMANDING.
 0743   OCT14    OCT    14
 0744   FINE+CRS OCT    12
 0745  2WAITFLAG EQUALS ZERO
 0746   ENDKSAMP EQUALS LVDSRUPT
P0747  2         MANUAL CDU-ZERO PROGRAMS FOR IMU AND OPTICS CDUS.
 0748   MANCDU   CS     TWO             INITIATE MANUAL CDU ZERO MONITOR.
 0749            TS     DESKSET         (C-RELAYS WILL BE SET BY RECONCIL).
 0750            CAF    35SCNDS
 0751            TC     WAITLIST
 0752  2         CADR   MANIZD
 0753            CAF    OFFMASK         USUAL RECONCILING WOULDNT WORK HERE
 0754            MASK   DSPTAB +11D     SINCE THE SCAN IS FROM LEFT TO RIGHT.
 0755            AD     MODECHNG
 0756  2         TC     SETC +3
R0757  2         WAITLIST TASK TO COMPLETE MANUAL ZERO. TURNS OFF LIGHT TO INDIC
 0758  9CATE COMPLETION.
 0759   MANIZD   TC     ZEROICTR        ZERO COUNTERS.
 0760            CCS    DESKSET         SET DESKSET TO +0 TO RESUME MANUAL
 0761            TC     +4              MODE MONITORING UNLESS THE SYSTEM WAS
 0762            TC     +3              PLACED UNDER COMPUTER CONTROL BY ANOTHER
 0763            CAF    ZERO            PROGRAM DURING THE 35 SEC. WAIT.
 0764            TS     DESKSET
 0765            TC     SETZLIT         TURN OFF LIGHT IF APPROPRIATE.
 0766            TC     TASKOVER
P0767  2         MANUAL OPTICS ZEROING PROCEDURES.
 0768   MANOPTZ  CAF    60SCNDS         MANUAL OPTICS ZEROING ROUTINE.
 0769            TC     WAITLIST        CALL WAITLIST FOR 30 SEC. WAIT
 0770            CADR   MANOZD
 0771            CS     TWO             SET ZEROING FLAG IN DESOPSET.
 0772            TS     DESOPSET
 0773            CS     CSQ             RECONCILE ZERO OPTICS C RELAY
 0774            MASK   DSPTAB +12D
 0775            AD     CSQ
 0776            TS     DSPTAB +12D
 0777  4         TC     RECONTRK
R0778  2         WAITLIST TASK TO COMPLETE MANUAL OPTICS ZERO.
 0779   MANOZD   CAF    ZERO
 0780            TS     DESOPSET        LEAVE MANUAL ZERO MONITOR
 0781            TC     ZEROOCTR +1     SET OPTICS COUNTERS.
 0782            TC     SETZLIT         TURN OFF LIGHT (POSSIBLY) AS SIGNAL.
 0783            TC     TASKOVER
P0784  2         PROCEDURE TO TURN OFF AN OUTCR WHOSE RESET PULSE WAS INITIATED
 0785  9DURING THE FIRST OF TWO  XCH OUT2  IN-
R0786  2STRUCTIONS USED IN UPDATING THE CONTENTS OF OUT2. THE OCCURENCE OF THIS
 0787  9IS EXTREMELY RARE.
 0788   JACKPOT  MASK   BIT6            SEE WHICH FIELD TURNED OFF UNEXPECTEDLY.
 0789            CCS    A
 0790            CAF    OCT00767        IMU - MAKE UP MASK  OCT 00377  .
 0791            AD     OCT77407        OPTICS - MAKE UP MASK  OCT 77407  .
 0792            MASK   OUT2            THE PROBLEM WILL NOT RECUR HERE SINCE
 0793            TS     OUT2            THIS IS WITHIN 26 MCT OF THE LAST PULSE.
 0794  2         TC     Q
 0795   OCT00767 OCT    00767
 0796   OCT77407 OCT    77407
P0797            THE FOLLOWING PROGRAM TAKES A 2S COMPLEMENT DIFFERENCE BETWEEN
 0798  9THE ACTUAL CDU COUNTER AND THE DESIRED
R0799   SETTING. THE AGC AD INSTRUCTION BY ITSELF CANNOT BE USED SINCE +0 = -0 T
 0800  9HERE. TO COMPENSATE, IF THE SIGNS OF
R0801   THE OPERANDS ARE DIFFERENT AND THE ROTATION NECESSARY TO NULL OUT THE ER
 0802  9ROR PASSES THROUGH ZERO (NO OVERFLOW
R0803   OCCURS IN DIFFERENCING THE DESIRED AND ACTUAL), A ONE WITH THE SIGN OF T
 0804  9HE DESIRED ANGLE IS ADDEDTO THE DIFFER-
R0805  2ENCE.
 0806   2SCOMDIF TS     ITEMP1          NEGATIVE OF CDU COUNTER ARRIVES IN A.
 0807            XCH    Q
 0808            TS     ITEMP3
 0809            CS     ITEMP2          C(ITEMP2) = -THE APPROPRIATE DES. ANGLE.
 0810            AD     ITEMP1
 0811            TS     OVCTR
 0812  2         TC     2SCOM2          IF NO OVERFLOW, SEE IF +-1 MUST BE ADDED
 0813   UNCOROVF INDEX  A               IF OVERFLOW, SIMPLY DO OVERFLOW UNCOR-
 0814            CAF    LIMITS          RECTION AND EXIT.
 0815            AD     OVCTR
 0816  2         TC     ITEMP3
 0817   2SCOM2   CCS    ITEMP1          NO OVERFLOW - SEE IF SIGNS OF INPUTS ARE
 0818            TC     EXAM2           DIFFERENT.
 0819            TC     EXAM2
 0820            TC     +1
 0821            CCS    ITEMP2
 0822            TC     INCEX-          ADD -1 AND EXIT HERE.
 0823            TC     INCEX-
 0824  2         TC     +1
 0825   DIFEX    XCH    OVCTR           ORIGINAL DIFFERENCE IS OK IF SIGNS SAME.
 0826  2         TC     ITEMP3
 0827   EXAM2    CCS    ITEMP2
 0828            TC     DIFEX           SIGNS SAME HERE.
 0829            TC     DIFEX
 0830  2         TC     +1              ADD +1 TO DIFFERENCE HERE.
 0831            CAF    ONE
 0832            TC     +2
 0833   INCEX-   CS     ONE
 0834            AD     OVCTR
 0835            TS     OVCTR
 0836            TC     ITEMP3          NORMAL TRAIN OF EVENTS.
 0837            TC     UNCOROVF        THIS ONLY HAPPENS AT 180 DEGREES.
P0838  2         OUTCTR SETTINGS FOR OUT2, AND C-RELAY SETTING CONSTANTS FOR IMU
 0839  9 MODES.
 0840   CDUCODES OCT    50400            -Z CDU
 0841            OCT    51000            -Y CDU
 0842            OCT    52000            -X CDU
 0843            OCT    32000            +X CDU
 0844            OCT    31000            +Y CDU
 0845  2         OCT    30400            +Z CDU
 0846   MODECHNG OCT    40011           (THIS CONSTANT IS NEVER USED BY RECONCIL
 0847            OCT    00002            BUT ONLY BY THE MANUAL ZEROING PROG.)
 0848            OCT    00004
 0849            OCT    00010
 0850            OCT    01000
 0851            OCT    00000           (TRANSFER SWITCH - NOT USED).
 0852  2         OCT    02000
R0853  2         ZERO-ENCODER LIGHT NOT COVERED HERE.
 0854   LOW8     OCT    377
 0855   OUT2MASK EQUALS LOW8
 0856  2OPTMASK  OCT    77407           COMPLEMENT OF OUTCR2 ACTIVITY BITS.
 0857            OCT    44400           -Z GYRO
 0858            OCT    45000           -Y GYRO
 0859  2         OCT    46000           -X GYRO.
 0860   OPTCODES OCT    00220           -Y OPTICS CDU.
 0861            OCT    00240           -X OPTICS CDU.
 0862            OCT    00140           +X OPTICS CDU.
 0863  2         OCT    00120           +Y OPTICS CDU.
 0864            OCT    26000           +X GYRO
 0865            OCT    25000           +Y GYRO
 0866  2         OCT    24400           +Z GYRO.
 0867   35SCNDS  DEC    35. E 2         FOR MANUAL IMUCDU ZEROING.
 0868   60SCNDS  DEC    60. E 2         FOR MANUAL OPTICS ZEROING.
 0869   NWMASK   OCT    06022           IMU, PIPA, RESTART FAIL AND CURTAINS.
 0870   HI5      EQUALS BANKMASK
L      2MODE SWITCHING AND MARK ROUTINES
R0001            THE FOLLOWING SET OF PROGRAMS ARE USED TO SELECTTHE VARIOUS MOD
 0002  9ES OF THE IMU AND OPTICS. THE FOLLOWING
R0003  2MODES ARE POSSIBLE:
R0004            IMUZERO     ZEROS IMU CDUS.
R0005            IMUCOARS    COARSE ALIGNS IMU.
R0006            IMURECOR    RETURNS IMU FROM FINE ALIGN TO COARSE ALIGN
R0007            IMUFINE     PREPARES TO PULSE TORQUE THE GYROS.
R0008   IMUFINNW        SWITCHES TO FINE WITH NO DELAY FOR IRIG CENTERING-DONT
 0009  9ENTER FROM COARSE ALIGN MODE.
R0010            IMUATTC     USE IMU FOR S/C ATTITUDE CONTROL.
R0011            IMUREENT    USE IMU FOR ROLL RE-ENTRY.
R0012  2         IMULOCK     LOCKS IMU CDUS.
R0013            IMUFINIS(**)RELEASES IMU
R0014  4         IMUSTALL(*) IMU MODE IDLING AND ERROR CHECKING.
R0015            OPTZERO     ZERO OPTICS CDUS.
R0016            OPTCOARS    DUMMY OPTICS COARSE-ALIGN MODE.
R0017  2         OPTTRKON    OPTICS TRACKER ON.
R0018            SCTMARK     REQUEST N SCANNING TELESCOPE MARKS.
R0019            SXTMARK     REQUEST N SEXTANT MARKS.
R0020  2         MKRELEAS(**)RELEASE MARK SYSTEM.
R0021            OPTFINIS(**)RELEASE OPTICS.
R0022  4         OPTSTALL(*) OPTICS MODE-IDLING AND ERROR CHECKING.
R0023  2         OPTICS AND IMU MODE ROUTINES MAY BE USED CONCURRENTLY.
R0024            IN ADDITION, A ROUTINE WHICH INCREMENTS ANY DESIRED 2S COMPLEME
 0025  9NT ANGLE BY AN INPUT AMOUNT IS
R0026  4INCLUDED (CDUINC).
R0027  2         CALLING SEQUENCE IS AS FOLLOWS:
R0028   L-1      CAF    NO.MARKS        (FOR SCTMARK AND SXTMARK ONLY).
R0029   L        TC     BANKCALL
R0030  4L+1      CADR   (SUBRO)         ANY OF THE 14 MODE ROUTINES OR CDUINC.
R0031            (*)    THE STALL ROUTINES ARE CALLED TO TERMINATE ANY MODE REQU
 0032  9EST. THE REQUESTING JOB IS STALLED UNTIL
R0033   THE MODE-SWITCHING IS COMPLETE (WITH VAC-AREA PROTECTED) AND RETURN IS T
 0034  9O L+2 IF UNSUCCESSFUL AND L+3 IF THE
R0035  2DESIRED MODE WAS SUCCESSFULLY ACHIEVED.
R0036            (**)   NO STALL ROUTINE NECESSARY IN CONJUNCTION WITH THIS REQU
 0037  9EST.
P0038  2         SPECIAL DP TIME COUNTER READING ROUTINE.
 0039            BANK   1
 0040   READTIME INHINT                 ENTRY IF UNDER EXECUTIVE.
 0041            CS     TIME2           ENTRY IF IN INTERRUPT.
 0042            TS     RUPTSTOR
 0043            CS     TIME1
 0044            TS     RUPTSTOR +1
 0045            CCS    A               IF MINOR PART ZERO, MAJOR PART COULD
 0046            TC     Q
 0047            CCS    A
 0048            TC     Q
 0049            CS     TIME2           UP, SO READ IT AGIN.
 0050            TS     RUPTSTOR
 0051  2         TC     Q
R0052  2         ROUTINE TO READ FINE TIME IN IN2 EVEN IF IT CHANGES AS ITS BEIN
 0053  9G READ. CALL IN INHINT.
 0054   FINETIME XCH    IN2             MAY BE CALLED UNDER EXEC OR RUPT.
 0055            XCH    IN2
 0056            MASK   FINEMASK        NOTE THAT THE OR OF TWO STATES A AND B
 0057            TS     ITEMP1          IS NOT LESS THAN EITHER A OR B.
 0058            XCH    IN2
 0059            MASK   FINEMASK
 0060            TS     ITEMP2
 0061            COM                    SELECT THE MINIMUM OF THE LAST TWO
 0062            AD     ITEMP1          STATES READ.
 0063            CCS    A
 0064            XCH    ITEMP2
 0065            TC     Q
 0066            NOOP
 0067            XCH    ITEMP1
 0068  2         TC     Q
R0069  2         SUBROUTINE TO ZERO IMU CDU COUNTERS.
 0070   ZEROICTR CAF    ZERO            USED BY AUTOMATIC AND MANUAL ZEROING
 0071            TS     CDUX             ROUTINES.
 0072            TS     CDUY
 0073            TS     CDUZ
 0074  4         TC     Q
 0075   LODSAMPT CS     RUPTSTOR        TIME IS SNATCHED IN RUPT FOR NOUN 65
 0076            XCH    SAMPTIME
 0077            CS     RUPTSTOR +1
 0078            XCH    SAMPTIME +1
 0079            TC     Q
P0080  2         SETZLIT SETS THE ZERO ENCODER LAMP ACCORDING TO THE DESIRED-MOD
 0081  9E REGISTERS DESKSET AND DESOPSET.
 0082   SETZLIT  XCH    Q
 0083  2         TS     ITEMP1
 0084            CCS    DESKSET
 0085            TC     +4              COMPUTER COMMANDING-MAY BE ZEROING.
 0086            TC     OPTZTEST        NOT MANUAL ZERO.
 0087   TURNONZ  TC     ZLITON          MANUAL ZEROING MODE.
 0088  2         TC     ITEMP1
 0089     +4     AD     ONE
 0090            MASK   BIT1
 0091            CCS    A
 0092  2         TC     TURNONZ         COMPUTER COMMANDING ZERO-ENCODER
 0093   OPTZTEST CCS    DESOPSET
 0094            TC     +3              MAY BE COMMANDING OPTICS ZERO.
 0095            TC     ZLITOFF         NOT MANUAL ZERO-TURN LIGHT OFF.
 0096  2         TC     TURNONZ         MANUAL OPTICS
 0097    +3      AD     ONE
 0098            MASK   BIT12
 0099            CCS    A
 0100  2         TC     TURNONZ
 0101   ZLITOFF  CS     ZLITBITS        TURN OFF ZERO ENCODER LAMP.
 0102            MASK   DSPTAB +11D
 0103            AD     BIT15
 0104            TS     DSPTAB +11D
 0105  2         TC     ITEMP1
 0106   ZLITON   CS     ZLITBITS        TURN ON ZERO-ENCODER LAMP.
 0107            MASK   DSPTAB +11D
 0108            AD     ZLITBITS
 0109            TS     DSPTAB +11D
 0110  2         TC     Q
 0111   ZLITBITS EQUALS OCT40020        CS CYR IN DMP.
P0113  2         IMU ZEROING ROUTINE.
 0114  2         SETLOC 30000
 0115   IMUZERO  CS     ONE             DISABLE CDU DRIVE
 0116  2         TS     CDUIND           BY SETTING CDUIND NEGATIVE.
 0117            TC     SETKANDC        GO TO SUBROUTINE TO SWITCH C RELAYS
 0118            OCT    00051            = C(DESKSET)=COMP CONT+ZERO+FINE
 0119            OCT    40011            = C SETTING FOR FINE + ZERO
 0120  2         TC     ZLITON          TURN ON ENCODER ZEROING LAMP
 0121            CS     BIT4            DISABLE IMU FAIL FOR 5 SEC IN CASE WE
 0122            MASK   OLDERR          JUST CAME OUT OF COARSE ALIGN.
 0123            AD     BIT4
 0124            TS     OLDERR
 0125            CAF    BIT10
 0126            TC     WAITLIST
 0127  2         CADR   IFAILOK
 0128            CAF    35SECS          SET A WAITLIST CALL FOR 35 SECONDS
 0129            TC     WAITLIST         SO  THOSE SHAFTS WILL HAVE TIME TO GET
 0130            CADR   IMUZEROD        THERE.
 0131   MODEEXIT RELINT                 GENERAL EXIT FROM MODE SWITCH PROGS
 0132  2         TC     SWRETURN         WHICH LEAVES VIA SWCALL EXIT
 0133  2IMUZEROD TC     ZEROICTR        GO AND ZERO X, Y, AND Z COUNTERS
 0134            TC     KCHECK          SEE IF SYSTEM STILL FUNCTIONING OK.
 0135   MOREZERO TC     SETKANDC +1     CALL FOR 10 SECONDS OF FINE ALIGN TO
 0136            OCT    00050            ALLOW CDUS TO GO AT LEAST 90 DEGREES
 0137            OCT    40010            OF THE WAY HOME UNLESS THE PLATFORM IS
 0138            CAF    10SECS           SITTING AT ANY FALSE NULLS.
 0139            TC     WAITLIST
 0140            CADR   ZEROATTC        WE WILL GO INTO ATTITUTE CONTROL NEXT.
 0141  2         TC     TASKOVER
 0142   ZEROATTC TC     KCHECK          USUAL SYSTEM CHECK.
 0143            TC     SETKANDC +1     COMMAND ATTITUDE CONTROL (WITHOUT ATTC
 0144            OCT    00060            LAMP LIT) SO THAT WE CAN DRIVE THE CDUS
 0145            OCT    41000           (LIGHT ON AFTER ALL) AWAY FROM FALSE NUL
 0146            CAF    320MS
 0147            TC     WAITLIST
 0148            CADR   ZERODRVE        WAIT FOR MODE SWITCH BEFORE ENABLING CDU
 0149  8         TC     TASKOVER         DRIVE IN T4RUPT.
 0150   ZERODRVE TC     KCHECK          VERIFY SWITCH TO ATTITUDE CONTROL.
 0151            CAF    QUARTER         WE WILL DRIVE THE CDUS TOWARD 45 DEGREES
 0152            TS     THETAD           FOR 2SECS (ABOUT 10 DEGREES OF MOVEMENT
 0153            TS     THETAD +1        AT MOST). THIS WILL DRIVE ANY CDUS OFF
 0154            TS     THETAD +2        FALSE NULLS WITHOUT MOVING THE PLATFORM
 0155            CAF    ZERO
 0156            TS     CDUIND          CDU LOOPS ARE NOW ENABLED.
 0157            CAF    2SECS
 0158            TC     WAITLIST
 0159            CADR   REZFINE         GO BACK TO FINE ALIGN WHEN DONE.
 0160  2         TC     TASKOVER
 0161   REZFINE  TC     KCHECK          VERIFY MODE SWITCH AS USUAL.
 0162            TC     SETKANDC +1     CALL FOR 20 SECONDS OF FINE ALIGN TO
 0163            OCT    00050            ALLOW ENOUGH TIME FOR THE CDUS TO FIND
 0164            OCT    40010            THE GIMBALS.
 0165            CS     ONE
 0166            TS     CDUIND          CDU LOOPS NOW DISABLED.
 0167            CAF    20SECS
 0168            TC     WAITLIST
 0169            CADR   IMUFINED        CHECK FOR PRESENCE OF IMU OR CDU FAILS.
 0170  4         TC     TASKOVER
 0171   KCHECK   CCS    WASKSET         RETURN TO CALLER IF SYSTEM OK - SET UP
 0172            TC     Q                ERROR RETURN AT ENDIMU OTHERWISE.
 0173            TC     ENDIMU
 0174            TC     Q
 0175  2         TC     ENDIMU
 0176   90SECS   DEC    90.00 E 2
 0177   45SECS   DEC    45.00 E 2       TIME FOR IMUCDU COARSE ALIGN.
 0178   35SECS   DEC    35.00 E 2       TIME FOR IMUCDU ZERO ENCODER.
 0179   20SECS   DEC    20.00  E 2
 0180   10SECS   DEC    10.00  E 2
 0181   2SECS    DEC    2.00  E 2
 0182   320MS    DEC    .32 E2
P0183  2IMU COARSE ALIGN PROGRAM
 0184   IMUCOARS TC     SETKANDC        SET DESIRED C AND K RELAY SETTINGS.
 0185            OCT    00042             COMPUTER CONTROL + COARSE ALIGN.
 0186  2         OCT    40002             C RELAY COARSE ALIGN.
 0187  2         TC     SETZLIT         SERVICE THE ZERO ENCODER LAMP
 0188            CAF    320MS           SET WAITLIST CALL FOR 320 M.S. TO
 0189            TC     WAITLIST         ACCOMMODATE CONTACT BOUNCE + T4RUPT LAG
 0190            CADR   BEGINCOM
 0191  4         TC     MODEEXIT
 0192   RECOARSD CS     CDUX            GOING BACK INTO COARSE ALIGN FROM FINE
 0193            COM                    ALIGN. PUT CDU COUNTER VALUES INTO
 0194            TS     THETAD          DESIRED ANGLE REGISTERS AND ENABLE THE
 0195            CS     CDUY            T4RUPT CDU DRIVE.
 0196            COM
 0197            TS     THETAD +1
 0198            CS     CDUZ
 0199            COM
 0200  2         TS     THETAD +2
 0201   BEGINCOM TC     KCHECK          VERIFY CORRECTNESS OF PRESENT MODE.
 0202   STARTCRS CAF    ZERO            ENABLE CDU LOOP CLOSURE
 0203  2         TS     CDUIND
 0204            CAF    45SECS
 0205            TC     WAITLIST         CDU LOOPS TO SETTLE
 0206            CADR   COARSDON
 0207            TC     TASKOVER
P0208  2IMU FINE ALIGN PROGRAM
 0209   IMURECOR TC     SETKANDC        GO INTO COARSE ALIGN FROM FINE ALIGN.
 0210            OCT    00042           (SEE REMARKS ON RECOARSD FOR FURTHER
 0211            OCT    40002             DETAILS).
 0212            CAF    320MS           USUAL CONTACT CLOSURE AND SAMPLE TIME
 0213            TC     WAITLIST
 0214            CADR   RECOARSD
 0215  2         TC     DISEXIT         DISABLE GYRO ACTIVITY.
 0216   IMUFINE  TC     SETKANDC        SET UP C RELAY PATTERN AND DESIRED K
 0217            OCT    00050            DES K = COMPUTER CONTROL + FINE
 0218  2         OCT    40010                C = FINE ALIGN
 0219            CS     BIT4            COMES THROUGH HERE AFTER EVERY COARSE
 0220            MASK   OLDERR          ALIGN. SET BIT 4 OF OLDERR TO INHIBIT
 0221            AD     BIT4            IMU FAIL FOR ANOTHER 5 SECONDS.
 0222  2         TS     OLDERR
 0223            CAF    BIT10
 0224            TC     WAITLIST
 0225  2         CADR   IFAILOK
 0226            CAF    90SECS          SET WAITLIST CALL FOR 90 SEC. TO ALLOW
 0227            TC     WAITLIST         GYROS TO RE-CENTER BEFORE IRIG PULSE
 0228            CADR   IMUFINED         TORQUING
 0229   DISEXIT  CS     ONE             DISABLE T4 IMU (CDU OR GYRO) ACTIVITY.
 0230            TS     CDUIND
 0231  4         TC     MODEEXIT
 0232  2IMUFINNW TC     TSTIMACT
 02325           TC     SETKANDC
 0233            OCT    00050
 0234            OCT    40010
 0235            CAF    320MS
 0236  8         TC     DISEXIT -2
 0237   IMUFINED TC     FLAG1DWN
 02373 2         OCT    02000
 02376 2         TC     ENDIMU
 0238            CAF    BIT12           NO IMU FAILS, PLEASE.
 0239            MASK   OLDERR
 0240            CCS    A
 0241            TC     FAILEND
 0242  2         TC     GOODEND
 0243   IFAILOK  CS     BIT4            ENABLE IMU FAIL 5 SECONDS AFTER COMING
 0244            MASK   OLDERR          OUT OF COARSE ALIGN.
 0245            TS     OLDERR
 0246            TC     TASKOVER
P0247  2CDU LOCK PROGRAM
 0248   IMULOCK  TC     SETKANDC        SET APPROPRIATE K AND C CONFIGS.
 0249            OCT    00044
 0250  2         OCT    40004
 0251            CAF    320MS
 0252            TC     WAITLIST         PLACE.
 0253            CADR   IMULOCKD
 0254  2         TC     DISEXIT
 0255   IMULOCKD TC     ENDIMU
 0256  2         TC     GOODEND
 0257   COARSDON EQUALS IMULOCKD
P0258  2IMU RE-ENTRY AND ATTITUDE CONTROL PROGRAMS
 0259   IMUREENT TC     TSTIMACT
 02595           TC     SETKANDC
 0260            OCT    00140
 0261            OCT    42000
 0262  4         TC     ENABEXIT
 0263   IMUATTC  TC     TSTIMACT
 02635           TC     SETKANDC
 0264            OCT    00060
 0265  2         OCT    41000
 0266   ENABEXIT CAF    320MS
 0267            TC     WAITLIST
 0268            CADR   ENABLE
 0269  2         TC     DISEXIT         DISABLE POSSIBLE GYRO ACTIVITY.
 0270   ENABLE   TC     FLAG1DWN
 02703 2         OCT    02000
 02706 2         TC     ENDIMU
 0271            CAF    ZERO            ENABLE CDU LOOPS
 0272            TS     CDUIND
 0273            TC     GOODEND
A0274                                   NOTICE THAT NO INSPECTION OF CDU AND IMU
A0275                                   ERROR SIGNALS IS MADE SINCE IN THESE
A0276                                   MODES THE MAIN PROGRAM MUST CHECK THE
A0277  4                                STATUS OF THESE SIGNALS PERIODICALLY.
R0278            IMUFINIS - TO BE CALLED AT THE END OF COMPUTER-CONTROLLED MODE
 0279  9SWITCHING. PLACES MODE SAMPLING INTO
R0280   MANUAL CONTROL, SWITCHES THE SYSTEM TO FINE ALIGN, AND DISABLES THE T4RU
 0281  9PT CDU DRIVE. NO CALL TO IMUSTALL IS
R0282  2REQUIRED HERE.
 0283   IMUFINIS TC     SETKANDC
 0284            OCT    00000           0 MEANS COMPUTER IS NO LONGER IN CONTROL
 0285            OCT    40010           FINE ALIGN C-RELAY CODE.
 0286            TC     DISEXIT
P0287  2         SUBROUTINE USED BY MODE-SWITCHING PROGRAMS TO SET DESIRED K- AN
 0288  9D C-RELAY SETTINGS.
 0289   SETKANDC INHINT                 INHINT AND EXIT WITH INTERRUPT INHIBITED
 0290            INDEX  Q
 0291            CAF    0
 0292  2         TS     DESKSET         DESIRED K-RELAY SETTING AS READ IN IN3.
 0293            CAF    OFFMSK          SET C-RELAYS FOR ZERO ENCODER, COARSE
 0294            MASK   DSPTAB +11D       ALIGN, FINE ALIGN, LOCK CDU, ROLL
 0295            INDEX  Q                 RE-ENTRY, AND ATTITUDE CONTROL LAMP.
 0296            AD     1
 0297  2         TS     DSPTAB +11D
 0298            INDEX  Q
 0299  2         TC     2               RETURN TO CALLER IN INHINT.
 0300   OFFMSK   OCT    34760
P0301            WHEN A MODE-SWITCHING TASK IS DISPATCHED TO INDICATE THE END OF
 0302  9 A MODE-SWITCH, ENDIMU (OR ENDOPT) IS
R0303   CALLED TO WAKE UP ANY JOB IMUSTALL (OPTSTALL) MIGHT HAVE PUT TO SLEEP AN
 0304  9D THEN CHECK WASKSET (WASOPSET) TO SEE
R0305  2THAT THE MODE-SWITCH WAS SUCCESSFUL.
 0306   ENDOPT   CAF    TWO
 0307            AD     POSMAX
 0308  2         TS     OVCTR           SKIP WITH C(A) = 1.
 0309   ENDIMU   CAF    ZERO
 0310  2         TS     RUPTREG2        0 FOR IMU, 1 FOR OPTICS.
 0311            XCH    Q
 0312  2         TS     RUPTREG1
 0313            INDEX  RUPTREG2
 0314            CCS    MODECADR        SEE IF IMUSTALL (OPTSTALL) PUT A JOB
 0315            TC     +2              TO SLEEP.
 0316            TC     ENDMODE         +0 IF NOT.
 0317            CAF    ONE             SET PROPER MODECADR TO 1 TO INDICATE
 0318            INDEX  RUPTREG2        A JOB WAS AWAKENED.
 0319            XCH    MODECADR
 0320  2         TC     JOBWAKE
 0321   ENDMODE  INDEX  RUPTREG2        CHECK PROPER *WAS* REGISTER TO SEE IF
 0322            CCS    WASKSET          SWITCH WAS SUCCESSFUL.
 0323            TC     RUPTREG1        YES - RETURN FOR MORE CHECKING IF OK.
 0324            TC     +2              FAILED - STILL WAITING TO SWITCH.
 0325  2         TC     RUPTREG1        MANUAL INHIBIT.
 0326   FAILEND  INDEX  RUPTREG2        COMES HERE TO SIGNAL ERROR RETURN FROM
 0327            CCS    MODECADR         MODE STALL ROUTINES.
 0328            TC     +2              JOB WAS WAKENED EARLIER - EXIT W/O INCR.
 0329            COM                    NO WAKE-UP - SET MODECADR TO -0 FOR FAIL
 0330   LVENDMOD INDEX  RUPTREG2
 0331            TS     MODECADR
 0332  2         TC     TASKOVER
 0333   GOODEND  INDEX  RUPTREG2        COMES HERE TO SIGNAL A SUCCESSFUL SWITCH
 0334            CCS    MODECADR
 0335            TC     BUMPJOB         JOB WAS AWAKENED - INCREMENT LOC.
 0336            CS     ONE             NO WAKE - SET MODECADR TO -1 TO INDICATE
 0337  2         TC     LVENDMOD         SUCCESS.
 0338   BUMPJOB  INDEX  LOCCTR          ARRIVES WITH C(A) = 0. LOCCTR SET TO
 0339            XCH    LOC              AWAKENED JOB REGISTERS.
 0340            AD     MINUS1          LOC IS NEGATIVE FOR BASIC JOBS.
 0341            INDEX  LOCCTR
 0342            XCH    LOC
 0343            TC     LVENDMOD        SET MODECADR TO +0 AND EXIT.
P0344            WHEN A JOB WHICH REQUESTED A MODE SWITCH MUST IDLE UNTIL THE SW
 0345  9ITCH IS COMPLETE, IT COMES TO IMUSTALL
R0346   (OR OPTSTALL) TO WAIT FOR THE COMPLETION AND TO DO ERROR CHECKING. RETUR
 0347  9N IS TO THE LOCATION IMMEDIATELY FOLLOW-
R0348   ING THE CALLING SEQUENCE IF THE SWITCH WAS UNSUCCESSFUL, AND THE NEXT LO
 0349  9CATION IF IT WAS SUCCESSFUL. ANY
R0350  2IDLING IS DONE BY PUTTING THE JOB TO SLEEP, SO THAT A VAC AREA (IF USED)
 0351  9 WOULD BE PRESERVED.
 0352   OPTSTALL CAF    ONE             0 FOR IMU AND 1 FOR OPTICS AS USUAL.
 0353  2         TC     +2
 0354   IMUSTALL CAF    ZERO
 0355            INHINT                 ONE SUB-SYSTEM AT A TIME ONLY.
 0356            TS     RUPTREG2
 0357            INDEX  A
 0358            CCS    MODECADR        SEE IF MODE SWITCH IS COMPLETE.
 0359            TC     MODABORT        VERY ILL IF SOMEONE ALREADY WAITING.
 0360            TC     MODESLP         MODE SWITCH INCOMPLETE - PUT JOB TO REST
 0361  2         TC     MODEGOOD        -1 INDICATES A SUCCESSFULLY COMPLETED SW
 0362   MG2      INDEX  RUPTREG2        -0 MEANS FINISHED BUT FAILED.
 0363            TS     MODECADR        RESET TO +0.
 0364  2         TC     MODEEXIT        RELINT AND RETURN VIA SWCALL.
 0365   MODEGOOD CCS    A               SEE THAT MODECADR WAS INDEED -1.
 0366            TC     MODABORT        VERY ILL IF SOMEONE ALREADY WAITING.
 0367            XCH    TEMQS           INCREMENT RETURN TO INDICATE SUCCESS.
 0368            AD     ONE
 0369            XCH    TEMQS           BRING +0 BACK
 0370  2         TC     MG2             TO RESET MODECADR AND EXIT.
 0371   MODESLP  TC     MAKECADR        MAKE CADR FROM SWCALL RETUN ADDRESS.
 0372            XCH    ADDRWD
 0373            INDEX  RUPTREG2
 0374            TS     MODECADR
 0375  2         TC     JOBSLEEP
 0376   MODABORT TC     ABORT           IMU OR OPTSTALL ABORT.
 0377  2         OCT    01210
 0378   ENDSTALL EQUALS
P0379            THE FOLLOWING ROUTINE INCREMENTS IN 2S COMPLEMENT THE REGISTER
 0380  9WHOSE ADDRESS IS IN ADDRWD BY THE
R0381   QUANTITY FOUND IN TEM2.  THIS MAY BE USED TO INCREMENT DESIRED IMU AND O
 0382  9PTICS CDU ANGLES OR ANY OTHER 2S
R0383  2COMPLEMENT (+0 UNEQUAL TO -0) QUANTITY.
 0384   CDUINC   TS     TEM2            1S COMPLEMENT INCREMENT ARRIVING IN A.
 0385            INDEX  BUF
 0386            CCS    0               THE 16TH BIT OF A WILL BE USED TO
 0387            AD     ONE             ACHIEVE THE REQUIRED 32,768 DISTINCT
 0388  2         TC     +4              STATES.
 0389            AD     ONE
 0390            AD     ONE             A MAY HAVE OVERFLOW PRESENT HERE.
 0391  2         COM                    DESIRED -1 IF DESIRED WAS NEGATIVE.
 0392    +4      AD     TEM2            AND MAYBE OVERFLOW SOME MORE.
 0393            CCS    A               BACK TO 2S COMPLEMENT.
 0394            AD     ONE               NOTE THAT CCS TREATS A AS A 16 BIT NO.
 0395            TC     +2
 0396            COM
 0397            TS     OVCTR           REVERTS -0 TO +0.
 0398  2         TC     +4              NO OVERFLOW - PLANT NEW DESIRED.
 0399            INDEX  A               OVERFLOW - SIMULATE UN-CORRECTED SIGN.
 0400            CAF    LIMITS          37777 FOR NEGATIVE - 40000 IF PLUS.
 0401  2         AD     OVCTR           OVERFLOW-CORRECTED DIFFERENCE.
 0402    +4      INDEX  BUF
 0403  2         TS     0               NEW ANGLE.
 0404            TC     SWRETURN        RETURN TO CALLER.
P0405  2         MARK REQUESTING ROUTINES.
 0406   SXTMARK  INHINT
 0407  2         TS     RUPTREG1        NUMBER OF MARKS REQUESTED.
 0408            CCS    MARKSTAT        SEE IF MARK BUTTON ALREADY SNATCHED.
 0409            TC     +2              YES - ALARM AND END THE STRAY JOB.
 0410  2         TC     MARKOK          +0 INDICATES AVAILABLE.
 0411            TC     ALARM
 0412            OCT    00105
 0413  2         TC     ENDOFJOB
 0414   MARKOK   CCS    VAC1USE         FIND A VAC AREA TO STORE THE MARKS IN.
 0415            TC     MKVACFND
 0416            CCS    VAC2USE
 0417            TC     MKVACFND
 0418            CCS    VAC3USE
 0419            TC     MKVACFND
 0420            CCS    VAC4USE
 0421            TC     MKVACFND
 0422            CCS    VAC5USE
 0423  2         TC     MKVACFND
 0424            TC     ABORT           VAC AREAS ALL OCCUPIED - ABORT.
 0425  2         OCT    01207
 0426   MKVACFND AD     TWO             ADDRESS OF VAC.
 0427            TS     MARKSTAT
 0428            INDEX  A
 0429  2         TS     QPRET           USED TO SHOW NEXT AVAILABLE MARK SLOT.
 0430            CAF    ZERO            SHOW VACAREA IS OCCUPIED.
 0431            INDEX  MARKSTAT
 0432  2         TS     0 -1
 0433            CAF    BIT12           PLACE DESIRED NUMBER OF MARKS IN 12 - 14
 0434            EXTEND
 0435            MP     RUPTREG1
 0436            XCH    LP
 0437            AD     MARKSTAT        JUST CONTAINS LOW 9 BITS OF VAC ADDRESS.
 0438  2         TS     MARKSTAT
 0439   MARKEXIT CAF    PRIO32
 0440            TC     NOVAC
 0441            CADR   MKVB51
 0442            TC     MODEEXIT
P0443  2         MARK SYSTEM RELEASING ROUTINE.
 0444   MKRELEAS CAF    ZERO            SHOW MARK SYSTEM NOW AVAILABLE.
 0445            XCH    MARKSTAT
 0446            CCS    A
 0447            INDEX  A
 0448  2         TS     0
 0449            TC     SWRETURN
P0450  2         KEYRUPT LEAD-IN AND MARK/MARK ACCEPT PROGRAMS.
 0451   KEYRUPTA TS     BANKRUPT
 0452   MARK     CS     OPTY            PRECISION OPTICS DRIVE - GATHER DATA
 0453  2         TS     RUPTSTOR +5     IMMEDIATELY AND THEN TRANSFER TO VAC.
 0454            CS     OPTX            SHAFT OPTICS ENCODER.
 0455  2         TS     RUPTSTOR +3
 0456            CS     CDUY            READ INNER-MIDDLE-OUTER IMUCDUS.
 0457  2         TS     RUPTSTOR +2
 0458            CS     CDUZ
 0459  2         TS     RUPTSTOR +4
 0460            CS     CDUX
 0461  2         TS     RUPTSTOR +6
 0462  2         TC     READTIME +1     SPECIAL DP TIME COUNTER-READING ROUTINE.
 04621           CAF    BIT5            DO NOT ACCEPT KEYCODE UNLESS PREVIOUS
 04622           MASK   STATE           KEYCODE HAS DISAPPEARED FROM IN0 (SEE
 04623           CCS    A               T4RUPTA). IF SO, BIT5 OF STATE = 0.
 04624 2         TC     RESUME          IF NOT, BIT5 = 1.
 04625           CS     BIT5            ACCEPT CODE AND BLOCK KEYRUPTS UNTIL
 04626           MASK   STATE           PRESENT KEYCODE HAS GONE AWAY.
 04627           AD     BIT5
 04628 2         TS     STATE
 0463            CCS    IN0             SEE IF KEYCODE OR MARK.
 0464            AD     ONE
 0465            TC     KEYCALL
 0466  2         TC     +1              IN0 SHOULD NEVER CONTAIN -0.
 0467            XCH    IN3             NOW FIND OUT IF IT WAS A MARK-REJECT.
 0468            XCH    IN3
 0469            MASK   BIT12           OPT ZERO/MARK REJECT BIT.
 0470            CCS    A
 0471  8         TC     MKREJECT
 0472            CCS    MARKSTAT        SEE IF MARKS BEING CALLED FOR.
 0473  2         TC     MARK2
 0474            XCH    RUPTSTOR +3     STORE IN OBTAINED MPAC COMPLEMENTED.
 0475            TS     RUPTREG1        OPTICS ANGLES AND MINOR PART OF TIME.
 0476            XCH    RUPTSTOR +5     -OPTX, -OPTY, AND -TIME1.
 0477            TS     RUPTREG2
 0478            XCH    RUPTSTOR +1
 0479  2         TS     RUPTREG3
 0480            CAF    PRIO5           CALL SPECIAL DISPLAY JOB
 0481            TC     NOVAC
 0482  2         CADR   MARKDISP
 0483            XCH    RUPTREG1        PLANT INFORMATION IN MPAC OF REGISTER
 0484            INDEX  LOCCTR          SET.
 0485            TS     MPAC
 0486            XCH    RUPTREG2
 0487            INDEX  LOCCTR
 0488            TS     MPAC +1
 0489            XCH    RUPTREG3
 0490            INDEX  LOCCTR
 0491  2         TS     MPAC +2
 0492  8         TC     RESUME
 0493   MARK2    AD     74K             SEE IF ANY MORE MARKS CALLED FOR.
 0494            CCS    A
 0495            TC     MARK3
 0496   BIT10BAR OCT    -1000
 0497   BADMARK  TC     ALARM
 0498            OCT    00106
 0499  2         TC     RESUME          NO FURTHER ACTION HERE.
 0500   MARK3    AD     ONE             SET BIT 10 = 1 TO ENABLE MARK
 0501            MASK   BIT10BAR        REJECT.
 0502            AD     BIT10
 0503  2         TS     MARKSTAT
 0504            MASK   LOW9            SET UP REGISTER TRANSFER LOOP.
 0505            TS     RUPTREG2        ADVANCE POINTER IN QPRET.
 0506            INDEX  A
 0507            XCH    QPRET           PICK UP MARK SLOT-POINTER.
 0508            AD     SIX
 0509            TS     RUPTREG1
 0510            AD     ONE
 0511            INDEX  RUPTREG2
 0512            TS     QPRET
 0513  2         CAF    SIX             LOOP SEVEN TIMES.
 0514   READLOOP TS     RUPTREG2
 0515            INDEX  A
 0516            CS     RUPTSTOR
 0517            INDEX  RUPTREG1
 0518            TS     0
 0519            CCS    RUPTREG1        ADDRESS NEXT LOCATION IN VAC.
 0520            TS     RUPTREG1
 0521            CCS    RUPTREG2
 0522  2         TC     READLOOP
 0523            CAF    HI5             IF ALL REQUESTED MARKS MADE, CHANGE
 0524            MASK   MARKSTAT        DSKY TO VERB 50 FLASHING.
 0525            CCS    A
 0526            TC     RESUME
 0527            CAF    PRIO32
 0528            TC     NOVAC
 0529            CADR   MKVB50
 0530  8         TC     RESUME          DONE.
 0531   MKREJECT CCS    MARKSTAT        SEE IF MARKS BEING ACCEPTED.
 0532            TC     REJECT2
 0533            TC     ALARM           CURSE IF NOT.
 0534            OCT    00107
 0535  2         TC     TASKOVER        (UNTIL MK ACCEPT BUTTON AVAILABLE).
 0536   REJECT2  CS     BIT10           SEE IF MARK HAD BEEN MADE SINCE LAST
 0537            MASK   MARKSTAT        MARK REJECT, AND SET BIT 10 TO ZERO TO
 0538            XCH    MARKSTAT        SHOW MARK REJECT.
 0539            MASK   BIT10
 0540            CCS    A
 0541  2         TC     REJECT3
 0542            TC     ALARM           DONT ACCEPT TWO MARK REJECTS TOGETHER.
 0543            OCT    00110
 0544  2         TC     TASKOVER        (UNTIL MK REJECT BUTTON AVAILABLE).
 0545   REJECT3  CAF    LOW9            DECREMENT POINTER TO REJECT MARK.
 0546            MASK   MARKSTAT
 0547            TS     ITEMP1
 0548            CS     SEVEN
 0549            INDEX  ITEMP1
 0550            AD     QPRET
 0551            INDEX  ITEMP1
 0552  2         TS     QPRET           NEW POINTER.
 0553            CAF    BIT12           INCREMENT MARKS-TO-BE-ACCEPTED FIELD
 0554            AD     MARKSTAT        AND IF FIELD IS NOW NON-ZERO, CHANGE
 0555            XCH    MARKSTAT        DSKY TO VERB 51 FLASHING TO INDICATE
 0556            MASK   HI5             MORE MARKS REQUIRED.
 0557            CCS    A
 0558            TC     TASKOVER        (UNTIL BUTTON AVAIL.)
 0559            CAF    PRIO32
 0560            TC     NOVAC
 0561            CADR   REMKVB51
 0562  8         TC     TASKOVER
 0563   MARKDISP TC     GRABDSP         SPECIAL JOB TO DISPLAY UNCALLED-FOR MARK
 0564  2         TC     PREGBSY
 0565   REMKDSP  CS     MPAC            THE MPAC REGISTERS CONTIN -OPTX, -OPTY,
 0566            TS     DSPTEM1
 0567            CS     MPAC +1
 0568            TS     DSPTEM1 +1
 0569            CS     MPAC +2
 0570            TS     DSPTEM2
 0571            CAF    ZERO
 0572  2         TS     DSPTEM1 +2
 0573            CAF    MKDSPCOD        NOUN-VERB FOR MARK DISPLAY.
 0574            TC     NVSUB
 0575  2         TC     MKDSPBSY        IF BUSY.
 0576  2ENDMKDSP TC     FREEDSP
 0577  2         TC     ENDOFJOB
 0578   MKDSPBSY CAF    LREMKDSP        TAKE DATA OUT OF MPAC WHEN RE-AWAKENED.
 0579  2         TC     NVSUBUSY
 0580   MKDSPCOD OCT    00656
 0581  2LREMKDSP CADR   REMKDSP
 0582   KEYCALL  TC     POSTJUMP        GO TO KEYBOARD/DISPLAY BANK WITH A
 0583  2         CADR   KEYRUPTC        GO THRU STANDARD LOC.
 0584  274K      OCT    74000
 0585   SCTMARK  EQUALS SXTMARK
P0586  2         KEYBOARD AND DISPLAY ROUTINES FOR MARK PROCEDURES.
R0587  2         FLASH VERB 51 WHEN WAITING FOR MARKS, CHANGING TO VERB 50 FLASH
 0588  9ING WHEN ALL ARE IN.
 0589   MKVB51   CAF    VB51            ASSUME USING PROGRAM HAS GRABBED DSP.
 0590            TC     NVSUB
 0591            TC     PRENVBSY
 0592            TC     BANKCALL
 0593            CADR   FLASHON
 0594            TC     ENDIDLE
 0595            TC     MKVB5X          DONT RESPOND TO PROCEED OR TERMINATE.
 0596  2         TC     MKVB5X
 0597            CAF    OCT76           ON ENTER, SEE IF DATA LOADED INSTEAD.
 0598            MASK   VERBREG
 0599            AD     -OCT50          VERBS 50 AND 51 CAUSE END MARK ROUTINES.
 0600            CCS    A
 0601            TC     MKVB5X          ON DATA LOAD, RE-DISPLAY ORIGINAL VERB.
 0602   -OCT50   OCT    -50
 0603  2         TC     MKVB5X
 0604            CAF    LOW9
 0605            MASK   MARKSTAT
 0606            TS     MARKSTAT        VAC ADR IN MARKSTAT AND NO. MARKS MADE
 0607            COM
 0608            INDEX  MARKSTAT        WILL BE LEFT IN QPRET.
 0609            AD     QPRET
 0610            EXTEND
 0611            MP     BIT12
 0612            AD     ONE
 0613            INDEX  MARKSTAT
 0614  2         TS     QPRET
 0615            INHINT                 GO SERVICE OPTSTALL INTERFACE WITH
 0616            CAF    ONE             USING PROGRAM.
 0617            TC     WAITLIST
 0618            CADR   ENDMARKS
 0619  8         TC     ENDOFJOB
 0620   MKVB5X   CAF    HI5             RE-DISPLAY VERB 51 IF MORE MARKS
 0621            MASK   MARKSTAT        WANTED AND VERB 50 IF ALL IN.
 0622            CCS    A
 0623            CAF    BIT7            (MAKES VERB 51).
 0624            AD     VB50
 0625  2         TC     MKVB51 +1
 0626   ENDMARKS TC     ENDOPT
 0627  2         TC     GOODEND
 0628   VB50     OCT    5000
 0629  2OCT76    OCT    76
R0630  2         ON RECEIPT OF LAST REQUESTED MARK, DISPLAY VERB 50 (STILL FLASH
 0631  9ING).
 0632   MKVB50   CAF    VB50
 0633            TS     NVTEMP          SPECIAL ENTRY TO NVSUB WHICH AVOIDS BUSY
 0634            TC     NVSUB +5        TEST.
 0635   VB51     OCT    5100
 0636  2         TC     ENDOFJOB
R0637  2         IF THE ABOVE IS REJECTED, REVERT TO VERB 51.
 0638   REMKVB51 CAF    VB51
 0639            TC     MKVB50 +1
P0640            THE FOLLOWING ROUTINE ALLOWS INTERLOCKING OF IMU COMPENSATION A
 0641  9ND CERTAIN IMU MODE CHANGES WHICH ARE
R0642  2MEANINGFUL AFTER THE IMU HAS BEEN ALIGNED. THESE INCLUDE IMUFINNW, IMUAT
 0643  9TC, AND IMUREENT.
 0644   TSTIMACT INHINT                 TEST IMU ACTIVITY BIT TO SEE IF GYROS
 0645            XCH    Q
 0646            TS     MPAC +2
 0647            CS     BIT11           BEING TORQUED NOW.
 0648            MASK   FLAGWRD1
 0649            AD     BIT11
 0650            XCH    FLAGWRD1
 0651            MASK   BIT11
 0652            CCS    A
 0653            TC     +2              IMU BUSY.
 0654  2         TC     MPAC +2         CHANNEL AVAILABLE - PROCEED AS USUAL.
 0655            XCH    BANKTEM         PUT THE JOB TO SLEEP FOR MAX TIME IT
 0656            TS     MPAC            SHOULD TAKE TO COMPENSATE.
 0657            XCH    TEMQS
 0658            TS     MPAC +1
 0659            CAF    320MS
 0660            TC     WAITLIST
 0661            CADR   IMACT2
 0662            CAF    LIMUACTW
 0663  2         TC     JOBSLEEP
R0664  2         WAKE UP THE JOB AND SET THE ACTIVITY FLAG.
 0665   IMACT2   CAF    LIMUACTW
 0666            TC     JOBWAKE
 0667            TC     FLAG1UP
 0668            OCT    02000
 0669  2         TC     TASKOVER
 0670  2LIMUACTW CADR   IMUACTW
 0671   IMUACTW  INHINT
 0672            XCH    MPAC            PROCEED WITH MODE SWITCH.
 0673            TS     BANKTEM
 0674            XCH    MPAC +1
 0675            TS     TEMQS
 0676            TC     MPAC +2
*       ENDOFJOB
